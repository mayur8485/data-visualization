(self.webpackChunkdata_visualization=self.webpackChunkdata_visualization||[]).push([[179],{834:(va,Ou,ve)=>{"use strict";function dt(e){return"function"==typeof e}function mt(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Oo=mt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function jt(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class zn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(dt(i))try{i()}catch(o){t=o instanceof Oo?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{As(o)}catch(s){t=t??[],s instanceof Oo?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Oo(t)}}add(t){var n;if(t&&t!==this)if(this.closed)As(t);else{if(t instanceof zn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&jt(n,t)}remove(t){const{_finalizers:n}=this;n&&jt(n,t),t instanceof zn&&t._removeParent(this)}}zn.EMPTY=(()=>{const e=new zn;return e.closed=!0,e})();const bt=zn.EMPTY;function ku(e){return e instanceof zn||e&&"closed"in e&&dt(e.remove)&&dt(e.add)&&dt(e.unsubscribe)}function As(e){dt(e)?e():e.unsubscribe()}const Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ki={setTimeout(e,t,...n){const{delegate:i}=ki;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ki;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ba(e){ki.setTimeout(()=>{const{onUnhandledError:t}=Ht;if(!t)throw e;t(e)})}function fr(){}const rn=wa("C",void 0,void 0);function wa(e,t,n){return{kind:e,value:t,error:n}}let Gn=null;function ko(e){if(Ht.useDeprecatedSynchronousErrorHandling){const t=!Gn;if(t&&(Gn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=Gn;if(Gn=null,n)throw i}}else e()}class Xo extends zn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ku(t)&&t.add(this)):this.destination=Mr}static create(t,n,i){return new es(t,n,i)}next(t){this.isStopped?Fu(function xs(e){return wa("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Fu(function bc(e){return wa("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Fu(rn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ta=Function.prototype.bind;function pr(e,t){return Ta.call(e,t)}class Ca{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){kn(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){kn(i)}else kn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){kn(n)}}}class es extends Xo{constructor(t,n,i){let r;if(super(),dt(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&pr(t.next,o),error:t.error&&pr(t.error,o),complete:t.complete&&pr(t.complete,o)}):r=t}this.destination=new Ca(r)}}function kn(e){Ht.useDeprecatedSynchronousErrorHandling?function Ms(e){Ht.useDeprecatedSynchronousErrorHandling&&Gn&&(Gn.errorThrown=!0,Gn.error=e)}(e):ba(e)}function Fu(e,t){const{onStoppedNotification:n}=Ht;n&&ki.setTimeout(()=>n(e,t))}const Mr={closed:!0,next:fr,error:function Ki(e){throw e},complete:fr},Lu="function"==typeof Symbol&&Symbol.observable||"@@observable";function pn(e){return e}function Ye(e){return 0===e.length?pn:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let At=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const o=function Di(e){return e&&e instanceof Xo||function on(e){return e&&dt(e.next)&&dt(e.error)&&dt(e.complete)}(e)&&ku(e)}(n)?n:new es(n,i,r);return ko(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=qe(i))((r,o)=>{const s=new es({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[Lu](){return this}pipe(...n){return Ye(n)(this)}toPromise(n){return new(n=qe(n))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function qe(e){var t;return null!==(t=e??Ht.Promise)&&void 0!==t?t:Promise}const gi=mt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class e extends At{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Vt(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new gi}next(n){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:o}=this;return i||r?bt:(this.currentObservers=null,o.push(n),new zn(()=>{this.currentObservers=null,jt(o,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){const n=new At;return n.source=this,n}}return e.create=(t,n)=>new Vt(t,n),e})();class Vt extends $e{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:bt}}function ft(e){return dt(e?.lift)}function Ot(e){return t=>{if(ft(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(e,t,n,i,r){return new Vu(e,t,n,i,r)}class Vu extends Xo{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function at(e,t){return Ot((n,i)=>{let r=0;n.subscribe(Dt(i,o=>{i.next(e.call(t,o,r++))}))})}function Fn(e){return this instanceof Fn?(this.v=e,this):new Fn(e)}function _o(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function An(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Om(e){return dt(e?.then)}function km(e){return dt(e[Lu])}function Cc(e){return Symbol.asyncIterator&&dt(e?.[Symbol.asyncIterator])}function Fm(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lm=function Zb(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vm(e){return dt(e?.[Lm])}function Kr(e){return function Ps(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return",function s(y){return function(T){return Promise.resolve(T).then(y,g)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(y,T){i[y]&&(r[y]=function(I){return new Promise(function(C,S){o.push([y,I,C,S])>1||l(y,I)})},T&&(r[y]=T(r[y])))}function l(y,T){try{!function c(y){y.value instanceof Fn?Promise.resolve(y.value.v).then(h,g):m(o[0][2],y)}(i[y](T))}catch(I){m(o[0][3],I)}}function h(y){l("next",y)}function g(y){l("throw",y)}function m(y,T){y(T),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield Fn(n.read());if(r)return yield Fn(void 0);yield yield Fn(i)}}finally{n.releaseLock()}})}function Fe(e){return dt(e?.getReader)}function Wn(e){if(e instanceof At)return e;if(null!=e){if(km(e))return function Bm(e){return new At(t=>{const n=e[Lu]();if(dt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(cf(e))return function Um(e){return new At(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Om(e))return function jm(e){return new At(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ba)})}(e);if(Cc(e))return hf(e);if(Vm(e))return function df(e){return new At(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Fe(e))return function Aa(e){return hf(Kr(e))}(e)}throw Fm(e)}function hf(e){return new At(t=>{(function Hm(e,t){var n,i,r,o;return function Re(e,t,n,i){return new(n||(n=Promise))(function(o,s){function a(h){try{c(i.next(h))}catch(g){s(g)}}function l(h){try{c(i.throw(h))}catch(g){s(g)}}function c(h){h.done?o(h.value):function r(o){return o instanceof n?o:new n(function(s){s(o)})}(h.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_o(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Fo(e,t,n,i=0,r=!1){const o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Zn(e,t,n=1/0){return dt(t)?Zn((i,r)=>at((o,s)=>t(i,o,r,s))(Wn(e(i,r))),n):("number"==typeof t&&(n=t),Ot((i,r)=>function Kb(e,t,n,i,r,o,s,a){const l=[];let c=0,h=0,g=!1;const m=()=>{g&&!l.length&&!c&&t.complete()},y=I=>c<i?T(I):l.push(I),T=I=>{o&&t.next(I),c++;let C=!1;Wn(n(I,h++)).subscribe(Dt(t,S=>{r?.(S),o?y(S):t.next(S)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const S=l.shift();s?Fo(t,s,()=>T(S)):T(S)}m()}catch(S){t.error(S)}}))};return e.subscribe(Dt(t,y,()=>{g=!0,m()})),()=>{a?.()}}(i,r,e,n)))}function xa(e=1/0){return Zn(pn,e)}const gr=new At(e=>e.complete());function $m(e){return e&&dt(e.schedule)}function ff(e){return e[e.length-1]}function Dc(e){return dt(ff(e))?e.pop():void 0}function ju(e){return $m(ff(e))?e.pop():void 0}function Hu(e,t=0){return Ot((n,i)=>{n.subscribe(Dt(i,r=>Fo(i,e,()=>i.next(r),t),()=>Fo(i,e,()=>i.complete(),t),r=>Fo(i,e,()=>i.error(r),t)))})}function Ma(e,t=0){return Ot((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function gn(e,t){if(!e)throw new Error("Iterable cannot be null");return new At(n=>{Fo(n,t,()=>{const i=e[Symbol.asyncIterator]();Fo(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Tn(e,t){return t?function Ra(e,t){if(null!=e){if(km(e))return function zm(e,t){return Wn(e).pipe(Ma(t),Hu(t))}(e,t);if(cf(e))return function $u(e,t){return new At(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(Om(e))return function Gm(e,t){return Wn(e).pipe(Ma(t),Hu(t))}(e,t);if(Cc(e))return gn(e,t);if(Vm(e))return function xt(e,t){return new At(n=>{let i;return Fo(n,t,()=>{i=e[Lm](),Fo(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void n.error(s)}o?n.complete():n.next(r)},0,!0)}),()=>dt(i?.return)&&i.return()})}(e,t);if(Fe(e))return function Ic(e,t){return gn(Kr(e),t)}(e,t)}throw Fm(e)}(e,t):Wn(e)}class Ue extends $e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function xe(...e){return Tn(e,ju(e))}function Ac(e={}){const{connector:t=(()=>new $e),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=l=void 0,h=g=!1},T=()=>{const I=s;y(),I?.unsubscribe()};return Ot((I,C)=>{c++,!g&&!h&&m();const S=l=l??t();C.add(()=>{c--,0===c&&!g&&!h&&(a=Na(T,r))}),S.subscribe(C),!s&&c>0&&(s=new es({next:D=>S.next(D),error:D=>{g=!0,m(),a=Na(y,n,D),S.error(D)},complete:()=>{h=!0,m(),a=Na(y,i),S.complete()}}),Wn(I).subscribe(s))})(o)}}function Na(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new es({next:()=>{i.unsubscribe(),e()}});return Wn(t(...n)).subscribe(i)}function xn(e,t){return Ot((n,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();n.subscribe(Dt(i,l=>{r?.unsubscribe();let c=0;const h=o++;Wn(e(l,h)).subscribe(r=Dt(i,g=>i.next(t?t(l,g,h,c++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function pf(e,t=pn){return e=e??xc,Ot((n,i)=>{let r,o=!0;n.subscribe(Dt(i,s=>{const a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function xc(e,t){return e===t}function yt(e){for(let t in e)if(e[t]===yt)return t;throw Error("Could not find renamed property on target object.")}function Cn(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ln(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ln).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ks(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const zu=yt({__forward_ref__:yt});function ut(e){return e.__forward_ref__=ut,e.toString=function(){return ln(this())},e}function He(e){return Gu(e)?e():e}function Gu(e){return"function"==typeof e&&e.hasOwnProperty(zu)&&e.__forward_ref__===ut}function qu(e){return e&&!!e.\u0275providers}const Mc="https://g.co/ng/security#xss";class ue extends Error{constructor(t,n){super(function Fs(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ze(e){return"string"==typeof e?e:null==e?"":String(e)}function Kt(e,t){throw new ue(-201,!1)}function ze(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pc(e){return Ym(e,kc)||Ym(e,Jm)}function Ym(e,t){return e.hasOwnProperty(t)?e[t]:null}function Oc(e){return e&&(e.hasOwnProperty(Wu)||e.hasOwnProperty(vo))?e[Wu]:null}const kc=yt({\u0275prov:yt}),Wu=yt({\u0275inj:yt}),Jm=yt({ngInjectableDef:yt}),vo=yt({ngInjectorDef:yt});var pt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(pt||{});let Fc;function Lo(){return Fc}function Fi(e){const t=Fc;return Fc=e,t}function yf(e,t,n){const i=Pc(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&pt.Optional?null:void 0!==t?t:void Kt(ln(e))}const sn=globalThis;class ge{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fa={},bf="__NG_DI_FLAG__",La="ngTempTokenPath",o1=/\n/gm,Tf="__source";let Va;function _r(e){const t=Va;return Va=e,t}function a1(e,t=pt.Default){if(void 0===Va)throw new ue(-203,!1);return null===Va?yf(e,void 0,t):Va.get(e,t&pt.Optional?null:void 0,t)}function le(e,t=pt.Default){return(Lo()||a1)(He(e),t)}function ce(e,t=pt.Default){return le(e,Bc(t))}function Bc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ls(e){const t=[];for(let n=0;n<e.length;n++){const i=He(e[n]);if(Array.isArray(i)){if(0===i.length)throw new ue(900,!1);let r,o=pt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Uc(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(le(r,o))}else t.push(le(i))}return t}function Ba(e,t){return e[bf]=t,e.prototype[bf]=t,e}function Uc(e){return e[bf]}function Rr(e){return{toString:e}.toString()}var jc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(jc||{}),yr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yr||{});const bo={},it=[],Hc=yt({\u0275cmp:yt}),is=yt({\u0275dir:yt}),Cf=yt({\u0275pipe:yt}),wo=yt({\u0275mod:yt}),Nr=yt({\u0275fac:yt}),Ua=yt({__NG_ELEMENT_ID__:yt}),$c=yt({__NG_ENV_ID__:yt});function Ku(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function Yu(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{const o=r,s=n[++i];Vs(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function Qu(e){return 3===e||4===e||6===e}function Vs(e){return 64===e.charCodeAt(0)}function rs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||zc(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function zc(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const Ef="ng-template";function l1(e,t,n){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const s=e[i++];if(n&&"class"===o&&-1!==Ku(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Ju(e){return 4===e.type&&e.value!==Ef}function c1(e,t,n){return t===(4!==e.type||n?e.value:Ef)}function i_(e,t,n){let i=4;const r=e.attrs||[],o=function Gc(e){for(let t=0;t<e.length;t++)if(Qu(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!c1(e,l,n)||""===l&&1===t.length){if(Jr(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!l1(e.attrs,c,n)){if(Jr(i))return!1;s=!0}continue}const g=r_(8&i?"class":l,r,Ju(e),n);if(-1===g){if(Jr(i))return!1;s=!0;continue}if(""!==c){let m;m=g>o?"":r[g+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==Ku(y,c,0)||2&i&&c!==m){if(Jr(i))return!1;s=!0}}}}else{if(!s&&!Jr(i)&&!Jr(l))return!1;if(s&&Jr(l))continue;s=!1,i=l|1&i}}return Jr(i)||s}function Jr(e){return 0==(1&e)}function r_(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function d1(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function o_(e,t,n=!1){for(let i=0;i<t.length;i++)if(i_(e,t[i],n))return!0;return!1}function qc(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function s_(e,t){return e?":not("+t.trim()+")":t}function a_(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Jr(s)&&(t+=s_(o,r),r=""),i=s,o=o||!Jr(i);n++}return""!==r&&(t+=s_(o,r)),t}function zt(e){return Rr(()=>{const t=c_(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===jc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yr.Emulated,styles:e.styles||it,_:null,schemas:e.schemas||null,tView:null,id:""};If(n);const i=e.dependencies;return n.directiveDefs=el(i,!1),n.pipeDefs=el(i,!0),n.id=function h_(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function u_(e){return Tt(e)||Kn(e)}function l_(e){return null!==e}function Rt(e){return Rr(()=>({type:e.type,bootstrap:e.bootstrap||it,declarations:e.declarations||it,imports:e.imports||it,exports:e.exports||it,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Df(e,t){if(null==e)return bo;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}function be(e){return Rr(()=>{const t=c_(e);return If(t),t})}function Tt(e){return e[Hc]||null}function Kn(e){return e[is]||null}function ri(e){return e[Cf]||null}function Ji(e,t){const n=e[wo]||null;if(!n&&!0===t)throw new Error(`Type ${ln(e)} does not have '\u0275mod' property.`);return n}function c_(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||bo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||it,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Df(e.inputs,t),outputs:Df(e.outputs)}}function If(e){e.features?.forEach(t=>t(e))}function el(e,t){if(!e)return null;const n=t?ri:u_;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(l_)}const En=0,Ie=1,Je=2,cn=3,Xr=4,u=5,d=6,p=7,_=8,b=9,E=10,R=11,Z=12,J=13,oe=14,_e=15,je=16,et=17,mn=18,Mn=19,vr=20,Vn=21,Xi=22,tl=23,nl=24,gt=25,Sf=1,Af=2,Gt=7,Ha=9,mi=11;function Li(e){return Array.isArray(e)&&"object"==typeof e[Sf]}function Vi(e){return Array.isArray(e)&&!0===e[Sf]}function p1(e){return 0!=(4&e.flags)}function rl(e){return e.componentOffset>-1}function p_(e){return 1==(1&e.flags)}function Bo(e){return!!e.template}function g1(e){return 0!=(512&e[Je])}function ol(e,t){return e.hasOwnProperty(Nr)?e[Nr]:null}const $a=Symbol("SIGNAL");function jA(e,t){return(null===e||"object"!=typeof e)&&Object.is(e,t)}let Bi=null,g_=!1;function Co(e){const t=Bi;return Bi=e,t}const m_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function HA(e){if(g_)throw new Error("");if(null===Bi)return;const t=Bi.nextProducerIndex++;Wc(Bi),t<Bi.producerNode.length&&Bi.producerNode[t]!==e&&xf(Bi)&&v_(Bi.producerNode[t],Bi.producerIndexOfThis[t]),Bi.producerNode[t]!==e&&(Bi.producerNode[t]=e,Bi.producerIndexOfThis[t]=xf(Bi)?ZA(e,Bi,t):0),Bi.producerLastReadVersion[t]=e.version}function $A(e){if(!xf(e)||e.dirty){if(!e.producerMustRecompute(e)&&!qA(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function zA(e){if(void 0===e.liveConsumerNode)return;const t=g_;g_=!0;try{for(const n of e.liveConsumerNode)n.dirty||GA(n)}finally{g_=t}}function m1(){return!1!==Bi?.consumerAllowSignalWrites}function GA(e){e.dirty=!0,zA(e),e.consumerMarkedDirty?.(e)}function __(e){return e&&(e.nextProducerIndex=0),Co(e)}function y_(e,t){if(Co(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(xf(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)v_(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qA(e){Wc(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||($A(n),i!==n.version))return!0}return!1}function WA(e){if(Wc(e),xf(e))for(let t=0;t<e.producerNode.length;t++)v_(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ZA(e,t,n){if(KA(e),Wc(e),0===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=ZA(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function v_(e,t){if(KA(e),Wc(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)v_(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Wc(r),r.producerIndexOfThis[i]=t}}function xf(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function KA(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function YA(e,t){const n=Object.create(W4);n.computation=e,t?.equal&&(n.equal=t.equal);const i=()=>{if($A(n),HA(n),n.value===b_)throw n.error;return n.value};return i[$a]=n,i}const _1=Symbol("UNSET"),y1=Symbol("COMPUTING"),b_=Symbol("ERRORED"),W4=(()=>({...m_,value:_1,dirty:!0,error:null,equal:jA,producerMustRecompute:e=>e.value===_1||e.value===y1,producerRecomputeValue(e){if(e.value===y1)throw new Error("Detected cycle in computations.");const t=e.value;e.value=y1;const n=__(e);let i;try{i=e.computation()}catch(r){i=b_,e.error=r}finally{y_(e,n)}t!==_1&&t!==b_&&i!==b_&&e.equal(t,i)?e.value=t:(e.value=i,e.version++)}}))();let QA=function Z4(){throw new Error};function v1(){QA()}let b1=null;const Y4=(()=>({...m_,equal:jA,readonlyFn:void 0}))();function XA(e){e.version++,zA(e),b1?.()}function ex(e){const t=this[$a];m1()||v1(),t.equal(t.value,e)||(t.value=e,XA(t))}function Q4(e){m1()||v1(),ex.call(this,e(this[$a].value))}function J4(e){const t=this[$a];m1()||v1(),e(t.value),XA(t)}function X4(){const e=this[$a];if(void 0===e.readonlyFn){const t=()=>this();t[$a]=e,e.readonlyFn=t}return e.readonlyFn}const nx=()=>{},tz=(()=>({...m_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:nx}))();class nz{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Si(){return ix}function ix(e){return e.type.prototype.ngOnChanges&&(e.setInput=rz),iz}function iz(){const e=ox(this),t=e?.current;if(t){const n=e.previous;if(n===bo)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function rz(e,t,n,i){const r=this.declaredInputs[n],o=ox(e)||function oz(e,t){return e[rx]=t}(e,{previous:bo,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new nz(l&&l.currentValue,t,a===bo),e[i]=t}Si.ngInherit=!0;const rx="__ngSimpleChanges__";function ox(e){return e[rx]||null}const os=function(e,t,n){};function _n(e){for(;Array.isArray(e);)e=e[En];return e}function w_(e,t){return _n(t[e])}function Pr(e,t){return _n(t[e.index])}function ux(e,t){return e.data[t]}function eo(e,t){const n=t[e];return Li(n)?n:n[En]}function za(e,t){return null==t?null:e[t]}function lx(e){e[et]=0}function dz(e){1024&e[Je]||(e[Je]|=1024,dx(e,1))}function cx(e){1024&e[Je]&&(e[Je]&=-1025,dx(e,-1))}function dx(e,t){let n=e[cn];if(null===n)return;n[u]+=t;let i=n;for(n=n[cn];null!==n&&(1===t&&1===i[u]||-1===t&&0===i[u]);)n[u]+=t,i=n,n=n[cn]}function hx(e,t){if(256==(256&e[Je]))throw new ue(911,!1);null===e[Vn]&&(e[Vn]=[]),e[Vn].push(t)}const Ke={lFrame:Tx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function px(){return Ke.bindingsEnabled}function Kc(){return null!==Ke.skipHydrationRootTNode}function se(){return Ke.lFrame.lView}function Nt(){return Ke.lFrame.tView}function Yn(e){return Ke.lFrame.contextLView=e,e[_]}function Qn(e){return Ke.lFrame.contextLView=null,e}function Ui(){let e=gx();for(;null!==e&&64===e.type;)e=e.parent;return e}function gx(){return Ke.lFrame.currentTNode}function Mf(){const e=Ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ss(e,t){const n=Ke.lFrame;n.currentTNode=e,n.isParent=t}function C1(){return Ke.lFrame.isParent}function E1(){Ke.lFrame.isParent=!1}function br(){const e=Ke.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Yc(){return Ke.lFrame.bindingIndex++}function Hs(e){const t=Ke.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function yx(e){Ke.lFrame.inI18n=e}function Cz(e,t){const n=Ke.lFrame;n.bindingIndex=n.bindingRootIndex=e,D1(t)}function D1(e){Ke.lFrame.currentDirectiveIndex=e}function vx(){return Ke.lFrame.currentQueryIndex}function S1(e){Ke.lFrame.currentQueryIndex=e}function Dz(e){const t=e[Ie];return 2===t.type?t.declTNode:1===t.type?e[d]:null}function bx(e,t,n){if(n&pt.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&pt.Host||(r=Dz(o),null===r||(o=o[oe],10&r.type))););if(null===r)return!1;t=r,e=o}const i=Ke.lFrame=wx();return i.currentTNode=t,i.lView=e,!0}function A1(e){const t=wx(),n=e[Ie];Ke.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function wx(){const e=Ke.lFrame,t=null===e?null:e.child;return null===t?Tx(e):t}function Tx(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Cx(){const e=Ke.lFrame;return Ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ex=Cx;function x1(){const e=Cx();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wr(){return Ke.lFrame.selectedIndex}function sl(e){Ke.lFrame.selectedIndex=e}function Bn(){const e=Ke.lFrame;return ux(e.tView,e.selectedIndex)}let Ix=!0;function T_(){return Ix}function Ga(e){Ix=e}function C_(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=h&&(e.destroyHooks??=[]).push(n,h)}}function E_(e,t,n){Sx(e,t,3,n)}function D_(e,t,n,i){(3&e[Je])===n&&Sx(e,t,n,i)}function M1(e,t){let n=e[Je];(3&n)===t&&(n&=8191,n+=1,e[Je]=n)}function Sx(e,t,n,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&e[et]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[et]+=65536),(a<o||-1==o)&&(Pz(e,n,t,l),e[et]=(4294901760&e[et])+l+2),l++}function Ax(e,t){os(4,e,t);const n=Co(null);try{t.call(e)}finally{Co(n),os(5,e,t)}}function Pz(e,t,n,i){const r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];r?e[Je]>>13<e[et]>>16&&(3&e[Je])===t&&(e[Je]+=8192,Ax(a,o)):Ax(a,o)}const Qc=-1;class Rf{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function N1(e){return e!==Qc}function Nf(e){return 32767&e}function Pf(e,t){let n=function Lz(e){return e>>16}(e),i=t;for(;n>0;)i=i[oe],n--;return i}let P1=!0;function I_(e){const t=P1;return P1=e,t}const xx=255,Mx=5;let Vz=0;const as={};function S_(e,t){const n=Rx(e,t);if(-1!==n)return n;const i=t[Ie];i.firstCreatePass&&(e.injectorIndex=t.length,O1(i.data,e),O1(t,null),O1(i.blueprint,null));const r=A_(e,t),o=e.injectorIndex;if(N1(r)){const s=Nf(r),a=Pf(r,t),l=a[Ie].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function O1(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Rx(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function A_(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Vx(r),null===i)return Qc;if(n++,r=r[oe],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Qc}function k1(e,t,n){!function Bz(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ua)&&(i=n[Ua]),null==i&&(i=n[Ua]=Vz++);const r=i&xx;t.data[e+(r>>Mx)]|=1<<r}(e,t,n)}function Nx(e,t,n){if(n&pt.Optional||void 0!==e)return e;Kt()}function Px(e,t,n,i){if(n&pt.Optional&&void 0===i&&(i=null),!(n&(pt.Self|pt.Host))){const r=e[b],o=Fi(void 0);try{return r?r.get(t,i,n&pt.Optional):yf(t,i,n&pt.Optional)}finally{Fi(o)}}return Nx(i,0,n)}function Ox(e,t,n,i=pt.Default,r){if(null!==e){if(2048&t[Je]&&!(i&pt.Self)){const s=function Gz(e,t,n,i,r){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Je]&&!(512&s[Je]);){const a=kx(o,s,n,i|pt.Self,as);if(a!==as)return a;let l=o.parent;if(!l){const c=s[vr];if(c){const h=c.get(n,as,i);if(h!==as)return h}l=Vx(s),s=s[oe]}o=l}return r}(e,t,n,i,as);if(s!==as)return s}const o=kx(e,t,n,i,as);if(o!==as)return o}return Px(t,n,i,r)}function kx(e,t,n,i,r){const o=function Hz(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ua)?e[Ua]:void 0;return"number"==typeof t?t>=0?t&xx:zz:t}(n);if("function"==typeof o){if(!bx(t,e,i))return i&pt.Host?Nx(r,0,i):Px(t,n,i,r);try{let s;if(s=o(i),null!=s||i&pt.Optional)return s;Kt()}finally{Ex()}}else if("number"==typeof o){let s=null,a=Rx(e,t),l=Qc,c=i&pt.Host?t[_e][d]:null;for((-1===a||i&pt.SkipSelf)&&(l=-1===a?A_(e,t):t[a+8],l!==Qc&&Lx(i,!1)?(s=t[Ie],a=Nf(l),t=Pf(l,t)):a=-1);-1!==a;){const h=t[Ie];if(Fx(o,a,h.data)){const g=jz(a,t,n,s,i,c);if(g!==as)return g}l=t[a+8],l!==Qc&&Lx(i,t[Ie].data[a+8]===c)&&Fx(o,a,t)?(s=h,a=Nf(l),t=Pf(l,t)):a=-1}}return r}function jz(e,t,n,i,r,o){const s=t[Ie],a=s.data[e+8],h=x_(a,s,n,null==i?rl(a)&&P1:i!=s&&0!=(3&a.type),r&pt.Host&&o===a);return null!==h?al(t,s,h,a):as}function x_(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,h=o>>20,m=r?a+h:e.directiveEnd;for(let y=i?a:a+h;y<m;y++){const T=s[y];if(y<l&&n===T||y>=l&&T.type===n)return y}if(r){const y=s[l];if(y&&Bo(y)&&y.type===n)return l}return null}function al(e,t,n,i){let r=e[n];const o=t.data;if(function Oz(e){return e instanceof Rf}(r)){const s=r;s.resolving&&function Qb(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ue(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Mt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ze(e)}(o[n]));const a=I_(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Fi(s.injectImpl):null;bx(e,i,pt.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Nz(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=ix(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==c&&Fi(c),I_(a),s.resolving=!1,Ex()}}return r}function Fx(e,t,n){return!!(n[t+(e>>Mx)]&1<<e)}function Lx(e,t){return!(e&pt.Self||e&pt.Host&&t)}class Tr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Ox(this._tNode,this._lView,t,Bc(i),n)}}function zz(){return new Tr(Ui(),se())}function Jn(e){return Rr(()=>{const t=e.prototype.constructor,n=t[Nr]||F1(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[Nr]||F1(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function F1(e){return Gu(e)?()=>{const t=F1(He(e));return t&&t()}:ol(e)}function Vx(e){const t=e[Ie],n=t.type;return 2===n?t.declTNode:1===n?e[d]:null}function ul(e){return function Uz(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(Qu(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Ui(),e)}const Xc="__parameters__";function td(e,t,n){return Rr(()=>{const i=function L1(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const g=l.hasOwnProperty(Xc)?l[Xc]:Object.defineProperty(l,Xc,{value:[]})[Xc];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function id(e,t){e.forEach(n=>Array.isArray(n)?id(n,t):t(n))}function Ux(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function M_(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ff(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function to(e,t,n){let i=rd(e,t);return i>=0?e[1|i]=n:(i=~i,function Jz(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function V1(e,t){const n=rd(e,t);if(n>=0)return e[1|n]}function rd(e,t){return function jx(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}(e,t,1)}const U1=Ba(td("Inject",e=>({token:e})),-1),N_=Ba(td("Optional"),8),P_=Ba(td("SkipSelf"),4);function V_(e){return 128==(128&e.flags)}var qa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(qa||{});const y5=/^>|^->|<!--|-->|--!>|<!-$/g,v5=/(<|>)/g,b5="\u200b$1\u200b";const z1=new Map;let w5=0;const q1="__ngContext__";function er(e,t){Li(t)?(e[q1]=t[Mn],function C5(e){z1.set(e[Mn],e)}(t)):e[q1]=t}let W1;function Z1(e,t){return W1(e,t)}function Bf(e){const t=e[cn];return Vi(t)?t[cn]:t}function aM(e){return lM(e[Z])}function uM(e){return lM(e[Xr])}function lM(e){for(;null!==e&&!Vi(e);)e=e[Xr];return e}function ad(e,t,n,i,r){if(null!=i){let o,s=!1;Vi(i)?o=i:Li(i)&&(s=!0,i=i[En]);const a=_n(i);0===e&&null!==n?null==r?fM(t,n,a):ll(t,n,a,r||null,!0):1===e&&null!==n?ll(t,n,a,r||null,!0):2===e?function G_(e,t,n){const i=$_(e,t);i&&function H5(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function G5(e,t,n,i,r){const o=n[Gt];o!==_n(n)&&ad(t,e,i,o,r);for(let a=mi;a<n.length;a++){const l=n[a];jf(l[Ie],l,e,t,i,o)}}(t,e,o,n,r)}}function U_(e,t){return e.createText(t)}function K1(e,t){return e.createComment(function Xx(e){return e.replace(y5,t=>t.replace(v5,b5))}(t))}function j_(e,t,n){return e.createElement(t,n)}function dM(e,t){const n=e[Ha],i=n.indexOf(t);cx(t),n.splice(i,1)}function H_(e,t){if(e.length<=mi)return;const n=mi+t,i=e[n];if(i){const r=i[je];null!==r&&r!==e&&dM(r,i),t>0&&(e[n-1][Xr]=i[Xr]);const o=M_(e,mi+t);!function O5(e,t){jf(e,t,t[R],2,null,null),t[En]=null,t[d]=null}(i[Ie],i);const s=o[mn];null!==s&&s.detachView(o[Ie]),i[cn]=null,i[Xr]=null,i[Je]&=-129}return i}function Y1(e,t){if(!(256&t[Je])){const n=t[R];t[tl]&&WA(t[tl]),t[nl]&&WA(t[nl]),n.destroyNode&&jf(e,t,n,3,null,null),function L5(e){let t=e[Z];if(!t)return Q1(e[Ie],e);for(;t;){let n=null;if(Li(t))n=t[Z];else{const i=t[mi];i&&(n=i)}if(!n){for(;t&&!t[Xr]&&t!==e;)Li(t)&&Q1(t[Ie],t),t=t[cn];null===t&&(t=e),Li(t)&&Q1(t[Ie],t),n=t&&t[Xr]}t=n}}(t)}}function Q1(e,t){if(!(256&t[Je])){t[Je]&=-129,t[Je]|=256,function j5(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Rf)){const o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];os(4,a,l);try{l.call(a)}finally{os(5,a,l)}}else{os(4,r,o);try{o.call(r)}finally{os(5,r,o)}}}}}(e,t),function U5(e,t){const n=e.cleanup,i=t[p];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else n[o].call(i[n[o+1]]);null!==i&&(t[p]=null);const r=t[Vn];if(null!==r){t[Vn]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,t),1===t[Ie].type&&t[R].destroy();const n=t[je];if(null!==n&&Vi(t[cn])){n!==t[cn]&&dM(n,t);const i=t[mn];null!==i&&i.detachView(e)}!function E5(e){z1.delete(e[Mn])}(t)}}function J1(e,t,n){return hM(e,t.parent,n)}function hM(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[En];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===yr.None||o===yr.Emulated)return null}return Pr(i,n)}}function ll(e,t,n,i,r){e.insertBefore(t,n,i,r)}function fM(e,t,n){e.appendChild(t,n)}function pM(e,t,n,i,r){null!==i?ll(e,t,n,i,r):fM(e,t,n)}function $_(e,t){return e.parentNode(t)}function gM(e,t,n){return _M(e,t,n)}function mM(e,t,n){return 40&e.type?Pr(e,n):null}let X1,q_,iw,W_,_M=mM;function yM(e,t){_M=e,X1=t}function z_(e,t,n,i){const r=J1(e,i,t),o=t[R],a=gM(i.parent||t[d],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)pM(o,r,n[l],a,!1);else pM(o,r,n,a,!1);void 0!==X1&&X1(o,i,t,n,r)}function Uf(e,t){if(null!==t){const n=t.type;if(3&n)return Pr(t,e);if(4&n)return ew(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Uf(e,i);{const r=e[t.index];return Vi(r)?ew(-1,r):_n(r)}}if(32&n)return Z1(t,e)()||_n(e[t.index]);{const i=vM(e,t);return null!==i?Array.isArray(i)?i[0]:Uf(Bf(e[_e]),i):Uf(e,t.next)}}return null}function vM(e,t){return null!==t?e[_e][d].projection[t.projection]:null}function ew(e,t){const n=mi+e+1;if(n<t.length){const i=t[n],r=i[Ie].firstChild;if(null!==r)return Uf(i,r)}return t[Gt]}function tw(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&er(_n(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)tw(e,t,n.child,i,r,o,!1),ad(t,e,r,a,o);else if(32&l){const c=Z1(n,i);let h;for(;h=c();)ad(t,e,r,h,o);ad(t,e,r,a,o)}else 16&l?wM(e,t,i,n,r,o):ad(t,e,r,a,o);n=s?n.projectionNext:n.next}}function jf(e,t,n,i,r,o){tw(n,i,e.firstChild,t,r,o,!1)}function wM(e,t,n,i,r,o){const s=n[_e],l=s[d].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ad(t,e,r,l[c],o);else{let c=l;const h=s[cn];V_(i)&&(c.flags|=128),tw(e,t,c,h,r,o,!0)}}function TM(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function CM(e,t,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&Yu(e,t,i),null!==r&&TM(e,t,r),null!==o&&function W5(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function ud(e){return function nw(){if(void 0===q_&&(q_=null,sn.trustedTypes))try{q_=sn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return q_}()?.createHTML(e)||e}function ld(){if(void 0!==iw)return iw;if(typeof document<"u")return document;throw new ue(210,!1)}function IM(e){return function rw(){if(void 0===W_&&(W_=null,sn.trustedTypes))try{W_=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return W_}()?.createScriptURL(e)||e}class SM{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mc})`}}function Wa(e){return e instanceof SM?e.changingThisBreaksApplicationSecurity:e}function Hf(e,t){const n=function i8(e){return e instanceof SM&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Mc})`)}return n===t}class r8{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ud(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class o8{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=ud(t),n}}const a8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ow(e){return(e=String(e)).match(a8)?e:"unsafe:"+e}function $s(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function $f(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const xM=$s("area,br,col,hr,img,wbr"),MM=$s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RM=$s("rp,rt"),sw=$f(xM,$f(MM,$s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$f(RM,$s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$f(RM,MM)),aw=$s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),NM=$f(aw,$s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var cd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(cd||{});function OM(e){const t=zf();return t?t.sanitize(cd.URL,e)||"":Hf(e,"URL")?Wa(e):ow(Ze(e))}function kM(e){const t=zf();if(t)return IM(t.sanitize(cd.RESOURCE_URL,e)||"");if(Hf(e,"ResourceURL"))return IM(Wa(e));throw new ue(904,!1)}function zf(){const e=se();return e&&e[E].sanitizer}const cl=new ge("ENVIRONMENT_INITIALIZER"),LM=new ge("INJECTOR",-1),VM=new ge("INJECTOR_DEF_TYPES");class lw{get(t,n=Fa){if(n===Fa){const i=new Error(`NullInjectorError: No provider for ${ln(t)}!`);throw i.name="NullInjectorError",i}return n}}function b8(...e){return{\u0275providers:UM(0,e),\u0275fromNgModule:!0}}function UM(e,...t){const n=[],i=new Set;let r;const o=s=>{n.push(s)};return id(t,s=>{const a=s;K_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&jM(r,o),n}function jM(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:r}=e[n];cw(r,o=>{t(o,i)})}}function K_(e,t,n,i){if(!(e=He(e)))return!1;let r=null,o=Oc(e);const s=!o&&Tt(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=Oc(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)K_(c,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{id(o.imports,h=>{K_(h,t,n,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&jM(c,t)}if(!a){const c=ol(r)||(()=>new r);t({provide:r,useFactory:c,deps:it},r),t({provide:VM,useValue:r,multi:!0},r),t({provide:cl,useValue:()=>le(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=e;cw(l,h=>{t(h,c)})}}}return r!==e&&void 0!==e.providers}function cw(e,t){for(let n of e)qu(n)&&(n=n.\u0275providers),Array.isArray(n)?cw(n,t):t(n)}const w8=yt({provide:String,useValue:yt});function dw(e){return null!==e&&"object"==typeof e&&w8 in e}function dl(e){return"function"==typeof e}const hw=new ge("Set Injector scope."),Y_={},C8={};let fw;function Q_(){return void 0===fw&&(fw=new lw),fw}class kr{}class dd extends kr{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gw(t,s=>this.processProvider(s)),this.records.set(LM,hd(void 0,this)),r.has("environment")&&this.records.set(kr,hd(void 0,this));const o=this.records.get(hw);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(VM.multi,it,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=_r(this),i=Fi(void 0);try{return t()}finally{_r(n),Fi(i)}}get(t,n=Fa,i=pt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($c))return t[$c](this);i=Bc(i);const o=_r(this),s=Fi(void 0);try{if(!(i&pt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function A8(e){return"function"==typeof e||"object"==typeof e&&e instanceof ge}(t)&&Pc(t);l=c&&this.injectableDefInScope(c)?hd(pw(t),Y_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&pt.Self?Q_():this.parent).get(t,n=i&pt.Optional&&n===Fa?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[La]=a[La]||[]).unshift(ln(t)),o)throw a;return function u1(e,t,n,i){const r=e[La];throw t[Tf]&&r.unshift(t[Tf]),e.message=function ns(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=ln(t);if(Array.isArray(t))r=t.map(ln).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ln(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(o1,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[La]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Fi(s),_r(o)}}resolveInjectorInitializers(){const t=_r(this),n=Fi(void 0);try{const r=this.get(cl.multi,it,pt.Self);for(const o of r)o()}finally{_r(t),Fi(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(ln(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(t){let n=dl(t=He(t))?t:He(t&&t.provide);const i=function D8(e){return dw(e)?hd(void 0,e.useValue):hd(zM(e),Y_)}(t);if(dl(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=hd(void 0,Y_,!0),r.factory=()=>Ls(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Y_&&(n.value=C8,n.value=n.factory()),"object"==typeof n.value&&n.value&&function S8(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=He(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function pw(e){const t=Pc(e),n=null!==t?t.factory:ol(e);if(null!==n)return n;if(e instanceof ge)throw new ue(204,!1);if(e instanceof Function)return function E8(e){const t=e.length;if(t>0)throw Ff(t,"?"),new ue(204,!1);const n=function Qm(e){return e&&(e[kc]||e[Jm])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ue(204,!1)}function zM(e,t,n){let i;if(dl(e)){const r=He(e);return ol(r)||pw(r)}if(dw(e))i=()=>He(e.useValue);else if(function $M(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Ls(e.deps||[]));else if(function HM(e){return!(!e||!e.useExisting)}(e))i=()=>le(He(e.useExisting));else{const r=He(e&&(e.useClass||e.provide));if(!function I8(e){return!!e.deps}(e))return ol(r)||pw(r);i=()=>new r(...Ls(e.deps))}return i}function hd(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gw(e,t){for(const n of e)Array.isArray(n)?gw(n,t):n&&qu(n)?gw(n.\u0275providers,t):t(n)}const J_=new ge("AppId",{providedIn:"root",factory:()=>x8}),x8="ng",GM=new ge("Platform Initializer"),fd=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qM=new ge("CSP nonce",{providedIn:"root",factory:()=>ld().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WM=(e,t,n)=>null;function Cw(e,t,n=!1){return WM(e,t,n)}class B8{}class YM{}class j8{resolveComponentFactory(t){throw function U8(e){const t=Error(`No component factory found for ${ln(e)}.`);return t.ngComponent=e,t}(t)}}let ry=(()=>{class e{static#e=this.NULL=new j8}return e})();function H8(){return md(Ui(),se())}function md(e,t){return new qt(Pr(e,t))}let qt=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=H8}return e})();function $8(e){return e instanceof qt?e.nativeElement:e}class Iw{}let Fr=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function z8(){const e=se(),n=eo(Ui().index,e);return(Li(n)?n:e)[R]}()}return e})(),G8=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>null})}return e})();class Wf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const q8=new Wf("16.2.12"),Sw={};function tR(e,t=null,n=null,i){const r=nR(e,t,n,i);return r.resolveInjectorInitializers(),r}function nR(e,t=null,n=null,i,r=new Set){const o=[n||it,b8(e)];return i=i||("object"==typeof e?void 0:ln(e)),new dd(o,t||Q_(),i||null,r)}let Ai=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Fa;static#t=this.NULL=new lw;static create(n,i){if(Array.isArray(n))return tR({name:""},i,n,"");{const r=n.name??"";return tR({name:r},n.parent,n.providers,r)}}static#n=this.\u0275prov=me({token:e,providedIn:"any",factory:()=>le(LM)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Aw(e){return e.ngOriginalError}class zs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Aw(t);for(;n&&Aw(n);)n=Aw(n);return n||null}}let Za=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=X8;static#t=this.__NG_ENV_ID__=n=>n}return e})();class J8 extends Za{constructor(t){super(),this._lView=t}onDestroy(t){return hx(this._lView,t),()=>function hz(e,t){if(null===e[Vn])return;const n=e[Vn].indexOf(t);-1!==n&&e[Vn].splice(n,1)}(this._lView,t)}}function X8(){return new J8(se())}function xw(e){return t=>{setTimeout(e,void 0,t)}}const Le=class eG extends $e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=xw(o),r&&(r=xw(r)),s&&(s=xw(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof zn&&t.add(a),a}};function rR(...e){}class vt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tG(){const e="function"==typeof sn.requestAnimationFrame;let t=sn[e?"requestAnimationFrame":"setTimeout"],n=sn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function rG(e){const t=()=>{!function iG(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(sn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rw(e),e.isCheckStableRunning=!0,Mw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(function sG(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(r,o,s,a);try{return oR(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),sR(e)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return oR(e),n.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),sR(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Rw(e),Mw(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vt.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(vt.isInAngularZone())throw new ue(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,nG,rR,rR);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const nG={};function Mw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function oR(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sR(e){e._nesting--,Mw(e)}class oG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const aR=new ge("",{providedIn:"root",factory:uR});function uR(){const e=ce(vt);let t=!0;return function Sc(...e){const t=ju(e),n=function Yb(e,t){return"number"==typeof ff(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?Wn(i[0]):xa(n)(Tn(i,t)):gr}(new At(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new At(r=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{vt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=e.onUnstable.subscribe(()=>{vt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ac()))}function Gs(e){return e instanceof Function?e():e}let Nw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>new e})}return e})();function Kf(e){for(;e;){e[Je]|=64;const t=Bf(e);if(g1(e)&&!t)return e;e=t}return null}const fR=new ge("",{providedIn:"root",factory:()=>!1});let sy=null;function _R(e,t){return e[t]??bR()}function yR(e,t){const n=bR();n.producerNode?.length&&(e[t]=sy,n.lView=e,sy=vR())}const mG={...m_,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Kf(e.lView)},lView:null};function vR(){return Object.create(mG)}function bR(){return sy??=vR(),sy}const tt={};function G(e){wR(Nt(),se(),wr()+e,!1)}function wR(e,t,n,i){if(!i)if(3==(3&t[Je])){const o=e.preOrderCheckHooks;null!==o&&E_(t,o,n)}else{const o=e.preOrderHooks;null!==o&&D_(t,o,0,n)}sl(n)}function H(e,t=pt.Default){const n=se();return null===n?le(e,t):Ox(Ui(),n,He(e),t)}function ay(e,t,n,i,r,o,s,a,l,c,h){const g=t.blueprint.slice();return g[En]=r,g[Je]=140|i,(null!==c||e&&2048&e[Je])&&(g[Je]|=2048),lx(g),g[cn]=g[oe]=e,g[_]=n,g[E]=s||e&&e[E],g[R]=a||e&&e[R],g[b]=l||e&&e[b]||null,g[d]=o,g[Mn]=function T5(){return w5++}(),g[Xi]=h,g[vr]=c,g[_e]=2==t.type?e[_e]:g,g}function vd(e,t,n,i,r){let o=e.data[t];if(null===o)o=Pw(e,t,n,i,r),function Tz(){return Ke.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const s=Mf();o.injectorIndex=null===s?-1:s.injectorIndex}return ss(o,!0),o}function Pw(e,t,n,i,r){const o=gx(),s=C1(),l=e.data[t]=function EG(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Kc()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}function Yf(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function CR(e,t,n,i,r){const o=_R(t,tl),s=wr(),a=2&i;try{sl(-1),a&&t.length>gt&&wR(e,t,gt,!1),os(a?2:0,r);const c=a?o:null,h=__(c);try{null!==c&&(c.dirty=!1),n(i,r)}finally{y_(c,h)}}finally{a&&null===t[tl]&&yR(t,tl),sl(s),os(a?3:1,r)}}function Ow(e,t,n){if(p1(t)){const i=Co(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Co(i)}}}function kw(e,t,n){px()&&(function RG(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;rl(n)&&function VG(e,t,n){const i=Pr(t,e),r=ER(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=uy(e,ay(e,r,null,s,i,t,null,e[E].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=a}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||S_(n,t),er(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],c=al(t,e,a,n);er(c,t),null!==s&&BG(0,a-r,c,l,0,s),Bo(l)&&(eo(n.index,t)[_]=al(t,e,a,n))}}(e,t,n,Pr(n,t)),64==(64&n.flags)&&xR(e,t,n))}function Fw(e,t,n=Pr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function ER(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Lw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Lw(e,t,n,i,r,o,s,a,l,c,h){const g=gt+i,m=g+r,y=function yG(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:tt);return n}(g,m),T="function"==typeof c?c():c;return y[Ie]={type:e,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:h}}let DR=e=>null;function IR(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];null===i?SR(n,t,r,o):i.hasOwnProperty(r)&&SR(n,t,i[r],o)}return n}function SR(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function no(e,t,n,i,r,o,s,a){const l=Pr(t,n);let h,c=t.inputs;!a&&null!=c&&(h=c[i])?(Hw(e,n,h,i,r),rl(t)&&function SG(e,t){const n=eo(t,e);16&n[Je]||(n[Je]|=64)}(n,t.index)):3&t.type&&(i=function IG(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function Vw(e,t,n,i){if(px()){const r=null===i?null:{"":-1},o=function PG(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(o_(t,s.selectors,!1))if(i||(i=[]),Bo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Bw(e,t,a.length)}else i.unshift(s),Bw(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&AR(e,t,n,s,r,a),r&&function OG(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new ue(-301,!1);i.push(t[r],o)}}}(n,i,r)}n.mergedAttrs=rs(n.mergedAttrs,n.attrs)}function AR(e,t,n,i,r,o){for(let c=0;c<i.length;c++)k1(S_(n,t),e,i[c].type);!function FG(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Yf(e,t,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];n.mergedAttrs=rs(n.mergedAttrs,h.hostAttrs),LG(e,n,t,l,h),kG(l,h,r),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function DG(e,t,n){const r=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let h=t.directiveStart;h<r;h++){const g=o[h],m=n?n.get(g):null,T=m?m.outputs:null;l=IR(g.inputs,h,l,m?m.inputs:null),c=IR(g.outputs,h,c,T);const I=null===l||null===s||Ju(t)?null:UG(l,h,s);a.push(I)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function xR(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=function Ez(){return Ke.lFrame.currentDirectiveIndex}();try{sl(o);for(let a=i;a<r;a++){const l=e.data[a],c=t[a];D1(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&NG(l,c)}}finally{sl(-1),D1(s)}}function NG(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function kG(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Bo(t)&&(n[""]=e)}}function LG(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=ol(r.type)),s=new Rf(o,Bo(r),H);e.blueprint[i]=s,n[i]=s,function xG(e,t,n,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function MG(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,i,o)}}(e,t,i,Yf(e,n,r.hostVars,tt),r)}function us(e,t,n,i,r,o){const s=Pr(e,t);!function Uw(e,t,n,i,r,o,s){if(null==o)e.removeAttribute(t,r,n);else{const a=null==s?Ze(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}(t[R],s,o,e.value,n,i,r)}function BG(e,t,n,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)MR(i,n,s[a++],s[a++],s[a++])}function MR(e,t,n,i,r){const o=Co(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==e.setInput?e.setInput(t,r,n,i):t[i]=r}finally{Co(o)}}function UG(e,t,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function RR(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}function NR(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const s=e.data[o];S1(n[i]),s.contentQueries(2,t[o],o)}}}function uy(e,t){return e[Z]?e[J][Xr]=t:e[Z]=t,e[J]=t,t}function jw(e,t,n){S1(0);const i=Co(null);try{t(e,n)}finally{Co(i)}}function PR(e){return e[p]||(e[p]=[])}function OR(e){return e.cleanup||(e.cleanup=[])}function FR(e,t){const n=e[b],i=n?n.get(zs,null):null;i&&i.handleError(t)}function Hw(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];MR(e.data[s],t[s],i,a,r)}}function jG(e,t){const n=eo(t,e),i=n[Ie];!function HG(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const r=n[En];null!==r&&null===n[Xi]&&(n[Xi]=Cw(r,n[b])),$w(i,n,n[_])}function $w(e,t,n){A1(t);try{const i=e.viewQuery;null!==i&&jw(1,i,n);const r=e.template;null!==r&&CR(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&NR(e,t),e.staticViewQueries&&jw(2,e.viewQuery,n);const o=e.components;null!==o&&function $G(e,t){for(let n=0;n<t.length;n++)jG(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Je]&=-5,x1()}}let LR=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function ez(e,t,n){const i=Object.create(tz);n&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>GA(i),run:()=>{if(i.dirty=!1,i.hasRun&&!qA(i))return;i.hasRun=!0;const s=__(i);try{i.cleanupFn(),i.cleanupFn=nx,i.fn(r)}finally{y_(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>new e})}return e})();function ly(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=ks(r,a):2==o&&(i=ks(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function Qf(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];null!==o&&i.push(_n(o)),Vi(o)&&VR(o,i);const s=n.type;if(8&s)Qf(e,t,n.child,i);else if(32&s){const a=Z1(n,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=vM(t,n);if(Array.isArray(a))i.push(...a);else{const l=Bf(t[_e]);Qf(l[Ie],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function VR(e,t){for(let n=mi;n<e.length;n++){const i=e[n],r=i[Ie].firstChild;null!==r&&Qf(i[Ie],i,r,t)}e[Gt]!==e[En]&&t.push(e[Gt])}function cy(e,t,n,i=!0){const r=t[E],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{BR(e,t,e.template,n)}catch(l){throw i&&FR(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function BR(e,t,n,i){const r=t[Je];if(256!=(256&r)){t[E].effectManager?.flush(),A1(t);try{lx(t),function _x(e){return Ke.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&CR(e,t,n,2,i);const s=3==(3&r);if(s){const c=e.preOrderCheckHooks;null!==c&&E_(t,c,null)}else{const c=e.preOrderHooks;null!==c&&D_(t,c,0,null),M1(t,0)}if(function qG(e){for(let t=aM(e);null!==t;t=uM(t)){if(!t[Af])continue;const n=t[Ha];for(let i=0;i<n.length;i++){dz(n[i])}}}(t),UR(t,2),null!==e.contentQueries&&NR(e,t),s){const c=e.contentCheckHooks;null!==c&&E_(t,c)}else{const c=e.contentHooks;null!==c&&D_(t,c,1),M1(t,1)}!function _G(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=_R(t,nl);try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)sl(~o);else{const s=o,a=n[++r],l=n[++r];Cz(a,s),i.dirty=!1;const c=__(i);try{l(2,t[s])}finally{y_(i,c)}}}}finally{null===t[nl]&&yR(t,nl),sl(-1)}}(e,t);const a=e.components;null!==a&&HR(t,a,0);const l=e.viewQuery;if(null!==l&&jw(2,l,i),s){const c=e.viewCheckHooks;null!==c&&E_(t,c)}else{const c=e.viewHooks;null!==c&&D_(t,c,2),M1(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Je]&=-73,cx(t)}finally{x1()}}}function UR(e,t){for(let n=aM(e);null!==n;n=uM(n))for(let i=mi;i<n.length;i++)jR(n[i],t)}function WG(e,t,n){jR(eo(t,e),n)}function jR(e,t){if(!function lz(e){return 128==(128&e[Je])}(e))return;const n=e[Ie],i=e[Je];if(80&i&&0===t||1024&i||2===t)BR(n,e,n.template,e[_]);else if(e[u]>0){UR(e,1);const r=n.components;null!==r&&HR(e,r,1)}}function HR(e,t,n){for(let i=0;i<t.length;i++)WG(e,t[i],n)}class Jf{get rootNodes(){const t=this._lView,n=t[Ie];return Qf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_]}set context(t){this._lView[_]=t}get destroyed(){return 256==(256&this._lView[Je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[cn];if(Vi(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(H_(t,i),M_(n,i))}this._attachedToViewContainer=!1}Y1(this._lView[Ie],this._lView)}onDestroy(t){hx(this._lView,t)}markForCheck(){Kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Je]&=-129}reattach(){this._lView[Je]|=128}detectChanges(){cy(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function F5(e,t){jf(e,t,t[R],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=t}}class ZG extends Jf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;cy(t[Ie],t,t[_],!1)}checkNoChanges(){}get context(){return null}}class $R extends ry{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Tt(t);return new Xf(n,this.ngModule)}}function zR(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class YG{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Bc(i);const r=this.injector.get(t,Sw,i);return r!==Sw||n===Sw?r:this.parentInjector.get(t,n,i)}}class Xf extends YM{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=zR(t.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return zR(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function h1(e){return e.map(a_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof kr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new YG(t,o):t,a=s.get(Iw,null);if(null===a)throw new ue(407,!1);const g={rendererFactory:a,sanitizer:s.get(G8,null),effectManager:s.get(LR,null),afterRenderEventManager:s.get(Nw,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=i?function vG(e,t,n,i){const o=i.get(fR,!1)||n===yr.ShadowDom,s=e.selectRootElement(t,o);return function bG(e){DR(e)}(s),s}(m,i,this.componentDef.encapsulation,s):j_(m,y,function KG(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(y)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==T&&(D=Cw(T,s,!0));const F=Lw(0,null,null,1,0,null,null,null,null,null,null),B=ay(null,F,null,S,null,null,g,m,s,null,D);let W,te;A1(B);try{const O=this.componentDef;let x,P=null;O.findHostDirectiveDefs?(x=[],P=new Map,O.findHostDirectiveDefs(O,x,P),x.push(O)):x=[O];const k=function JG(e,t){const n=e[Ie],i=gt;return e[i]=t,vd(n,i,2,"#host",null)}(B,T),N=function XG(e,t,n,i,r,o,s){const a=r[Ie];!function e6(e,t,n,i){for(const r of e)t.mergedAttrs=rs(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(ly(t,t.mergedAttrs,!0),null!==n&&CM(i,n,t))}(i,e,t,s);let l=null;null!==t&&(l=Cw(t,r[b]));const c=o.rendererFactory.createRenderer(t,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=ay(r,ER(n),null,h,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Bw(a,e,i.length-1),uy(r,g),r[e.index]=g}(k,T,O,x,B,g,m);te=ux(F,gt),T&&function n6(e,t,n,i){if(i)Yu(e,n,["ng-version",q8.full]);else{const{attrs:r,classes:o}=function Xu(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Jr(r))break;r=o}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&Yu(e,n,r),o&&o.length>0&&TM(e,n,o.join(" "))}}(m,O,T,i),void 0!==n&&function i6(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(te,this.ngContentSelectors,n),W=function t6(e,t,n,i,r,o){const s=Ui(),a=r[Ie],l=Pr(s,r);AR(a,r,s,n,null,i);for(let h=0;h<n.length;h++)er(al(r,a,s.directiveStart+h,s),r);xR(a,r,s),l&&er(l,r);const c=al(r,a,s.directiveStart+s.componentOffset,s);if(e[_]=r[_]=c,null!==o)for(const h of o)h(c,t);return Ow(a,s,e),c}(N,O,x,P,B,[r6]),$w(F,B,null)}finally{x1()}return new QG(this.componentType,W,md(te,B),B,te)}}class QG extends B8{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ZG(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Hw(o[Ie],o,r,t,n),this.previousInputValues.set(t,n),Kf(eo(this._tNode.index,o))}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function r6(){const e=Ui();C_(se()[Ie],e)}function Yt(e){let t=function GR(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(Bo(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ue(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const s=e;s.inputs=dy(e.inputs),s.inputTransforms=dy(e.inputTransforms),s.declaredInputs=dy(e.declaredInputs),s.outputs=dy(e.outputs);const a=r.hostBindings;a&&u6(e,a);const l=r.viewQuery,c=r.contentQueries;if(l&&s6(e,l),c&&a6(e,c),Cn(e.inputs,r.inputs),Cn(e.declaredInputs,r.declaredInputs),Cn(e.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Cn(s.inputTransforms,r.inputTransforms)),Bo(r)&&r.data.animation){const h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Yt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function o6(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=rs(r.hostAttrs,n=rs(n,r.hostAttrs))}}(i)}function dy(e){return e===bo?{}:e===it?[]:e}function s6(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function a6(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function u6(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}function ep(e){return t=>{t.findHostDirectiveDefs=qR,t.hostDirectives=(Array.isArray(e)?e:e()).map(n=>"function"==typeof n?{directive:He(n),inputs:bo,outputs:bo}:{directive:He(n.directive),inputs:WR(n.inputs),outputs:WR(n.outputs)})}}function qR(e,t,n){if(null!==e.hostDirectives)for(const i of e.hostDirectives){const r=Kn(i.directive);h6(r.declaredInputs,i.inputs),qR(r,t,n),n.set(r,i),t.push(r)}}function WR(e){if(void 0===e||0===e.length)return bo;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function h6(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])}function KR(e){const t=e.inputConfig,n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(n[i]=r[2])}e.inputTransforms=n}function hy(e){return!!function zw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ls(e,t,n){return e[t]=n}function tr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function hl(e,t,n,i){const r=tr(e,t,n);return tr(e,t+1,i)||r}function Qt(e,t,n,i){const r=se();return tr(r,Yc(),t)&&(Nt(),us(Bn(),r,e,t,n,i)),Qt}function fe(e,t,n,i,r,o,s,a){const l=se(),c=Nt(),h=e+gt,g=c.firstCreatePass?function N6(e,t,n,i,r,o,s,a,l){const c=t.consts,h=vd(t,e,4,s||null,za(c,a));Vw(t,n,h,za(c,l)),C_(t,h);const g=h.tView=Lw(2,h,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,h),g.queries=t.queries.embeddedTView(h)),h}(h,c,l,t,n,i,r,o,s):c.data[h];ss(g,!1);const m=uN(c,l,g,e);T_()&&z_(c,l,m,g),er(m,l),uy(l,l[h]=RR(m,l,m,g)),p_(g)&&kw(c,l,g),null!=s&&Fw(l,g,a)}let uN=function lN(e,t,n,i){return Ga(!0),t[R].createComment("")};function Io(e){return function Zc(e,t){return e[t]}(function wz(){return Ke.lFrame.contextLView}(),gt+e)}function $(e,t,n){const i=se();return tr(i,Yc(),t)&&no(Nt(),Bn(),i,e,t,i[R],n,!1),$}function Yw(e,t,n,i,r){const s=r?"class":"style";Hw(e,n,t.inputs[s],s,i)}function z(e,t,n,i){const r=se(),o=Nt(),s=gt+e,a=r[R],l=o.firstCreatePass?function F6(e,t,n,i,r,o){const s=t.consts,l=vd(t,e,2,i,za(s,r));return Vw(t,n,l,za(s,o)),null!==l.attrs&&ly(l,l.attrs,!1),null!==l.mergedAttrs&&ly(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,n,i):o.data[s],c=cN(o,r,l,a,t,e);r[s]=c;const h=p_(l);return ss(l,!0),CM(a,c,l),32!=(32&l.flags)&&T_()&&z_(o,r,c,l),0===function fz(){return Ke.lFrame.elementDepthCount}()&&er(c,r),function pz(){Ke.lFrame.elementDepthCount++}(),h&&(kw(o,r,l),Ow(o,l,r)),null!==i&&Fw(r,l),z}function U(){let e=Ui();C1()?E1():(e=e.parent,ss(e,!1));const t=e;(function mz(e){return Ke.skipHydrationRootTNode===e})(t)&&function bz(){Ke.skipHydrationRootTNode=null}(),function gz(){Ke.lFrame.elementDepthCount--}();const n=Nt();return n.firstCreatePass&&(C_(n,e),p1(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function kz(e){return 0!=(8&e.flags)}(t)&&Yw(n,t,se(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Fz(e){return 0!=(16&e.flags)}(t)&&Yw(n,t,se(),t.stylesWithoutHost,!1),U}function Ge(e,t,n,i){return z(e,t,n,i),U(),Ge}let cN=(e,t,n,i,r,o)=>(Ga(!0),j_(i,r,function Dx(){return Ke.lFrame.currentNamespace}()));function Qw(e,t,n){const i=se(),r=Nt(),o=e+gt,s=r.firstCreatePass?function B6(e,t,n,i,r){const o=t.consts,s=za(o,i),a=vd(t,e,8,"ng-container",s);return null!==s&&ly(a,s,!0),Vw(t,n,a,za(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];ss(s,!0);const a=dN(r,i,s,e);return i[o]=a,T_()&&z_(r,i,a,s),er(a,i),p_(s)&&(kw(r,i,s),Ow(r,s,i)),null!=n&&Fw(i,s),Qw}function Jw(){let e=Ui();const t=Nt();return C1()?E1():(e=e.parent,ss(e,!1)),t.firstCreatePass&&(C_(t,e),p1(e)&&t.queries.elementEnd(e)),Jw}function Xw(e,t,n){return Qw(e,t,n),Jw(),Xw}let dN=(e,t,n,i)=>(Ga(!0),K1(t[R],""));function di(){return se()}function op(e){return!!e&&"function"==typeof e.then}function hN(e){return!!e&&"function"==typeof e.subscribe}function We(e,t,n,i){const r=se(),o=Nt(),s=Ui();return function pN(e,t,n,i,r,o,s){const a=p_(i),c=e.firstCreatePass&&OR(e),h=t[_],g=PR(t);let m=!0;if(3&i.type||s){const I=Pr(i,t),C=s?s(I):I,S=g.length,D=s?B=>s(_n(B[i.index])):i.index;let F=null;if(!s&&a&&(F=function H6(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===n&&r[o+1]===i){const a=t[p],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,m=!1;else{o=mN(i,t,h,o,!1);const B=n.listen(C,r,o);g.push(o,B),c&&c.push(r,D,S,S+1)}}else o=mN(i,t,h,o,!1);const y=i.outputs;let T;if(m&&null!==y&&(T=y[r])){const I=T.length;if(I)for(let C=0;C<I;C+=2){const W=t[T[C]][T[C+1]].subscribe(o),te=g.length;g.push(o,W),c&&c.push(r,i.index,te,-(te+1))}}}(o,r,r[R],s,e,t,i),We}function gN(e,t,n,i){try{return os(6,t,n),!1!==n(i)}catch(r){return FR(e,r),!1}finally{os(7,t,n)}}function mN(e,t,n,i,r){return function o(s){if(s===Function)return i;Kf(e.componentOffset>-1?eo(e.index,t):t);let l=gN(t,n,i,s),c=o.__ngNextListenerFn__;for(;c;)l=gN(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Ae(e=1){return function Iz(e){return(Ke.lFrame.contextLView=function Sz(e,t){for(;e>0;)t=t[oe],e--;return t}(e,Ke.lFrame.contextLView))[_]}(e)}function $6(e,t){let n=null;const i=function To(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?o_(e,o,!0):qc(i,o))return r}else n=r}return n}function eT(e){const t=se()[_e][d];if(!t.projection){const i=t.projection=Ff(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=e?$6(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function tT(e,t=0,n){const i=se(),r=Nt(),o=vd(r,gt+e,16,null,n||null);null===o.projection&&(o.projection=t),E1(),(!i[Xi]||Kc())&&32!=(32&o.flags)&&function z5(e,t,n){wM(t[R],0,t,n,J1(e,n,t),gM(n.parent||t[d],n,t))}(r,i,o)}function yy(e,t){return e<<17|t<<2}function Ka(e){return e>>17&32767}function iT(e){return 2|e}function fl(e){return(131068&e)>>2}function rT(e,t){return-131069&e|t<<2}function oT(e){return 1|e}function DN(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?Ka(o):fl(o),l=!1;for(;0!==a&&(!1===l||s);){const h=e[a+1];K6(e[a],t)&&(l=!0,e[a+1]=i?oT(h):iT(h)),a=i?Ka(h):fl(h)}l&&(e[n+1]=i?iT(o):oT(o))}function K6(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&rd(e,t)>=0}const yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IN(e){return e.substring(yi.key,yi.keyEnd)}function SN(e,t){const n=yi.textEnd;return n===t?-1:(t=yi.keyEnd=function X6(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,yi.key=t,n),xd(e,t,n))}function xd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function kt(e,t){return function Uo(e,t,n,i){const r=se(),o=Nt(),s=Hs(2);o.firstUpdatePass&&ON(o,e,s,i),t!==tt&&tr(r,s,t)&&FN(o,o.data[wr()],r,r[R],e,r[s+1]=function c9(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ln(Wa(e)))),e}(t,n),i,s)}(e,t,null,!0),kt}function Ya(e){!function jo(e,t,n,i){const r=Nt(),o=Hs(2);r.firstUpdatePass&&ON(r,null,o,i);const s=se();if(n!==tt&&tr(s,o,n)){const a=r.data[wr()];if(VN(a,i)&&!PN(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=ks(l,n||"")),Yw(r,a,s,n,i)}else!function l9(e,t,n,i,r,o,s,a){r===tt&&(r=it);let l=0,c=0,h=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;null!==h||null!==g;){const m=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0;let I,T=null;h===g?(l+=2,c+=2,m!==y&&(T=g,I=y)):null===g||null!==h&&h<g?(l+=2,T=h):(c+=2,T=g,I=y),null!==T&&FN(e,t,n,i,T,I,s,a),h=l<r.length?r[l]:null,g=c<o.length?o[c]:null}}(r,a,s,s[R],s[o+1],s[o+1]=function a9(e,t,n){if(null==n||""===n)return it;const i=[],r=Wa(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}(u9,ds,e,!0)}function ds(e,t){for(let n=function Q6(e){return function xN(e){yi.key=0,yi.keyEnd=0,yi.value=0,yi.valueEnd=0,yi.textEnd=e.length}(e),SN(e,xd(e,0,yi.textEnd))}(t);n>=0;n=SN(t,n))to(e,IN(t),!0)}function PN(e,t){return t>=e.expandoStartIndex}function ON(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[wr()],s=PN(e,n);VN(o,i)&&null===t&&!s&&(t=!1),t=function i9(e,t,n,i){const r=function I1(e){const t=Ke.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=sp(n=sT(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=sT(r,e,t,n,i),null===o){let l=function r9(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==fl(i))return e[Ka(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=sT(null,e,t,l[1],i),l=sp(l,t.attrs,i),function o9(e,t,n,i){e[Ka(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else o=function s9(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=sp(i,e[o].hostAttrs,n);return sp(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function W6(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ka(s),l=fl(s);e[i]=n;let h,c=!1;if(Array.isArray(n)?(h=n[1],(null===h||rd(n,h)>0)&&(c=!0)):h=n,r)if(0!==l){const m=Ka(e[a+1]);e[i+1]=yy(m,a),0!==m&&(e[m+1]=rT(e[m+1],i)),e[a+1]=function G6(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=yy(a,0),0!==a&&(e[a+1]=rT(e[a+1],i)),a=i;else e[i+1]=yy(l,0),0===a?a=i:e[l+1]=rT(e[l+1],i),l=i;c&&(e[i+1]=iT(e[i+1])),DN(e,h,i,!0),DN(e,h,i,!1),function Z6(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&rd(o,t)>=0&&(n[i+1]=oT(n[i+1]))}(t,h,e,i,o),s=yy(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function sT(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=sp(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function sp(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),to(e,s,!!n||t[++o]))}return void 0===e?null:e}function u9(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&to(e,i,n)}function FN(e,t,n,i,r,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],h=function q6(e){return 1==(1&e)}(c)?LN(l,t,n,r,fl(c),s):void 0;vy(h)||(vy(o)||function z6(e){return 2==(2&e)}(c)&&(o=LN(l,null,n,r,a,s)),function q5(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=-1===i.indexOf("-")?void 0:qa.DashCase;null==r?e.removeStyle(n,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=qa.Important),e.setStyle(n,i,r,o))}}(i,s,w_(wr(),n),r,o))}function LN(e,t,n,i,r,o){const s=null===t;let a;for(;r>0;){const l=e[r],c=Array.isArray(l),h=c?l[1]:l,g=null===h;let m=n[r+1];m===tt&&(m=g?it:void 0);let y=g?V1(m,i):h===i?m:void 0;if(c&&!vy(y)&&(y=V1(l,i)),vy(y)&&(a=y,s))return a;const T=e[r+1];r=s?Ka(T):fl(T)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=V1(l,i))}return a}function vy(e){return void 0!==e}function VN(e,t){return 0!=(e.flags&(t?8:16))}function re(e,t=""){const n=se(),i=Nt(),r=e+gt,o=i.firstCreatePass?vd(i,r,1,t,null):i.data[r],s=BN(i,n,o,t,e);n[r]=s,T_()&&z_(i,n,s,o),ss(o,!1)}let BN=(e,t,n,i,r)=>(Ga(!0),U_(t[R],i));function io(e){return Dn("",e,""),io}function Dn(e,t,n){const i=se(),r=function wd(e,t,n,i){return tr(e,Yc(),n)?t+Ze(n)+i:tt}(i,e,t,n);return r!==tt&&function qs(e,t,n){const i=w_(t,e);!function cM(e,t,n){e.setValue(t,n)}(e[R],i,n)}(i,wr(),r),Dn}function ro(e,t,n){const i=se();return tr(i,Yc(),t)&&no(Nt(),Bn(),i,e,t,i[R],n,!0),ro}const Rd="en-US",by={marker:"element"},wy={marker:"ICU"};var Lr=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Lr||{});let sP=Rd;function aP(e){(function Qi(e,t){null==e&&ze(t,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(sP=e.toLowerCase().replace(/_/g,"-"))}function uP(e,t,n){const i=t.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?mM(e,0,n):_n(n[r])}function lP(e,t,n,i,r){const o=t.insertBeforeIndex;if(Array.isArray(o)){let s=i,a=null;if(3&t.type||(a=s,s=r),null!==s&&-1===t.componentOffset)for(let l=1;l<o.length;l++)ll(e,s,n[o[l]],a,!1)}}function cP(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const i=e[n];dP(i)||V9(i,t)&&null===B9(i)&&U9(i,t.index)}}function dP(e){return!(64&e.type)}function V9(e,t){return dP(t)||e.index>t.index}function B9(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function U9(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(yM(uP,lP),e.insertBeforeIndex=t)}function $9(e,t,n){const i=Pw(e,n,64,null,null);return cP(t,i),i}function Y9(){const e=[];let n,i,t=-1;function o(a,l){t=0;const c=function Ty(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}(a,l);i=null!==c?a.remove[c]:it}function s(){if(t<i.length){const a=i[t++];return a>0?n[a]:(e.push(t,i),o(n[Ie].data[~a],n),s())}return 0===e.length?null:(i=e.pop(),t=e.pop(),s())}return function r(a,l){for(n=l;e.length;)e.pop();return o(a.value,l),s}}const Cy=/\ufffd(\d+):?\d*\ufffd/gi,J9=/\ufffd(\d+)\ufffd/,bP=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cp="\ufffd",X9=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,e7=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,t7=/\uE500/g;function wP(e,t,n,i,r,o,s){const a=Yf(e,i,1,null);let l=a<<Lr.SHIFT,c=Mf();t===c&&(c=null),null===c&&(l|=Lr.APPEND_EAGERLY),s&&(l|=Lr.COMMENT,function R5(e){void 0===W1&&(W1=e())}(Y9)),r.push(l,null===o?"":o);const h=Pw(e,a,s?32:1,null===o?"":o,null);cP(n,h);const g=h.index;return ss(h,!1),null!==c&&t!==c&&function H9(e,t){let n=e.insertBeforeIndex;null===n?(yM(uP,lP),n=e.insertBeforeIndex=[null,t]):(function mr(e,t,n){e!=t&&ze(n,e,t,"==")}(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(c,g),h}function r7(e,t,n,i,r,o,s){const a=s.match(Cy),l=wP(e,t,n,o,i,a?null:s,!1);a&&dp(r,s,l.index,null,0,null)}function dp(e,t,n,i,r,o){const s=e.length,a=s+1;e.push(null,null);const l=s+2,c=t.split(Cy);let h=0;for(let g=0;g<c.length;g++){const m=c[g];if(1&g){const y=r+parseInt(m,10);e.push(-1-y),h|=TP(y)}else""!==m&&e.push(m)}return e.push(n<<2|(i?1:0)),i&&e.push(i,o),e[s]=h,e[a]=e.length-l,h}function TP(e){return 1<<Math.min(e,31)}function CP(e){let t,o,n="",i=0,r=!1;for(;null!==(t=X9.exec(e));)r?t[0]===`${cp}/*${o}${cp}`&&(i=t.index,r=!1):(n+=e.substring(i,t.index+t[0].length),o=t[1],r=!0);return n+=e.slice(i),n}function EP(e,t,n,i,r,o){let s=0;const a={type:r.type,currentCaseLViewIndex:Yf(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function h7(e,t,n){e.push(TP(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(n,r,o),function j9(e,t,n){const i=e.data[t];null===i?e.data[t]=n:i.value=n}(e,o,a);const l=r.values;for(let c=0;c<l.length;c++){const h=l[c],g=[];for(let m=0;m<h.length;m++){const y=h[m];if("string"!=typeof y){const T=g.push(y)-1;h[m]=`\x3c!--\ufffd${T}\ufffd--\x3e`}}s=c7(e,a,t,n,i,r.cases[c],h.join(""),g)|s}s&&function f7(e,t,n){e.push(t,1,n<<2|3)}(n,s,o)}function l7(e){const t=[],n=[];let i=1,r=0;const o=aT(e=e.replace(bP,function(s,a,l){return i="select"===l?0:1,r=parseInt(a.slice(1),10),""}));for(let s=0;s<o.length;){let a=o[s++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);const l=aT(o[s++]);t.length>n.length&&n.push(l)}return{type:i,mainBinding:r,cases:t,values:n}}function aT(e){if(!e)return[];let t=0;const n=[],i=[],r=/[{}]/g;let o;for(r.lastIndex=0;o=r.exec(e);){const a=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const l=e.substring(t,a);bP.test(l)?i.push(l7(l)):i.push(l),t=a+1}}else{if(0==n.length){const l=e.substring(t,a);i.push(l),t=a+1}n.push("{")}}const s=e.substring(t);return i.push(s),i}function c7(e,t,n,i,r,o,s,a){const l=[],c=[],h=[];t.cases.push(o),t.create.push(l),t.remove.push(c),t.update.push(h);const m=function AM(e){const t=new o8(e);return function s8(){try{return!!(new window.DOMParser).parseFromString(ud(""),"text/html")}catch{return!1}}()?new r8(t):t}(ld()).getInertBodyElement(s),y=function uw(e){return"content"in e&&function f8(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}(m)||m;return y?DP(e,t,n,i,l,c,h,y,r,a,0):0}function DP(e,t,n,i,r,o,s,a,l,c,h){let g=0,m=a.firstChild;for(;m;){const y=Yf(e,n,1,null);switch(m.nodeType){case Node.ELEMENT_NODE:const T=m,I=T.tagName.toLowerCase();if(sw.hasOwnProperty(I)){uT(r,by,I,l,y),e.data[y]=I;const F=T.attributes;for(let B=0;B<F.length;B++){const W=F.item(B),te=W.name.toLowerCase();W.value.match(Cy)?NM.hasOwnProperty(te)&&dp(s,W.value,y,W.name,0,aw[te]?ow:null):p7(r,y,W)}g=DP(e,t,n,i,r,o,s,m,y,c,h+1)|g,IP(o,y,h)}break;case Node.TEXT_NODE:const C=m.textContent||"",S=C.match(Cy);uT(r,null,S?"":C,l,y),IP(o,y,h),S&&(g=dp(s,C,y,null,0,null)|g);break;case Node.COMMENT_NODE:const D=J9.exec(m.textContent||"");if(D){const B=c[parseInt(D[1],10)];uT(r,wy,"",l,y),EP(e,n,i,l,B,y),d7(o,y,h)}}m=m.nextSibling}return g}function IP(e,t,n){0===n&&e.push(t)}function d7(e,t,n){0===n&&(e.push(~t),e.push(t))}function uT(e,t,n,i,r){null!==t&&e.push(t),e.push(n,r,function z9(e,t,n){return e|t<<17|n<<1}(0,i,r))}function p7(e,t,n){e.push(t<<1|1,n.name,n.value)}function AP(e,t,n=-1){const i=Nt(),r=se(),o=gt+e,s=za(i.consts,t),a=Mf();i.firstCreatePass&&function i7(e,t,n,i,r,o){const s=Mf(),a=[],l=[],c=[[]];r=function u7(e,t){if(function a7(e){return-1===e}(t))return CP(e);{const n=e.indexOf(`:${t}${cp}`)+2+t.toString().length,i=e.search(new RegExp(`${cp}\\/\\*\\d+:${t}${cp}`));return CP(e.substring(n,i))}}(r,o);const h=function n7(e){return e.replace(t7," ")}(r).split(e7);for(let g=0;g<h.length;g++){let m=h[g];if(1&g){const y=47===m.charCodeAt(0),I=(m.charCodeAt(y?1:0),gt+Number.parseInt(m.substring(y?2:1)));if(y)c.shift(),ss(Mf(),!1);else{const C=$9(e,c[0],I);c.unshift([]),ss(C,!0)}}else{const y=aT(m);for(let T=0;T<y.length;T++){let I=y[T];if(1&T){const C=I;if("object"!=typeof C)throw new Error(`Unable to parse ICU expression in "${r}" message.`);EP(e,n,l,t,C,wP(e,s,c[0],n,a,"",!0).index)}else""!==I&&r7(e,s,c[0],a,l,n,I)}}}e.data[i]={create:a,update:l}}(i,null===a?0:a.index,r,o,s,n),2===i.type?r[_e][Je]|=32:r[Je]|=32;const l=i.data[o],h=hM(i,a===r[d]?null:a,r);(function W9(e,t,n,i){const r=e[R];for(let o=0;o<t.length;o++){const s=t[o++],a=t[o],c=(s&Lr.APPEND_EAGERLY)===Lr.APPEND_EAGERLY,h=s>>>Lr.SHIFT;let g=e[h];null===g&&(g=e[h]=(s&Lr.COMMENT)===Lr.COMMENT?r.createComment(a):U_(r,a)),c&&null!==n&&ll(r,n,g,i,!1)}})(r,l.create,h,a&&8&a.type?r[a.index]:null),yx(!0)}function hp(e,t,n){AP(e,t,n),function xP(){yx(!1)}()}function lT(e,t,n,i,r){if(e=He(e),Array.isArray(e))for(let o=0;o<e.length;o++)lT(e[o],t,n,i,r);else{const o=Nt(),s=se(),a=Ui();let l=dl(e)?e:He(e.provide);const c=zM(e),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(dl(e)||!e.multi){const y=new Rf(c,r,H),T=dT(l,t,r?h:h+m,g);-1===T?(k1(S_(a,s),o,l),cT(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{const y=dT(l,t,h+m,g),T=dT(l,t,h,h+m),C=T>=0&&n[T];if(r&&!C||!r&&!(y>=0&&n[y])){k1(S_(a,s),o,l);const S=function M7(e,t,n,i,r){const o=new Rf(e,n,H);return o.multi=[],o.index=t,o.componentProviders=0,RP(o,r,i&&!n),o}(r?x7:A7,n.length,r,i,c);!r&&C&&(n[T].providerFactory=S),cT(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else cT(o,e,y>-1?y:T,RP(n[r?T:y],c,!r&&i));!r&&i&&C&&n[T].componentProviders++}}}function cT(e,t,n,i){const r=dl(t),o=function T8(e){return!!e.useClass}(t);if(r||o){const l=(o?He(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const h=c.indexOf(n);-1===h?c.push(n,[i,l]):c[h+1].push(i,l)}else c.push(n,l)}}}function RP(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function dT(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function A7(e,t,n,i){return hT(this.multi,[])}function x7(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=al(n,n[Ie],this.providerFactory.index,i);o=a.slice(0,s),hT(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],hT(r,o);return o}function hT(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function dn(e,t=[]){return n=>{n.providersResolver=(i,r)=>function S7(e,t,n){const i=Nt();if(i.firstCreatePass){const r=Bo(e);lT(n,i.data,i.blueprint,r,!0),lT(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class gl{}class NP{}class fT extends gl{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $R(this);const r=Ji(t);this._bootstrapComponents=Gs(r.bootstrap),this._r3Injector=nR(t,n,[{provide:gl,useValue:this},{provide:ry,useValue:this.componentFactoryResolver},...i],ln(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pT extends NP{constructor(t){super(),this.moduleType=t}create(t){return new fT(this.moduleType,t,[])}}class PP extends gl{constructor(t){super(),this.componentFactoryResolver=new $R(this),this.instance=null;const n=new dd([...t.providers,{provide:gl,useValue:this},{provide:ry,useValue:this.componentFactoryResolver}],t.parent||Q_(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function gT(e,t,n=null){return new PP({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let P7=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=UM(0,n.type),r=i.length>0?gT([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=me({token:e,providedIn:"environment",factory:()=>new e(le(kr))})}return e})();function oo(e){e.getStandaloneInjector=t=>t.get(P7).getOrCreateStandaloneInjector(e)}function fp(e,t,n,i){return function UP(e,t,n,i,r,o){const s=t+n;return tr(e,s,r)?ls(e,s+1,o?i.call(o,r):i(r)):gp(e,s+1)}(se(),br(),e,t,n,i)}function pp(e,t,n,i,r){return function jP(e,t,n,i,r,o,s){const a=t+n;return hl(e,a,r,o)?ls(e,a+2,s?i.call(s,r,o):i(r,o)):gp(e,a+2)}(se(),br(),e,t,n,i,r)}function _T(e,t,n,i,r,o){return function HP(e,t,n,i,r,o,s,a){const l=t+n;return function fy(e,t,n,i,r){const o=hl(e,t,n,i);return tr(e,t+2,r)||o}(e,l,r,o,s)?ls(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):gp(e,l+3)}(se(),br(),e,t,n,i,r,o)}function gp(e,t){const n=e[t];return n===tt?void 0:n}function nq(){return this._results[Symbol.iterator]()}class yT{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Le)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=yT.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nq)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function Eo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Yz(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rq(e,t,n,i=!0){const r=t[Ie];if(function V5(e,t,n,i){const r=mi+i,o=n.length;i>0&&(n[r-1][Xr]=t),i<o-mi?(t[Xr]=n[r],Ux(n,mi+i,t)):(n.push(t),t[Xr]=null),t[cn]=n;const s=t[je];null!==s&&n!==s&&function B5(e,t){const n=e[Ha];t[_e]!==t[cn][cn][_e]&&(e[Af]=!0),null===n?e[Ha]=[t]:n.push(t)}(s,t);const a=t[mn];null!==a&&a.insertView(e),t[Je]|=128}(r,t,e,n),i){const o=ew(n,e),s=t[R],a=$_(s,e[Gt]);null!==a&&function k5(e,t,n,i,r,o){i[En]=r,i[d]=t,jf(e,i,n,1,r,o)}(r,e[d],s,t,a,o)}}let Rn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=aq}return e})();const oq=Rn,sq=class extends oq{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const r=function iq(e,t,n,i){const r=t.tView,a=ay(e,r,n,4096&e[Je]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[je]=e[t.index];const c=e[mn];return null!==c&&(a[mn]=c.createEmbeddedView(r)),$w(r,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:i});return new Jf(r)}};function aq(){return Ey(Ui(),se())}function Ey(e,t){return 4&e.type?new sq(t,e,md(e,t)):null}let Er=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=fq}return e})();function fq(){return QP(Ui(),se())}const pq=Er,KP=class extends pq{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const t=A_(this._hostTNode,this._hostLView);if(N1(t)){const n=Pf(t,this._hostLView),i=Nf(t);return new Tr(n[Ie].data[i+8],n)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=YP(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,n,i,r,o){const s=t&&!function kf(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const I=n||{};a=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const l=s?t:new Xf(Tt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const C=(s?c:this.parentInjector).get(kr,null);C&&(o=C)}Tt(l.componentType??{});const y=l.create(c,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const r=t._lView;if(function cz(e){return Vi(e[cn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[cn],h=new KP(c,c[d],c[cn]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return rq(a,r,s,!i),t.attachToViewContainerRef(),Ux(vT(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=YP(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=H_(this._lContainer,n);i&&(M_(vT(this._lContainer),n),Y1(i[Ie],i))}detach(t){const n=this._adjustIndex(t,-1),i=H_(this._lContainer,n);return i&&null!=M_(vT(this._lContainer),n)?new Jf(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function YP(e){return e[8]}function vT(e){return e[8]||(e[8]=[])}function QP(e,t){let n;const i=t[e.index];return Vi(i)?n=i:(n=RR(i,t,null,e),t[e.index]=n,uy(t,n)),JP(n,t,e,i),new KP(n,e,t)}let JP=function XP(e,t,n,i){if(e[Gt])return;let r;r=8&n.type?_n(i):function gq(e,t){const n=e[R],i=n.createComment(""),r=Pr(t,e);return ll(n,$_(n,r),i,function $5(e,t){return e.nextSibling(t)}(n,r),!1),i}(t,n),e[Gt]=r};class bT{constructor(t){this.queryList=t,this.matches=null}clone(){return new bT(this.queryList)}setDirty(){this.queryList.setDirty()}}class wT{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new wT(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==rO(t,n).matches&&this.queries[n].setDirty()}}class eO{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class TT{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new TT(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class CT{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new CT(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,yq(n,o)),this.matchTNodeWithReadOption(t,n,x_(n,t,o,!1,!1))}else i===Rn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,x_(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===qt||r===Er||r===Rn&&4&n.type)this.addMatch(n.index,-2);else{const o=x_(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function yq(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function bq(e,t,n,i){return-1===n?function vq(e,t){return 11&e.type?md(e,t):4&e.type?Ey(e,t):null}(t,e):-2===n?function wq(e,t,n){return n===qt?md(t,e):n===Rn?Ey(t,e):n===Er?QP(t,e):void 0}(e,t,i):al(e,e[Ie],n,t)}function tO(e,t,n,i){const r=t[mn].queries[i];if(null===r.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:bq(t,o[c],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function ET(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=tO(e,t,r,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=t[-l];for(let g=mi;g<h.length;g++){const m=h[g];m[je]===m[cn]&&ET(m[Ie],m,c,i)}if(null!==h[Ha]){const g=h[Ha];for(let m=0;m<g.length;m++){const y=g[m];ET(y[Ie],y,c,i)}}}}}return i}function Jt(e){const t=se(),n=Nt(),i=vx();S1(i+1);const r=rO(n,i);if(e.dirty&&function uz(e){return 4==(4&e[Je])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?ET(n,t,i,[]):tO(n,t,r,i);e.reset(o,$8),e.notifyOnChanges()}return!0}return!1}function Qa(e,t,n){const i=Nt();i.firstCreatePass&&(iO(i,new eO(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),nO(i,se(),t)}function Un(e,t,n,i){const r=Nt();if(r.firstCreatePass){const o=Ui();iO(r,new eO(t,n,i),o.index),function Cq(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}nO(r,se(),n)}function Xt(){return function Tq(e,t){return e[mn].queries[t].queryList}(se(),vx())}function nO(e,t,n){const i=new yT(4==(4&n));(function CG(e,t,n,i){const r=PR(t);r.push(n),e.firstCreatePass&&OR(e).push(i,r.length-1)})(e,t,i,i.destroy),null===t[mn]&&(t[mn]=new wT),t[mn].queries.push(new bT(i))}function iO(e,t,n){null===e.queries&&(e.queries=new TT),e.queries.track(new CT(t,n))}function rO(e,t){return e.queries.getByIndex(t)}function So(e,t){return Ey(e,t)}const MT=new ge("Application Initializer");let RT=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=ce(MT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const r of this.appInits){const o=r();if(op(o))n.push(o);else if(hN(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wO=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Ho=new ge("LocaleId",{providedIn:"root",factory:()=>ce(Ho,pt.Optional|pt.SkipSelf)||function zq(){return typeof $localize<"u"&&$localize.locale||Rd}()});let TO=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ue(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Wq{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let CO=(()=>{class e{compileModuleSync(n){return new pT(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),o=Gs(Ji(n).declarations).reduce((s,a)=>{const l=Tt(a);return l&&s.push(new Xf(l)),s},[]);return new Wq(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const SO=new ge(""),Ay=new ge("");let FT,OT=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FT||(function gW(e){FT=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(le(vt),le(kT),le(Ay))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})(),kT=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return FT?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ja=null;const AO=new ge("AllowMultipleToken"),LT=new ge("PlatformDestroyListeners"),VT=new ge("appBootstrapListener");class MO{constructor(t,n){this.name=t,this.token=n}}function NO(e,t,n=[]){const i=`Platform: ${t}`,r=new ge(i);return(o=[])=>{let s=BT();if(!s||s.injector.get(AO,!1)){const a=[...n,...o,{provide:r,useValue:!0}];e?e(a):function yW(e){if(Ja&&!Ja.get(AO,!1))throw new ue(400,!1);(function xO(){!function K4(e){QA=e}(()=>{throw new ue(600,!1)})})(),Ja=e;const t=e.get(OO);(function RO(e){e.get(GM,null)?.forEach(n=>n())})(e)}(function PO(e=[],t){return Ai.create({name:t,providers:[{provide:hw,useValue:"platform"},{provide:LT,useValue:new Set([()=>Ja=null])},...e]})}(a,i))}return function bW(e){const t=BT();if(!t)throw new ue(401,!1);return t}()}}function BT(){return Ja?.get(OO)??null}let OO=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function wW(e="zone.js",t){return"noop"===e?new oG:"zone.js"===e?new vt(t):e}(i?.ngZone,function kO(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function N7(e,t,n){return new fT(e,t,n)}(n.moduleType,this.injector,function UO(e){return[{provide:vt,useFactory:e},{provide:cl,multi:!0,useFactory:()=>{const t=ce(CW,{optional:!0});return()=>t.initialize()}},{provide:BO,useFactory:TW},{provide:aR,useFactory:uR}]}(()=>r)),s=o.injector.get(zs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{xy(this._modules,o),a.unsubscribe()})}),function FO(e,t,n){try{const i=n();return op(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(RT);return a.runInitializers(),a.donePromise.then(()=>(aP(o.injector.get(Ho,Rd)||Rd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,i=[]){const r=LO({},i);return function mW(e,t,n){const i=new pT(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(Ws);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new ue(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(LT,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(le(Ai))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function LO(e,t){return Array.isArray(t)?t.reduce(LO,e):{...e,...t}}let Ws=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(BO),this.zoneIsStable=ce(aR),this.componentTypes=[],this.components=[],this.isStable=ce(TO).hasPendingTasks.pipe(xn(n=>n?xe(!1):this.zoneIsStable),pf(),Ac()),this._injector=ce(kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const r=n instanceof YM;if(!this._injector.get(RT).done)throw!r&&function Bs(e){const t=Tt(e)||Kn(e)||ri(e);return null!==t&&t.standalone}(n),new ue(405,!1);let s;s=r?n:this._injector.get(ry).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function _W(e){return e.isBoundToModule}(s)?void 0:this._injector.get(gl),c=s.create(Ai.NULL,[],i||s.selector,a),h=c.location.nativeElement,g=c.injector.get(SO,null);return g?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),xy(this.components,c),g?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;xy(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(VT,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xy(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ue(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const BO=new ge("",{providedIn:"root",factory:()=>ce(zs).handleError.bind(void 0)});function TW(){const e=ce(vt),t=ce(zs);return n=>e.runOutsideAngular(()=>t.handleError(n))}let CW=(()=>{class e{constructor(){this.zone=ce(vt),this.applicationRef=ce(Ws)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ao=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=IW}return e})();function IW(e){return function SW(e,t,n){if(rl(e)&&!n){const i=eo(e.index,t);return new Jf(i,i)}return 47&e.type?new Jf(t[_e],t):null}(Ui(),se(),16==(16&e))}class zO{constructor(){}supports(t){return hy(t)}create(t){return new PW(t)}}const NW=(e,t)=>t;class PW{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||NW}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const s=!i||n&&n.currentIndex<qO(i,r,o)?n:i,a=qO(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let m=0;m<c;m++){const y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<c&&(o[m]=y+1)}o[s.previousIndex]=h-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!hy(t))throw new ue(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),i=!0),n=n._next}else r=0,function p6(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new OW(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new GO),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GO),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class OW{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kW{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class GO{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new kW,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qO(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function ZO(){return new Ny([new zO])}let Ny=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:ZO});constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||ZO()),deps:[[e,new P_,new N_]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new ue(901,!1)}}return e})();const UW=NO(null,"core",[]);let jW=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(le(Ws))};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})();function Od(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function GT(e,t){const n=Tt(e),i=t.elementInjector||Q_();return new Xf(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let qT=null;function Xa(){return qT}class tZ{}const hi=new ge("DocumentToken");let WT=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return ce(iZ)},providedIn:"platform"})}return e})();const nZ=new ge("Location Initialized");let iZ=(()=>{class e extends WT{constructor(){super(),this._doc=ce(hi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xa().getBaseHref(this._doc)}onPopState(n){const i=Xa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Xa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function ZT(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function r2(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Zs(e){return e&&"?"!==e[0]?"?"+e:e}let _l=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return ce(s2)},providedIn:"root"})}return e})();const o2=new ge("appBaseHref");let s2=(()=>{class e extends _l{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ce(hi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ZT(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Zs(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){const s=this.prepareExternalUrl(r+Zs(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){const s=this.prepareExternalUrl(r+Zs(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(i){return new(i||e)(le(WT),le(o2,8))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rZ=(()=>{class e extends _l{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=ZT(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Zs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Zs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(i){return new(i||e)(le(WT),le(o2,8))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})(),KT=(()=>{class e{constructor(n){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function aZ(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(r2(a2(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Zs(i))}normalize(n){return e.stripTrailingSlash(function sZ(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,a2(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zs(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static#e=this.normalizeQueryParams=Zs;static#t=this.joinWithSlash=ZT;static#n=this.stripTrailingSlash=r2;static#i=this.\u0275fac=function(i){return new(i||e)(le(_l))};static#r=this.\u0275prov=me({token:e,factory:function(){return function oZ(){return new KT(le(_l))}()},providedIn:"root"})}return e})();function a2(e){return e.replace(/\/index.html$/,"")}class GZ{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nr=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new GZ(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),b2(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{b2(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(H(Er),H(Rn),H(Ny))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function b2(e,t){e.context.$implicit=t.item}let Ir=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new qZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){w2("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){w2("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(H(Er),H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class qZ{constructor(){this.$implicit=null,this.ngIf=null}}function w2(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ln(t)}'.`)}let Fd=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||e)(H(Er))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Si]})}return e})(),vK=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})();function D2(e){return"server"===e}let CK=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>new EK(le(hi),window)})}return e})();class EK{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function DK(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class KK extends tZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fC extends KK{static makeCurrent(){!function eZ(e){qT||(qT=e)}(new fC)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function YK(){return Cp=Cp||document.querySelector("base"),Cp?Cp.getAttribute("href"):null}();return null==n?null:function QK(e){qy=qy||document.createElement("a"),qy.setAttribute("href",e);const t=qy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Cp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function HZ(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let qy,Cp=null,XK=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const pC=new ge("EventManagerPlugins");let M2=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new ue(5101,!1);return this._eventNameToPlugin.set(n,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(le(pC),le(vt))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();class R2{constructor(t){this._doc=t}}const gC="ng-app-id";let N2=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=D2(o),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${gC}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){const r=this.styleRef;if(r.has(n)){const o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(gC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(gC,this.appId),s}}addStyleToHost(n,i){const r=this.getStyleElement(n,i);n.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(le(hi),le(J_),le(qM,8),le(fd))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const mC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_C=/%COMP%/g,iY=new ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function O2(e,t){return t.map(n=>n.replace(_C,e))}let k2=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=D2(a),this.defaultRenderer=new yC(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yr.ShadowDom&&(i={...i,encapsulation:yr.Emulated});const r=this.getOrCreateRenderer(n,i);return r instanceof L2?r.applyToHost(n):r instanceof vC&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case yr.Emulated:o=new L2(l,c,i,this.appId,h,s,a,g);break;case yr.ShadowDom:return new aY(l,c,n,i,s,a,this.nonce,g);default:o=new vC(l,c,i,h,s,a,g)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(le(M2),le(N2),le(J_),le(iY),le(hi),le(fd),le(vt),le(qM))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();class yC{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(mC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(F2(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(F2(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new ue(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=mC[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=mC[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(qa.DashCase|qa.Important)?t.style.setProperty(n,i,r&qa.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&qa.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=Xa().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function F2(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class aY extends yC{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=O2(r.id,r.styles);for(const h of c){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vC extends yC{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?O2(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class L2 extends vC{constructor(t,n,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=function rY(e){return"_ngcontent-%COMP%".replace(_C,e)}(c),this.hostAttr=function oY(e){return"_nghost-%COMP%".replace(_C,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let uY=(()=>{class e extends R2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(le(hi))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const V2=["alt","control","meta","shift"],lY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cY={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let dY=(()=>{class e extends R2{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),V2.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=lY[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),V2.forEach(s=>{s!==r&&(0,cY[s])(n)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(i){return new(i||e)(le(hi))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const gY=NO(UW,"browser",[{provide:fd,useValue:"browser"},{provide:GM,useValue:function hY(){fC.makeCurrent()},multi:!0},{provide:hi,useFactory:function pY(){return function Q5(e){iw=e}(document),document},deps:[]}]),mY=new ge(""),j2=[{provide:Ay,useClass:class JK{addToWindow(t){sn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new ue(5103,!1);return o},sn.getAllAngularTestabilities=()=>t.getAllTestabilities(),sn.getAllAngularRootElements=()=>t.getAllRootElements(),sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(i=>{const r=sn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Xa().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:SO,useClass:OT,deps:[vt,kT,Ay]},{provide:OT,useClass:OT,deps:[vt,kT,Ay]}],H2=[{provide:hw,useValue:"root"},{provide:zs,useFactory:function fY(){return new zs},deps:[]},{provide:pC,useClass:uY,multi:!0,deps:[hi,vt,fd]},{provide:pC,useClass:dY,multi:!0,deps:[hi]},k2,N2,M2,{provide:Iw,useExisting:k2},{provide:class IK{},useClass:XK,deps:[]},[]];let _Y=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:J_,useValue:n.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(le(mY,12))};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({providers:[...H2,...j2],imports:[vK,jW]})}return e})(),$2=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(i){return new(i||e)(le(hi))};static#t=this.\u0275prov=me({token:e,factory:function(i){let r=null;return r=i?new i:function vY(){return new $2(le(hi))}(),r},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:EY}=Array,{getPrototypeOf:DY,prototype:IY,keys:SY}=Object;function W2(e){if(1===e.length){const t=e[0];if(EY(t))return{args:t,keys:null};if(function AY(e){return e&&"object"==typeof e&&DY(e)===IY}(t)){const n=SY(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}const{isArray:xY}=Array;function wC(e){return at(t=>function MY(e,t){return xY(t)?e(...t):e(t)}(e,t))}function Z2(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}let K2=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(i){return new(i||e)(H(Fr),H(qt))};static#t=this.\u0275dir=be({type:e})}return e})(),yl=(()=>{class e extends K2{static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275dir=be({type:e,features:[Yt]})}return e})();const Ro=new ge("NgValueAccessor"),PY={provide:Ro,useExisting:ut(()=>Qs),multi:!0},kY=new ge("CompositionEventMode");let Qs=(()=>{class e extends K2{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OY(){const e=Xa()?Xa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(i){return new(i||e)(H(Fr),H(qt),H(kY,8))};static#t=this.\u0275dir=be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&We("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[dn([PY]),Yt]})}return e})();function tu(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Q2(e){return null!=e&&"number"==typeof e.length}const ji=new ge("NgValidators"),nu=new ge("NgAsyncValidators"),FY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Js{static min(t){return J2(t)}static max(t){return function X2(e){return t=>{if(tu(t.value)||tu(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function ek(e){return tu(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function tk(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function nk(e){return tu(e.value)||FY.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function ik(e){return t=>tu(t.value)||!Q2(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function rk(e){return t=>Q2(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ok(e){if(!e)return Wy;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(tu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return dk(t)}static composeAsync(t){return hk(t)}}function J2(e){return t=>{if(tu(t.value)||tu(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Wy(e){return null}function sk(e){return null!=e}function ak(e){return op(e)?Tn(e):e}function uk(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function lk(e,t){return t.map(n=>n(e))}function ck(e){return e.map(t=>function LY(e){return!e.validate}(t)?t:n=>t.validate(n))}function dk(e){if(!e)return null;const t=e.filter(sk);return 0==t.length?null:function(n){return uk(lk(n,t))}}function TC(e){return null!=e?dk(ck(e)):null}function hk(e){if(!e)return null;const t=e.filter(sk);return 0==t.length?null:function(n){return function RY(...e){const t=Dc(e),{args:n,keys:i}=W2(e),r=new At(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let g=!1;Wn(n[h]).subscribe(Dt(o,m=>{g||(g=!0,c--),a[h]=m},()=>l--,void 0,()=>{(!l||!g)&&(c||o.next(i?Z2(i,a):a),o.complete())}))}});return t?r.pipe(wC(t)):r}(lk(n,t).map(ak)).pipe(at(uk))}}function CC(e){return null!=e?hk(ck(e)):null}function fk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function pk(e){return e._rawValidators}function gk(e){return e._rawAsyncValidators}function EC(e){return e?Array.isArray(e)?e:[e]:[]}function Zy(e,t){return Array.isArray(e)?e.includes(t):e===t}function mk(e,t){const n=EC(t);return EC(e).forEach(r=>{Zy(n,r)||n.push(r)}),n}function _k(e,t){return EC(t).filter(n=>!Zy(e,n))}class yk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=TC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Sr extends yk{get formDirective(){return null}get path(){return null}}class iu extends yk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ru=(()=>{class e extends vk{constructor(n){super(n)}static#e=this.\u0275fac=function(i){return new(i||e)(H(iu,2))};static#t=this.\u0275dir=be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&kt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Yt]})}return e})(),Xs=(()=>{class e extends vk{constructor(n){super(n)}static#e=this.\u0275fac=function(i){return new(i||e)(H(Sr,10))};static#t=this.\u0275dir=be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&kt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Yt]})}return e})();const Ep="VALID",Yy="INVALID",Ld="PENDING",Dp="DISABLED";function SC(e){return(Qy(e)?e.validators:e)||null}function AC(e,t){return(Qy(t)?t.asyncValidators:e)||null}function Qy(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Ck{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ep}get invalid(){return this.status===Yy}get pending(){return this.status==Ld}get disabled(){return this.status===Dp}get enabled(){return this.status!==Dp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(mk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_k(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_k(t,this._rawAsyncValidators))}hasValidator(t){return Zy(this._rawValidators,t)}hasAsyncValidator(t){return Zy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ld,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Dp,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ep,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ep||this.status===Ld)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dp:Ep}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ld,this._hasOwnPendingAsyncValidator=!0;const n=ak(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Dp:this.errors?Yy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ld)?Ld:this._anyControlsHaveStatus(Yy)?Yy:Ep}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function jY(e){return Array.isArray(e)?TC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function HY(e){return Array.isArray(e)?CC(e):e||null}(this._rawAsyncValidators)}}class hs extends Ck{constructor(t,n,i){super(SC(n),AC(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function Tk(e,t,n){e._forEachChild((i,r)=>{if(void 0===n[r])throw new ue(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function wk(e,t,n){const i=e.controls;if(!(t?Object.keys(i):i).length)throw new ue(1e3,"");if(!i[n])throw new ue(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const vl=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>Ip}),Ip="always";function Sp(e,t,n=Ip){xC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function GY(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Ek(e,t)})}(e,t),function WY(e,t){const n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function qY(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Ek(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function zY(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Xy(e,t,n=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),tv(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ev(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function xC(e,t){const n=pk(e);null!==t.validator?e.setValidators(fk(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=gk(e);null!==t.asyncValidator?e.setAsyncValidators(fk(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();ev(t._rawValidators,r),ev(t._rawAsyncValidators,r)}function tv(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=pk(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const r=gk(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}const i=()=>{};return ev(t._rawValidators,i),ev(t._rawAsyncValidators,i),n}function Ek(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Dk(e,t){xC(e,t)}function Ik(e,t){e._syncPendingControls(),t.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const JY={provide:Sr,useExisting:ut(()=>nv)},Ap=(()=>Promise.resolve())();let nv=(()=>{class e extends Sr{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Le,this.form=new hs({},TC(n),CC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ap.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Sp(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ap.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ap.then(()=>{const i=this._findContainer(n.path),r=new hs({});Dk(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ap.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Ap.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Ik(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(i){return new(i||e)(H(ji,10),H(nu,10),H(vl,8))};static#t=this.\u0275dir=be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&We("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dn([JY]),Yt]})}return e})();function Sk(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ak(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const rt=class extends Ck{constructor(t=null,n,i){super(SC(n),AC(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Ak(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Sk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Sk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Ak(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let ea=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const nQ={provide:Ro,useExisting:ut(()=>bl),multi:!0};let bl=(()=>{class e extends yl{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=i=>{n(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275dir=be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&We("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[dn([nQ]),Yt]})}return e})(),Pk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})();const PC=new ge("NgModelWithFormControlWarning"),aQ={provide:Sr,useExisting:ut(()=>fs)};let fs=(()=>{class e extends Sr{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return Sp(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Xy(n.control||null,n,!1),function QY(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,Ik(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,r=this.form.get(n.path);i!==r&&(Xy(i||null,n),(e=>e instanceof rt)(r)&&(Sp(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);Dk(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function ZY(e,t){return tv(e,t)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xC(this.form,this),this._oldForm&&tv(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||e)(H(ji,10),H(nu,10),H(vl,8))};static#t=this.\u0275dir=be({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&We("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dn([aQ]),Yt,Si]})}return e})();const cQ={provide:iu,useExisting:ut(()=>ta)};let ta=(()=>{class e extends iu{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function NC(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Qs?n=o:function YY(e){return Object.getPrototypeOf(e.constructor)===yl}(o)?i=o:r=o}),r||i||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function RC(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Jy(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||e)(H(Sr,13),H(ji,10),H(nu,10),H(Ro,10),H(PC,8))};static#n=this.\u0275dir=be({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[dn([cQ]),Yt,Si]})}return e})();const dQ={provide:Ro,useExisting:ut(()=>na),multi:!0};function Vk(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let na=(()=>{class e extends yl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=Vk(this._getOptionId(n),n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){const i=function hQ(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275dir=be({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&We("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[dn([dQ]),Yt]})}return e})(),wl=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Vk(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(H(qt),H(Fr),H(na,9))};static#t=this.\u0275dir=be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const fQ={provide:Ro,useExisting:ut(()=>FC),multi:!0};function Bk(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let FC=(()=>{class e extends yl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let i;if(this.value=n,Array.isArray(n)){const r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,n(r)}}_registerOption(n){const i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){const i=function pQ(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275dir=be({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&We("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[dn([fQ]),Yt]})}return e})(),Tl=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Bk(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Bk(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(H(qt),H(Fr),H(FC,9))};static#t=this.\u0275dir=be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();let Cl=(()=>{class e{constructor(){this._validator=Wy}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Wy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=be({type:e,features:[Si]})}return e})();const mQ={provide:ji,useExisting:ut(()=>Vd),multi:!0};let Vd=(()=>{class e extends Cl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>function jk(e){return"number"==typeof e?e:parseFloat(e)}(n),this.createValidator=n=>J2(n)}static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275dir=be({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[dn([mQ]),Yt]})}return e})(),Zk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({imports:[Pk]})}return e})(),EQ=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vl,useValue:n.callSetDisabledState??Ip}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({imports:[Zk]})}return e})(),DQ=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:PC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:vl,useValue:n.callSetDisabledState??Ip}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({imports:[Zk]})}return e})();const IQ=["addListener","removeListener"],SQ=["addEventListener","removeEventListener"],AQ=["on","off"];function Hi(e,t,n,i){if(dt(n)&&(i=n,n=void 0),i)return Hi(e,t,n).pipe(wC(i));const[r,o]=function RQ(e){return dt(e.addEventListener)&&dt(e.removeEventListener)}(e)?SQ.map(s=>a=>e[s](t,a,n)):function xQ(e){return dt(e.addListener)&&dt(e.removeListener)}(e)?IQ.map(Kk(e,t)):function MQ(e){return dt(e.on)&&dt(e.off)}(e)?AQ.map(Kk(e,t)):[];if(!r&&cf(e))return Zn(s=>Hi(s,t,n))(Wn(e));if(!r)throw new TypeError("Invalid event target");return new At(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Kk(e,t){return n=>i=>e[n](t,i)}class NQ extends zn{constructor(t,n){super()}schedule(t,n=0){return this}}const iv={setInterval(e,t,...n){const{delegate:i}=iv;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=iv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class Yk extends NQ{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return iv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&iv.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,jt(i,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const Qk={now:()=>(Qk.delegate||Date).now(),delegate:void 0};class xp{constructor(t,n=xp.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}}xp.now=Qk.now;class Jk extends xp{constructor(t,n=xp.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}}const Xk=new Jk(Yk),PQ=Xk;function eF(e=0,t,n=PQ){let i=-1;return null!=t&&($m(t)?n=t:i=t),new At(r=>{let o=function OQ(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:kQ}=Array;function tF(e){return 1===e.length&&kQ(e[0])?e[0]:e}function nF(...e){return 1===(e=tF(e)).length?Wn(e[0]):new At(function FQ(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(Wn(e[i]).subscribe(Dt(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}(e))}function VC(...e){const t=Dc(e),n=tF(e);return n.length?new At(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)Wn(n[s]).subscribe(Dt(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,h)=>!c.length&&o[h])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):gr}function Mp(...e){return function LQ(){return xa(1)}()(Tn(e,ju(e)))}function ei(e){return Ot((t,n)=>{Wn(e).subscribe(Dt(n,()=>n.complete(),fr)),!n.closed&&t.subscribe(n)})}function Mi(e,t){return Ot((n,i)=>{let r=0;n.subscribe(Dt(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Ri(e){return e<=0?()=>gr:Ot((t,n)=>{let i=0;t.subscribe(Dt(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function vi(e,t,n){const i=dt(e)||t||n?{next:e,error:t,complete:n}:e;return i?Ot((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Dt(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):pn}function rv(...e){const t=Dc(e);return Ot((n,i)=>{const r=e.length,o=new Array(r);let s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)Wn(e[l]).subscribe(Dt(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(pn))&&(s=null))},fr));n.subscribe(Dt(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}function iF(e){return at(()=>e)}function rF(e,t){return t?n=>Mp(t.pipe(Ri(1),function BQ(){return Ot((e,t)=>{e.subscribe(Dt(t,fr))})}()),n.pipe(rF(e))):Zn((n,i)=>Wn(e(n,i)).pipe(Ri(1),iF(n)))}function oF(...e){const t=ju(e);return Ot((n,i)=>{(t?Mp(e,n,t):Mp(e,n)).subscribe(i)})}class $Q extends Error{constructor(t,n){super(function zQ(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}let $i=null;function sv(e){const t=$i;return $i=e,t}function mF(e,t){const n=!t?.manualCleanup;n&&!t?.injector&&function Zf(e){if(!Lo()&&!function Qr(){return Va}())throw new ue(-203,!1)}();const i=n?t?.injector?.get(Za)??ce(Za):null;let r;return r=function JA(e,t){const n=Object.create(Y4);function i(){return HA(n),n.value}return n.value=e,t?.equal&&(n.equal=t.equal),i.set=ex,i.update=Q4,i.mutate=J4,i.asReadonly=X4,i[$a]=n,i}(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue}),function eJ(e){const t=sv(null);try{return e()}finally{sv(t)}}(()=>{const o=e.subscribe({next:s=>r.set({kind:1,value:s}),error:s=>r.set({kind:2,error:s})});i?.onDestroy(o.unsubscribe.bind(o))}),YA(()=>{const o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new $Q(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var iJ={left:"right",right:"left",bottom:"top",top:"bottom"};function uv(e){return e.replace(/left|right|bottom|top/g,function(t){return iJ[t]})}function ps(e){return e.split("-")[0]}var rJ={start:"end",end:"start"};function _F(e){return e.replace(/start|end/g,function(t){return rJ[t]})}var ao="top",Go="bottom",qo="right",uo="left",$C="auto",Np=[ao,Go,qo,uo],Ud="start",Pp="end",yF="viewport",Op="popper",vF=Np.reduce(function(e,t){return e.concat([t+"-"+Ud,t+"-"+Pp])},[]),bF=[].concat(Np,[$C]).reduce(function(e,t){return e.concat([t,t+"-"+Ud,t+"-"+Pp])},[]),mJ=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function lo(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function El(e){return e instanceof lo(e).Element||e instanceof Element}function No(e){return e instanceof lo(e).HTMLElement||e instanceof HTMLElement}function zC(e){return!(typeof ShadowRoot>"u")&&(e instanceof lo(e).ShadowRoot||e instanceof ShadowRoot)}function su(e){return((El(e)?e.ownerDocument:e.document)||window.document).documentElement}var Dl=Math.max,lv=Math.min,jd=Math.round;function GC(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wF(){return!/^((?!chrome|android).)*safari/i.test(GC())}function Hd(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&No(e)&&(r=e.offsetWidth>0&&jd(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&jd(i.height)/e.offsetHeight||1);var a=(El(e)?lo(e):window).visualViewport,l=!wF()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,h=(i.top+(l&&a?a.offsetTop:0))/o,g=i.width/r,m=i.height/o;return{width:g,height:m,top:h,right:c+g,bottom:h+m,left:c,x:c,y:h}}function qC(e){var t=lo(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function WC(e){return Hd(su(e)).left+qC(e).scrollLeft}function ia(e){return lo(e).getComputedStyle(e)}function gs(e){return e?(e.nodeName||"").toLowerCase():null}function cv(e){return"html"===gs(e)?e:e.assignedSlot||e.parentNode||(zC(e)?e.host:null)||su(e)}function ZC(e){var t=ia(e);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function TF(e){return["html","body","#document"].indexOf(gs(e))>=0?e.ownerDocument.body:No(e)&&ZC(e)?e:TF(cv(e))}function kp(e,t){var n;void 0===t&&(t=[]);var i=TF(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=lo(i),s=r?[o].concat(o.visualViewport||[],ZC(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(kp(cv(s)))}function vJ(e){return["table","td","th"].indexOf(gs(e))>=0}function CF(e){return No(e)&&"fixed"!==ia(e).position?e.offsetParent:null}function Fp(e){for(var t=lo(e),n=CF(e);n&&vJ(n)&&"static"===ia(n).position;)n=CF(n);return n&&("html"===gs(n)||"body"===gs(n)&&"static"===ia(n).position)?t:n||function bJ(e){var t=/firefox/i.test(GC());if(/Trident/i.test(GC())&&No(e)&&"fixed"===ia(e).position)return null;var r=cv(e);for(zC(r)&&(r=r.host);No(r)&&["html","body"].indexOf(gs(r))<0;){var o=ia(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(e)||t}function EF(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&zC(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function KC(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function DF(e,t,n){return t===yF?KC(function _J(e,t){var n=lo(e),i=su(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=wF();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+WC(e),y:l}}(e,n)):El(t)?function wJ(e,t){var n=Hd(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):KC(function yJ(e){var t,n=su(e),i=qC(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=Dl(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Dl(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+WC(e),l=-i.scrollTop;return"rtl"===ia(r||n).direction&&(a+=Dl(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(su(e)))}function $d(e){return e.split("-")[1]}function YC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function IF(e){var l,t=e.reference,n=e.element,i=e.placement,r=i?ps(i):null,o=i?$d(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2;switch(r){case ao:l={x:s,y:t.y-n.height};break;case Go:l={x:s,y:t.y+t.height};break;case qo:l={x:t.x+t.width,y:a};break;case uo:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?YC(r):null;if(null!=c){var h="y"===c?"height":"width";switch(o){case Ud:l[c]=l[c]-(t[h]/2-n[h]/2);break;case Pp:l[c]=l[c]+(t[h]/2-n[h]/2)}}return l}function AF(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function xF(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}function QC(e,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?e.placement:i,o=t.strategy,s=void 0===o?e.strategy:o,a=t.boundary,l=void 0===a?"clippingParents":a,c=t.rootBoundary,h=void 0===c?yF:c,g=t.elementContext,m=void 0===g?Op:g,y=t.altBoundary,T=void 0!==y&&y,I=t.padding,C=void 0===I?0:I,S=AF("number"!=typeof C?C:xF(C,Np)),F=e.rects.popper,B=e.elements[T?m===Op?"reference":Op:m],W=function CJ(e,t,n,i){var r="clippingParents"===t?function TJ(e){var t=kp(cv(e)),i=["absolute","fixed"].indexOf(ia(e).position)>=0&&No(e)?Fp(e):e;return El(i)?t.filter(function(r){return El(r)&&EF(r,i)&&"body"!==gs(r)}):[]}(e):[].concat(t),o=[].concat(r,[n]),a=o.reduce(function(l,c){var h=DF(e,c,i);return l.top=Dl(h.top,l.top),l.right=lv(h.right,l.right),l.bottom=lv(h.bottom,l.bottom),l.left=Dl(h.left,l.left),l},DF(e,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(El(B)?B:B.contextElement||su(e.elements.popper),l,h,s),te=Hd(e.elements.reference),O=IF({reference:te,element:F,strategy:"absolute",placement:r}),x=KC(Object.assign({},F,O)),P=m===Op?x:te,k={top:W.top-P.top+S.top,bottom:P.bottom-W.bottom+S.bottom,left:W.left-P.left+S.left,right:P.right-W.right+S.right},N=e.modifiersData.offset;if(m===Op&&N){var V=N[r];Object.keys(k).forEach(function(M){var j=[qo,Go].indexOf(M)>=0?1:-1,ye=[ao,Go].indexOf(M)>=0?"y":"x";k[M]+=V[ye]*j})}return k}const SJ={name:"flip",enabled:!0,phase:"main",fn:function IJ(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,h=n.boundary,g=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,T=void 0===y||y,I=n.allowedAutoPlacements,C=t.options.placement,S=ps(C),F=l||(S!==C&&T?function DJ(e){if(ps(e)===$C)return[];var t=uv(e);return[_F(e),t,_F(t)]}(C):[uv(C)]),B=[C].concat(F).reduce(function(St,lt){return St.concat(ps(lt)===$C?function EJ(e,t){void 0===t&&(t={});var r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?bF:l,h=$d(t.placement),g=h?a?vF:vF.filter(function(T){return $d(T)===h}):Np,m=g.filter(function(T){return c.indexOf(T)>=0});0===m.length&&(m=g);var y=m.reduce(function(T,I){return T[I]=QC(e,{placement:I,boundary:r,rootBoundary:o,padding:s})[ps(I)],T},{});return Object.keys(y).sort(function(T,I){return y[T]-y[I]})}(t,{placement:lt,boundary:h,rootBoundary:g,padding:c,flipVariations:T,allowedAutoPlacements:I}):lt)},[]),W=t.rects.reference,te=t.rects.popper,O=new Map,x=!0,P=B[0],k=0;k<B.length;k++){var N=B[k],V=ps(N),M=$d(N)===Ud,j=[ao,Go].indexOf(V)>=0,ye=j?"width":"height",ne=QC(t,{placement:N,boundary:h,rootBoundary:g,altBoundary:m,padding:c}),pe=j?M?qo:uo:M?Go:ao;W[ye]>te[ye]&&(pe=uv(pe));var Me=uv(pe),Te=[];if(o&&Te.push(ne[V]<=0),a&&Te.push(ne[pe]<=0,ne[Me]<=0),Te.every(function(St){return St})){P=N,x=!1;break}O.set(N,Te)}if(x)for(var Be=function(lt){var wn=B.find(function(ct){var nn=O.get(ct);if(nn)return nn.slice(0,lt).every(function(cr){return cr})});if(wn)return P=wn,"break"},ke=T?3:1;ke>0&&"break"!==Be(ke);ke--);t.placement!==P&&(t.modifiersData[i]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Lp(e,t,n){return Dl(e,lv(t,n))}function JC(e){var t=Hd(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}const RJ={name:"preventOverflow",enabled:!0,phase:"main",fn:function MJ(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,m=n.tether,y=void 0===m||m,T=n.tetherOffset,I=void 0===T?0:T,C=QC(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),S=ps(t.placement),D=$d(t.placement),F=!D,B=YC(S),W=function AJ(e){return"x"===e?"y":"x"}(B),te=t.modifiersData.popperOffsets,O=t.rects.reference,x=t.rects.popper,P="function"==typeof I?I(Object.assign({},t.rects,{placement:t.placement})):I,k="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(te){if(o){var M,j="y"===B?ao:uo,ye="y"===B?Go:qo,ne="y"===B?"height":"width",pe=te[B],Me=pe+C[j],Te=pe-C[ye],Pe=y?-x[ne]/2:0,Be=D===Ud?O[ne]:x[ne],ke=D===Ud?-x[ne]:-O[ne],ht=t.elements.arrow,St=y&&ht?JC(ht):{width:0,height:0},lt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wn=lt[j],ct=lt[ye],nn=Lp(0,O[ne],St[ne]),cr=F?O[ne]/2-Pe-nn-wn-k.mainAxis:Be-nn-wn-k.mainAxis,Ar=F?-O[ne]/2+Pe+nn+ct+k.mainAxis:ke+nn+ct+k.mainAxis,Wr=t.elements.arrow&&Fp(t.elements.arrow),Au=Wr?"y"===B?Wr.clientTop||0:Wr.clientLeft||0:0,Zr=null!=(M=N?.[B])?M:0,fc=pe+Ar-Zr,pc=Lp(y?lv(Me,pe+cr-Zr-Au):Me,pe,y?Dl(Te,fc):Te);te[B]=pc,V[B]=pc-pe}if(a){var Qe,Ci=te[W],Mu="y"===W?"height":"width",mm=Ci+C["x"===B?ao:uo],Ab=Ci-C["x"===B?Go:qo],gc=-1!==[ao,uo].indexOf(S),tf=null!=(Qe=N?.[W])?Qe:0,nf=gc?mm:Ci-O[Mu]-x[Mu]-tf+k.altAxis,Ei=gc?Ci+O[Mu]+x[Mu]-tf-k.altAxis:Ab,Oi=y&&gc?function xJ(e,t,n){var i=Lp(e,t,n);return i>n?n:i}(nf,Ci,Ei):Lp(y?nf:mm,Ci,y?Ei:Ab);te[W]=Oi,V[W]=Oi-Ci}t.modifiersData[i]=V}},requiresIfExists:["offset"]},kJ={name:"arrow",enabled:!0,phase:"main",fn:function PJ(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ps(n.placement),l=YC(a),h=[uo,qo].indexOf(a)>=0?"height":"width";if(o&&s){var g=function(t,n){return AF("number"!=typeof(t="function"==typeof t?t(Object.assign({},n.rects,{placement:n.placement})):t)?t:xF(t,Np))}(r.padding,n),m=JC(o),y="y"===l?ao:uo,T="y"===l?Go:qo,I=n.rects.reference[h]+n.rects.reference[l]-s[l]-n.rects.popper[h],C=s[l]-n.rects.reference[l],S=Fp(o),D=S?"y"===l?S.clientHeight||0:S.clientWidth||0:0,te=D/2-m[h]/2+(I/2-C/2),O=Lp(g[y],te,D-m[h]-g[T]);n.modifiersData[i]=((t={})[l]=O,t.centerOffset=O-te,t)}},effect:function OJ(e){var t=e.state,i=e.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||EF(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function BJ(e,t,n){void 0===n&&(n=!1);var i=No(t),r=No(t)&&function VJ(e){var t=e.getBoundingClientRect(),n=jd(t.width)/e.offsetWidth||1,i=jd(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=su(t),s=Hd(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==gs(t)||ZC(o))&&(a=function LJ(e){return e!==lo(e)&&No(e)?function FJ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):qC(e)}(t)),No(t)?((l=Hd(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=WC(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function UJ(e){var t=new Map,n=new Set,i=[];function r(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){t.set(o.name,o)}),e.forEach(function(o){n.has(o.name)||r(o)}),i}function HJ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var MF={placement:"bottom",modifiers:[],strategy:"absolute"};function RF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function zJ(e){void 0===e&&(e={});var n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,o=void 0===r?MF:r;return function(a,l,c){void 0===c&&(c=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},MF,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},g=[],m=!1,y={state:h,setOptions:function(S){var D="function"==typeof S?S(h.options):S;I(),h.options=Object.assign({},o,h.options,D),h.scrollParents={reference:El(a)?kp(a):a.contextElement?kp(a.contextElement):[],popper:kp(l)};var F=function jJ(e){var t=UJ(e);return mJ.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}(function $J(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}([].concat(i,h.options.modifiers)));return h.orderedModifiers=F.filter(function(B){return B.enabled}),function T(){h.orderedModifiers.forEach(function(C){var D=C.options,B=C.effect;if("function"==typeof B){var W=B({state:h,name:C.name,instance:y,options:void 0===D?{}:D});g.push(W||function(){})}})}(),y.update()},forceUpdate:function(){if(!m){var S=h.elements,D=S.reference,F=S.popper;if(RF(D,F)){h.rects={reference:BJ(D,Fp(F),"fixed"===h.options.strategy),popper:JC(F)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(k){return h.modifiersData[k.name]=Object.assign({},k.data)});for(var B=0;B<h.orderedModifiers.length;B++)if(!0!==h.reset){var W=h.orderedModifiers[B],te=W.fn,O=W.options;"function"==typeof te&&(h=te({state:h,options:void 0===O?{}:O,name:W.name,instance:y})||h)}else h.reset=!1,B=-1}}},update:HJ(function(){return new Promise(function(C){y.forceUpdate(),C(h)})}),destroy:function(){I(),m=!0}};if(!RF(a,l))return y;function I(){g.forEach(function(C){return C()}),g=[]}return y.setOptions(c).then(function(C){!m&&c.onFirstUpdate&&c.onFirstUpdate(C)}),y}}var dv={passive:!0},KJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NF(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,g=e.isFixed,m=s.x,y=void 0===m?0:m,T=s.y,I=void 0===T?0:T,C="function"==typeof h?h({x:y,y:I}):{x:y,y:I};y=C.x,I=C.y;var S=s.hasOwnProperty("x"),D=s.hasOwnProperty("y"),F=uo,B=ao,W=window;if(c){var te=Fp(n),O="clientHeight",x="clientWidth";te===lo(n)&&"static"!==ia(te=su(n)).position&&"absolute"===a&&(O="scrollHeight",x="scrollWidth"),(r===ao||(r===uo||r===qo)&&o===Pp)&&(B=Go,I-=(g&&te===W&&W.visualViewport?W.visualViewport.height:te[O])-i.height,I*=l?1:-1),r!==uo&&(r!==ao&&r!==Go||o!==Pp)||(F=qo,y-=(g&&te===W&&W.visualViewport?W.visualViewport.width:te[x])-i.width,y*=l?1:-1)}var M,N=Object.assign({position:a},c&&KJ),V=!0===h?function YJ(e,t){var i=e.y,r=t.devicePixelRatio||1;return{x:jd(e.x*r)/r||0,y:jd(i*r)/r||0}}({x:y,y:I},lo(n)):{x:y,y:I};return y=V.x,I=V.y,Object.assign({},N,l?((M={})[B]=D?"0":"",M[F]=S?"0":"",M.transform=(W.devicePixelRatio||1)<=1?"translate("+y+"px, "+I+"px)":"translate3d("+y+"px, "+I+"px, 0)",M):((t={})[B]=D?I+"px":"",t[F]=S?y+"px":"",t.transform="",t))}var nX=zJ({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function GJ(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=lo(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(h){h.addEventListener("scroll",n.update,dv)}),a&&l.addEventListener("resize",n.update,dv),function(){o&&c.forEach(function(h){h.removeEventListener("scroll",n.update,dv)}),a&&l.removeEventListener("resize",n.update,dv)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function WJ(e){var t=e.state;t.modifiersData[e.name]=IF({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function QJ(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:ps(t.placement),variation:$d(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,NF(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,NF(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function XJ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!No(o)||!gs(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function eX(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]).reduce(function(l,c){return l[c]="",l},{});!No(r)||!gs(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]}]});const PF=["*"],OF=function(e){return{$implicit:e}},HX=["dialog"],$X=["ngbNavOutlet",""];function zX(e,t){}function GX(e,t){if(1&e&&(z(0,"div",2),fe(1,zX,0,0,"ng-template",3),U()),2&e){const n=Ae().$implicit,i=Ae();$("item",n)("nav",i.nav)("role",i.paneRole),G(1),$("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",fp(5,OF,n.active||i.isPanelTransitioning(n)))}}function qX(e,t){if(1&e&&fe(0,GX,2,7,"div",1),2&e){const n=t.$implicit,i=Ae();$("ngIf",n.isPanelInDom()||i.isPanelTransitioning(n))}}function WX(e,t){1&e&&(z(0,"span",9),hp(1,10),U())}function ZX(e,t){1&e&&(z(0,"span",9),hp(1,11),U())}function KX(e,t){1&e&&(z(0,"span",9),hp(1,12),U())}function YX(e,t){1&e&&(z(0,"span",9),hp(1,13),U())}function QX(e,t){1&e&&re(0,"...")}function JX(e,t){1&e&&re(0),2&e&&io(t.$implicit)}function XX(e,t){}const eee=function(e){return{disabled:!0,currentPage:e}};function tee(e,t){if(1&e&&(z(0,"a",18),fe(1,XX,0,0,"ng-template",8),U()),2&e){const n=Ae(2).$implicit,i=Ae(),r=Io(9);G(1),$("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",fp(2,eee,n))}}function nee(e,t){}const iee=function(e,t,n){return{disabled:e,$implicit:t,currentPage:n}};function ree(e,t){if(1&e){const n=di();z(0,"a",19),We("click",function(r){Yn(n);const o=Ae().$implicit;return Ae(2).selectPage(o),Qn(r.preventDefault())}),fe(1,nee,0,0,"ng-template",8),U()}if(2&e){const n=Ae().$implicit,i=Ae(),r=i.disabled,o=i.$implicit,s=Ae(),a=Io(11);Qt("tabindex",r?"-1":null)("aria-disabled",r?"true":null),G(1),$("ngTemplateOutlet",(null==s.tplNumber?null:s.tplNumber.templateRef)||a)("ngTemplateOutletContext",_T(4,iee,r,n,o))}}function oee(e,t){if(1&e&&(z(0,"li",15),fe(1,tee,2,4,"a",16),fe(2,ree,2,8,"a",17),U()),2&e){const n=t.$implicit,i=Ae(),r=i.$implicit,o=i.disabled,s=Ae();kt("active",n===r)("disabled",s.isEllipsis(n)||o),Qt("aria-current",n===r?"page":null),G(1),$("ngIf",s.isEllipsis(n)),G(1),$("ngIf",!s.isEllipsis(n))}}function see(e,t){1&e&&fe(0,oee,3,7,"li",14),2&e&&$("ngForOf",t.pages)}function aee(e,t){}const XC=function(e,t){return{disabled:e,currentPage:t}};function uee(e,t){if(1&e){const n=di();z(0,"li",15)(1,"a",20),We("click",function(r){return Yn(n),Ae().selectPage(1),Qn(r.preventDefault())}),fe(2,aee,0,0,"ng-template",8),U()()}if(2&e){const n=Ae(),i=Io(1);kt("disabled",n.previousDisabled()),G(1),Qt("tabindex",n.previousDisabled()?"-1":null)("aria-disabled",n.previousDisabled()?"true":null),G(1),$("ngTemplateOutlet",(null==n.tplFirst?null:n.tplFirst.templateRef)||i)("ngTemplateOutletContext",pp(6,XC,n.previousDisabled(),n.page))}}function lee(e,t){}const cee=function(e){return{disabled:e}};function dee(e,t){if(1&e){const n=di();z(0,"li",15)(1,"a",21),We("click",function(r){Yn(n);const o=Ae();return o.selectPage(o.page-1),Qn(r.preventDefault())}),fe(2,lee,0,0,"ng-template",8),U()()}if(2&e){const n=Ae(),i=Io(3);kt("disabled",n.previousDisabled()),G(1),Qt("tabindex",n.previousDisabled()?"-1":null)("aria-disabled",n.previousDisabled()?"true":null),G(1),$("ngTemplateOutlet",(null==n.tplPrevious?null:n.tplPrevious.templateRef)||i)("ngTemplateOutletContext",fp(6,cee,n.previousDisabled()))}}function hee(e,t){}function fee(e,t){}function pee(e,t){if(1&e){const n=di();z(0,"li",15)(1,"a",22),We("click",function(r){Yn(n);const o=Ae();return o.selectPage(o.page+1),Qn(r.preventDefault())}),fe(2,fee,0,0,"ng-template",8),U()()}if(2&e){const n=Ae(),i=Io(5);kt("disabled",n.nextDisabled()),G(1),Qt("tabindex",n.nextDisabled()?"-1":null)("aria-disabled",n.nextDisabled()?"true":null),G(1),$("ngTemplateOutlet",(null==n.tplNext?null:n.tplNext.templateRef)||i)("ngTemplateOutletContext",pp(6,XC,n.nextDisabled(),n.page))}}function gee(e,t){}function mee(e,t){if(1&e){const n=di();z(0,"li",15)(1,"a",23),We("click",function(r){Yn(n);const o=Ae();return o.selectPage(o.pageCount),Qn(r.preventDefault())}),fe(2,gee,0,0,"ng-template",8),U()()}if(2&e){const n=Ae(),i=Io(7);kt("disabled",n.nextDisabled()),G(1),Qt("tabindex",n.nextDisabled()?"-1":null)("aria-disabled",n.nextDisabled()?"true":null),G(1),$("ngTemplateOutlet",(null==n.tplLast?null:n.tplLast.templateRef)||i)("ngTemplateOutletContext",pp(6,XC,n.nextDisabled(),n.page))}}const _ee=function(e,t,n){return{$implicit:e,pages:t,disabled:n}};function au(e){return"string"==typeof e}function zi(e){return!isNaN(function Br(e){return parseInt(`${e}`,10)}(e))}function Il(e){return null!=e}function zd(e){return(e||document.body).getBoundingClientRect()}const VF={animation:!0,transitionTimerDelayMs:5},Oee=()=>{},{transitionTimerDelayMs:kee}=VF,Vp=new Map,jr=(e,t,n,i)=>{let r=i.context||{};const o=Vp.get(t);if(o)switch(i.runningTransition){case"continue":return gr;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Vp.delete(t)}const s=n(t,i.animation,r)||Oee;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>s()),xe(void 0).pipe(function Nee(e){return t=>new At(n=>t.subscribe({next:s=>e.run(()=>n.next(s)),error:s=>e.run(()=>n.error(s)),complete:()=>e.run(()=>n.complete())}))}(e));const a=new $e,l=new $e,c=a.pipe(function VQ(...e){return t=>Mp(t,xe(...e))}(!0));Vp.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const h=function Pee(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const g=Hi(t,"transitionend").pipe(ei(c),Mi(({target:y})=>y===t));nF(eF(h+kee).pipe(ei(c)),g,l).pipe(ei(c)).subscribe(()=>{Vp.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let Bp=(()=>{class e{constructor(){this.animation=VF.animation}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(hn||{});const _v=(e,t)=>!!t&&t.some(n=>n.contains(e)),XF=(e,t)=>!t||null!=function Ree(e,t){return!t||typeof e.closest>"u"?null:e.closest(t)}(e,t),pte=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function lE(e,t,n,i,r,o,s,a){n&&e.runOutsideAngular((e=>pte?()=>setTimeout(()=>e(),100):e)(()=>{const c=Hi(t,"keydown").pipe(ei(r),Mi(m=>m.which===hn.Escape),vi(m=>m.preventDefault())),h=Hi(t,"mousedown").pipe(at(m=>{const y=m.target;return 2!==m.button&&!_v(y,s)&&("inside"===n?_v(y,o)&&XF(y,a):"outside"===n?!_v(y,o):XF(y,a)||!_v(y,o))}),ei(r)),g=Hi(t,"mouseup").pipe(rv(h),Mi(([m,y])=>y),function UQ(e,t=Xk){const n=eF(e,t);return rF(()=>n)}(0),ei(r));nF([c.pipe(at(m=>0)),g.pipe(at(m=>1))]).subscribe(m=>e.run(()=>i(m)))}))}const eL=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function tL(e){const t=Array.from(e.querySelectorAll(eL)).filter(n=>-1!==n.tabIndex);return[t[0],t[t.length-1]]}let mte=(()=>{class e{constructor(n){this._element=n.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||e)(le(hi))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _te=/\s+/,yte=/  +/gi,vte={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},wte=/^left/,Tte=/^right/,Cte=/^start/,Ete=/^end/;function iL({placement:e,baseClass:t},n){let i=Array.isArray(e)?e:e.split(_te),o=i.findIndex(c=>"auto"===c);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(h=>-1!==h.search("^"+c))&&i.splice(o++,1,c)});const s=i.map(c=>function bte(e,t){const[n,i]=vte[e];return t&&i||n}(c,n.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:c}){const h=new RegExp(t+"(-[a-z]+)*","gi"),g=c.elements.popper,m=c.placement;let y=g.className;y=y.replace(h,""),y+=` ${function Dte(e,t){let[n,i]=t.split("-");const r=n.replace(wte,"start").replace(Tte,"end");let o=[r];if(i){let s=i;("left"===n||"right"===n)&&(s=s.replace(Cte,"top").replace(Ete,"bottom")),o.push(`${r}-${s}`)}return e&&(o=o.map(s=>`${e}-${s}`)),o.join(" ")}(t,m)}`,y=y.trim().replace(yte," "),g.className=y}},SJ,RJ,kJ,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function rL(e){return e}new Date(1882,10,12),new Date(2174,10,25);class Rl{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}}class Ute{constructor(t,n,i,r,o,s){this._componentType=t,this._injector=n,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,n,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,n),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Ri(1),Zn(()=>jr(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?jr(this._ngZone,this._windowRef.location.nativeElement,({classList:n})=>n.remove("show"),{animation:t,runningTransition:"stop"}).pipe(vi(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):xe(void 0)}_getContentRef(t,n){if(t){if(t instanceof Rn){const i=t.createEmbeddedView(n);return this._applicationRef.attachView(i),new Rl([i.rootNodes],i)}return new Rl([[this._renderer.createText(`${t}`)]])}return new Rl([])}}let jte=(()=>{class e{constructor(n,i){this._el=n,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ri(1)).subscribe(()=>{jr(this._zone,this._el.nativeElement,(n,i)=>{i&&zd(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return jr(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||e)(H(qt),H(vt))};static#t=this.\u0275cmp=zt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Ya("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),kt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[oo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();class gL{update(t){}close(t){}dismiss(t){}}const Hte=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],$te=["animation","backdropClass"];class zte{_applyWindowOptions(t,n){Hte.forEach(i=>{Il(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){$te.forEach(i=>{Il(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ei(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ei(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new $e,this._dismissed=new $e,this._hidden=new $e,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function kF(e){return e&&e.then}(n)?!1!==n&&this._dismiss(t):n.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():xe(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),VC(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var pE=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(pE||{});let Gte=(()=>{class e{constructor(n,i,r){this._document=n,this._elRef=i,this._zone=r,this._closed$=new $e,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Le,this.shown=new $e,this.hidden=new $e}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":au(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ri(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=VC(jr(this._zone,n,()=>n.classList.remove("show"),i),jr(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};VC(jr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&zd(o),o.classList.add("show")},n),jr(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Hi(n,"keydown").pipe(ei(this._closed$),Mi(r=>r.which===hn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(pE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Hi(this._dialogEl.nativeElement,"mousedown").pipe(ei(this._closed$),vi(()=>i=!1),xn(()=>Hi(n,"mouseup").pipe(ei(this._closed$),Ri(1))),Mi(({target:r})=>n===r)).subscribe(()=>{i=!0}),Hi(n,"click").pipe(ei(this._closed$)).subscribe(({target:r})=>{n===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(pE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const i=n.querySelector("[ngbAutofocus]"),r=tL(n)[0];(i||r||n).focus()}}_restoreFocus(){const n=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&jr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||e)(H(hi),H(qt),H(vt))};static#t=this.\u0275cmp=zt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Qa(HX,7),2&i){let o;Jt(o=Xt())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Qt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Ya("modal d-block"+(r.windowClass?" "+r.windowClass:"")),kt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[oo],ngContentSelectors:PF,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(eT(),z(0,"div",0,1)(2,"div",2),tT(3),U()()),2&i&&Ya("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),qte=(()=>{class e{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||e)(le(hi))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wte=(()=>{class e{constructor(n,i,r,o,s,a,l){this._applicationRef=n,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new $e,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Le,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{e.runOutsideAngular(()=>{const r=Hi(t,"focusin").pipe(ei(n),at(o=>o.target));Hi(t,"keydown").pipe(ei(n),Mi(o=>o.which===hn.Tab),rv(r)).subscribe(([o,s])=>{const[a,l]=tL(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Hi(t,"click").pipe(ei(n),rv(r),at(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){const o=r.container instanceof HTMLElement?r.container:Il(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new gL,l=(n=r.injector||n).get(kr,null)||this._environmentInjector,c=this._getContentRef(n,l,i,a,r);let h=!1!==r.backdrop?this._attachBackdrop(o):void 0,g=this._attachWindowComponent(o,c.nodes),m=new zte(g,c,h,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(g),m.hidden.pipe(Ri(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=y=>{m.close(y)},a.dismiss=y=>{m.dismiss(y)},a.update=y=>{m.update(y)},m.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&h.changeDetectorRef.detectChanges(),g.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=GT(jte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=GT(Gte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof Rn?this._createFromTemplateRef(r,o):au(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new Rl([])}_createFromTemplateRef(n,i){const o=n.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Rl([o.rootNodes],o)}_createFromString(n){const i=this._document.createTextNode(`${n}`);return new Rl([[i]])}_createFromComponent(n,i,r,o,s){const l=GT(r,{environmentInjector:i,elementInjector:Ai.create({providers:[{provide:gL,useValue:o}],parent:n})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Rl([[c]],l.hostView,l)}_setAriaHidden(n){const i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const i=()=>{const r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||e)(le(Ws),le(Ai),le(kr),le(hi),le(qte),le(Iw),le(vt))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zte=(()=>{class e{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(i){return new(i||e)(le(Bp))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mL=(()=>{class e{constructor(n,i,r){this._injector=n,this._modalStack=i,this._config=r}open(n,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||e)(le(Ai),le(Wte),le(Zte))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yte=(()=>{class e{constructor(n){this._ngbConfig=n,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(i){return new(i||e)(le(Bp))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _L=e=>Il(e)&&""!==e;let Qte=0,gE=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}return e})(),yL=(()=>{class e{constructor(n,i){this.role=n,this.nav=i}static#e=this.\u0275fac=function(i){return new(i||e)(ul("role"),H(ut(()=>Nl)))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("role",r.role?r.role:r.nav.roles?"presentation":void 0)},standalone:!0})}return e})(),Wd=(()=>{class e{constructor(n,i){this._nav=n,this.elementRef=i,this.disabled=!1,this.shown=new Le,this.hidden=new Le}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Il(this.domId)||(this.domId="ngb-nav-"+Qte++)}get active(){return this._nav.activeId===this.id}get id(){return _L(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Il(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}static#e=this.\u0275fac=function(i){return new(i||e)(H(ut(()=>Nl)),H(qt))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(i,r,o){if(1&i&&Un(o,gE,4),2&i){let s;Jt(s=Xt())&&(r.contentTpls=s)}},hostVars:2,hostBindings:function(i,r){2&i&&kt("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}return e})(),Nl=(()=>{class e{constructor(n,i,r,o){this.role=n,this._cd=r,this._document=o,this.activeIdChange=new Le,this.shown=new Le,this.hidden=new Le,this.destroy$=new $e,this.navItemChange$=new $e,this.navChange=new Le,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(n){n.disabled||this._updateActiveId(n.id)}onKeyDown(n){if("tablist"!==this.roles||!this.keyboard)return;const i=n.which,r=this.links.filter(a=>!a.navItem.disabled),{length:o}=r;let s=-1;if(r.forEach((a,l)=>{a.elRef.nativeElement===this._document.activeElement&&(s=l)}),o){switch(i){case hn.ArrowLeft:if("vertical"===this.orientation)return;s=(s-1+o)%o;break;case hn.ArrowRight:if("vertical"===this.orientation)return;s=(s+1)%o;break;case hn.ArrowDown:if("horizontal"===this.orientation)return;s=(s+1)%o;break;case hn.ArrowUp:if("horizontal"===this.orientation)return;s=(s-1+o)%o;break;case hn.Home:s=0;break;case hn.End:s=o-1}"changeWithArrows"===this.keyboard&&this.select(r[s].navItem.id),r[s].elRef.nativeElement.focus(),n.preventDefault()}}select(n){this._updateActiveId(n,!1)}ngAfterContentInit(){if(!Il(this.activeId)){const n=this.items.first?this.items.first.id:null;_L(n)&&(this._updateActiveId(n,!1),this._cd.detectChanges())}this.items.changes.pipe(ei(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:n}){n&&!n.firstChange&&this._notifyItemChanged(n.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(n,i=!0){if(this.activeId!==n){let r=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:n,preventDefault:()=>{r=!0}}),r||(this.activeId=n,this.activeIdChange.emit(n),this._notifyItemChanged(n))}}_notifyItemChanged(n){this.navItemChange$.next(this._getItemById(n))}_getItemById(n){return this.items&&this.items.find(i=>i.id===n)||null}static#e=this.\u0275fac=function(i){return new(i||e)(ul("role"),H(Yte),H(Ao),H(hi))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngbNav",""]],contentQueries:function(i,r,o){if(1&i&&(Un(o,Wd,4),Un(o,$p,5)),2&i){let s;Jt(s=Xt())&&(r.items=s),Jt(s=Xt())&&(r.links=s)}},hostVars:6,hostBindings:function(i,r){1&i&&We("keydown.arrowLeft",function(s){return r.onKeyDown(s)})("keydown.arrowRight",function(s){return r.onKeyDown(s)})("keydown.arrowDown",function(s){return r.onKeyDown(s)})("keydown.arrowUp",function(s){return r.onKeyDown(s)})("keydown.Home",function(s){return r.onKeyDown(s)})("keydown.End",function(s){return r.onKeyDown(s)}),2&i&&(Qt("aria-orientation","vertical"===r.orientation&&"tablist"===r.roles?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),kt("nav",!0)("flex-column","vertical"===r.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[Si]})}return e})(),$p=(()=>{class e{constructor(n,i,r,o){this.role=n,this.navItem=i,this.nav=r,this.elRef=o}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||e)(ul("role"),H(Wd),H(Nl),H(qt))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(i,r){2&i&&(ro("id",r.navItem.domId),Qt("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.navItem.disabled?-1:void 0)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),kt("nav-link",!0)("nav-item",r.hasNavItemClass())("active",r.navItem.active)("disabled",r.navItem.disabled))},standalone:!0})}return e})(),vL=(()=>{class e{constructor(n,i){this.navItem=n,this.nav=i}static#e=this.\u0275fac=function(i){return new(i||e)(H(Wd),H(Nl))};static#t=this.\u0275dir=be({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(i,r){1&i&&We("click",function(){return r.nav.click(r.navItem)}),2&i&&ro("disabled",r.navItem.disabled)},standalone:!0,features:[ep([$p])]})}return e})();const Xte=({classList:e})=>(e.remove("show"),()=>e.remove("active")),ene=(e,t)=>{t&&zd(e),e.classList.add("show")};let mE=(()=>{class e{constructor(n){this.elRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(qt))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,r){2&i&&(ro("id",r.item.panelDomId),Qt("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),kt("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}return e})(),bL=(()=>{class e{constructor(n,i){this._cd=n,this._ngZone=i,this._activePane=null}isPanelTransitioning(n){return this._activePane?.item===n}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(ei(this.nav.destroy$),oF(this._activePane?.item||null),pf(),function jQ(e){return Mi((t,n)=>e<=n)}(1)).subscribe(n=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?jr(this._ngZone,this._activePane.elRef.nativeElement,Xte,i).subscribe(()=>{const r=this._activePane?.item;this._activePane=this._getPaneForItem(n),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),jr(this._ngZone,this._activePane.elRef.nativeElement,ene,i).subscribe(()=>{n&&(n.shown.emit(),this.nav.shown.emit(n.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(n){return this._panes&&this._panes.find(i=>i.item===n)||null}_getActivePane(){return this._panes&&this._panes.find(n=>n.item.active)||null}static#e=this.\u0275fac=function(i){return new(i||e)(H(Ao),H(vt))};static#t=this.\u0275cmp=zt({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,r){if(1&i&&Qa(mE,5),2&i){let o;Jt(o=Xt())&&(r._panes=o)}},hostVars:2,hostBindings:function(i,r){2&i&&kt("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[oo],attrs:$X,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&fe(0,qX,1,1,"ng-template",0),2&i&&$("ngForOf",r.nav.items)},dependencies:[mE,nr,Ir,Fd],encapsulation:2,changeDetection:0})}return e})(),wL=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})(),tne=(()=>{class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}return e})(),CL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}return e})(),EL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}return e})(),DL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}return e})(),IL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}return e})(),SL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}return e})(),AL=(()=>{class e{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(i){return new(i||e)(H(Rn))};static#t=this.\u0275dir=be({type:e,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}return e})(),_E=(()=>{class e{constructor(n){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new Le(!0),this.disabled=n.disabled,this.boundaryLinks=n.boundaryLinks,this.directionLinks=n.directionLinks,this.ellipses=n.ellipses,this.maxSize=n.maxSize,this.pageSize=n.pageSize,this.rotate=n.rotate,this.size=n.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(n){this._updatePages(n)}ngOnChanges(n){this._updatePages(this.page)}isEllipsis(n){return-1===n}_applyEllipses(n,i){this.ellipses&&(n>0&&(n>2?this.pages.unshift(-1):2===n&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let n=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?n=this.pageCount-this.maxSize:(n=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[n,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(n){const i=this.page;this.page=function Mee(e,t,n=0){return Math.max(Math.min(e,t),n)}(n,this.pageCount,1),this.page!==i&&zi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(n){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),zi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(n),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}static#e=this.\u0275fac=function(i){return new(i||e)(H(tne))};static#t=this.\u0275cmp=zt({type:e,selectors:[["ngb-pagination"]],contentQueries:function(i,r,o){if(1&i&&(Un(o,TL,5),Un(o,CL,5),Un(o,EL,5),Un(o,DL,5),Un(o,IL,5),Un(o,SL,5),Un(o,AL,5)),2&i){let s;Jt(s=Xt())&&(r.tplEllipsis=s.first),Jt(s=Xt())&&(r.tplFirst=s.first),Jt(s=Xt())&&(r.tplLast=s.first),Jt(s=Xt())&&(r.tplNext=s.first),Jt(s=Xt())&&(r.tplNumber=s.first),Jt(s=Xt())&&(r.tplPrevious=s.first),Jt(s=Xt())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Si,oo],decls:20,vars:12,consts:function(){let n,i,r,o,s,a,l,c;return n=$localize`:@@ngb.pagination.first:««`,i=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,o=$localize`:@@ngb.pagination.last:»»`,s=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],n,i,r,o,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(i,r){if(1&i&&(fe(0,WX,2,0,"ng-template",null,0,So),fe(2,ZX,2,0,"ng-template",null,1,So),fe(4,KX,2,0,"ng-template",null,2,So),fe(6,YX,2,0,"ng-template",null,3,So),fe(8,QX,1,0,"ng-template",null,4,So),fe(10,JX,1,1,"ng-template",null,5,So),fe(12,see,1,1,"ng-template",null,6,So),z(14,"ul"),fe(15,uee,3,9,"li",7),fe(16,dee,3,8,"li",7),fe(17,hee,0,0,"ng-template",8),fe(18,pee,3,9,"li",7),fe(19,mee,3,9,"li",7),U()),2&i){const o=Io(13);G(14),Ya("pagination"+(r.size?" pagination-"+r.size:"")),G(1),$("ngIf",r.boundaryLinks),G(1),$("ngIf",r.directionLinks),G(1),$("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||o)("ngTemplateOutletContext",_T(8,_ee,r.page,r.pages,r.disabled)),G(1),$("ngIf",r.directionLinks),G(1),$("ngIf",r.boundaryLinks)}},dependencies:[Ir,nr,Fd],encapsulation:2,changeDetection:0})}return e})();const ine={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let mne=(()=>{class e{constructor(n){this._ngbConfig=n,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(i){return new(i||e)(le(Bp))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_ne=0,yne=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&(ro("id",r.id),Ya("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),kt("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[oo],ngContentSelectors:PF,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(eT(),Ge(0,"div",0),z(1,"div",1),tT(2),U())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return e})(),Zd=(()=>{class e{constructor(n,i,r,o,s,a,l,c,h){this._elementRef=n,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=c,this.shown=new Le,this.hidden=new Le,this._ngbTooltipWindowId="ngb-tooltip-"+_ne++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.popperOptions=s.popperOptions,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Ute(yne,r,o,i,this._ngZone,h),this._positioning=function cE(){const e=ce(mte);let t=null;return{createPopper(n){if(!t){let r=(n.updatePopperOptions||rL)(iL(n,e));t=nX(n.hostElement,n.targetElement,r)}},update(){t&&t.update()},setOptions(n){if(t){let r=(n.updatePopperOptions||rL)(iL(n,e));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}()}set ngbTooltip(n){this._ngbTooltip=n,!n&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(n){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,n??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(o)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),lE(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(n=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(n).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function one(e,t,n,i,r,o=0,s=0){const a=function rne(e){const t=(e||"").trim();if(0===t.length)return[];const n=t.split(/\s+/).map(r=>r.split(":")).map(r=>ine[r[0]]||r),i=n.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&n.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:n}(t);if(0===a.length)return()=>{};const l=new Set,c=[];let h;function g(y,T){e.addEventListener(y,T),c.push(()=>e.removeEventListener(y,T))}function m(y,T){clearTimeout(h),T>0?h=setTimeout(y,T):y()}for(const[y,T]of a)T?(g(y,()=>{l.add(y),m(()=>l.size>0&&i(),o)}),g(T,()=>{l.delete(y),m(()=>0===l.size&&r(),s)})):g(y,()=>n()?m(r,s):m(i,o));return()=>c.forEach(y=>y())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:n}){n&&this.isOpen()&&(this._windowRef.instance.tooltipClass=n.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(au(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||e)(H(qt),H(Fr),H(Ai),H(Er),H(mne),H(vt),H(hi),H(Ao),H(Ws))};static#t=this.\u0275dir=be({type:e,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Si]})}return e})();new ge("live announcer delay",{providedIn:"root",factory:function bne(){return 100}});const Dne=new class Ene extends Jk{}(class Cne extends Yk{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}});function xL(e,t){return Ot(function Ine(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(Dt(s,h=>{const g=c++;l=a?e(l,h,g):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}const zp={};function Kd(e,t){if(zp[e]=(zp[e]||0)+1,"function"==typeof t)return yE(e,(...i)=>({...t(...i),type:e}));switch(t?t._as:"empty"){case"empty":return yE(e,()=>({type:e}));case"props":return yE(e,i=>({...i,type:e}));default:throw new Error("Unexpected config.")}}function yE(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}const ML="@ngrx/store/init";let Pl=(()=>{class e extends Ue{constructor(){super({type:ML})}next(n){if("function"==typeof n)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const Rne=[Pl],bE=new ge("@ngrx/store Internal Root Guard"),RL=new ge("@ngrx/store Internal Initial State"),wE=new ge("@ngrx/store Initial State"),NL=new ge("@ngrx/store Reducer Factory"),PL=new ge("@ngrx/store Internal Reducer Factory Provider"),OL=new ge("@ngrx/store Initial Reducers"),TE=new ge("@ngrx/store Internal Initial Reducers"),kL=new ge("@ngrx/store Store Features"),FL=new ge("@ngrx/store Internal Store Reducers"),CE=new ge("@ngrx/store Internal Feature Reducers"),LL=new ge("@ngrx/store Internal Feature Configs"),EE=new ge("@ngrx/store Internal Store Features"),VL=new ge("@ngrx/store Internal Feature Reducers Token"),DE=new ge("@ngrx/store Feature Reducers"),BL=new ge("@ngrx/store User Provided Meta Reducers"),Cv=new ge("@ngrx/store Meta Reducers"),UL=new ge("@ngrx/store Internal Resolved Meta Reducers"),jL=new ge("@ngrx/store User Runtime Checks Config"),HL=new ge("@ngrx/store Internal User Runtime Checks Config"),qp=new ge("@ngrx/store Internal Runtime Checks"),Wp=new ge("@ngrx/store Check if Action types are unique");function SE(e,t={}){const n=Object.keys(e),i={};for(let o=0;o<n.length;o++){const s=n[o];"function"==typeof e[s]&&(i[s]=e[s])}const r=Object.keys(i);return function(s,a){s=void 0===s?t:s;let l=!1;const c={};for(let h=0;h<r.length;h++){const g=r[h],y=s[g],T=(0,i[g])(y,a);c[g]=T,l=l||T!==y}return l?c:s}}function zL(...e){return function(t){if(0===e.length)return t;const n=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),n(t))}}function GL(e,t){return Array.isArray(t)&&t.length>0&&(e=zL.apply(null,[...t,e])),(n,i)=>{const r=e(n);return(o,s)=>r(o=void 0===o?i:o,s)}}new ge("@ngrx/store Root Store Provider"),new ge("@ngrx/store Feature State Provider");class Ev extends At{}class qL extends Pl{}let Zp=(()=>{class e extends Ue{get currentReducers(){return this.reducers}constructor(n,i,r,o){super(o(r,i)),this.dispatcher=n,this.initialState=i,this.reducers=r,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){const i=n.reduce((r,{reducers:o,reducerFactory:s,metaReducers:a,initialState:l,key:c})=>{const h="function"==typeof o?function Pne(e){const t=Array.isArray(e)&&e.length>0?zL(...e):n=>n;return(n,i)=>(n=t(n),(r,o)=>n(r=void 0===r?i:r,o))}(a)(o,l):GL(s,a)(o,l);return r[c]=h,r},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers={...this.reducers,...n},this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=function Nne(e,t){return Object.keys(e).filter(n=>n!==t).reduce((n,i)=>Object.assign(n,{[i]:e[i]}),{})}(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:n})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(i){return new(i||e)(le(qL),le(wE),le(OL),le(NL))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const kne=[Zp,{provide:Ev,useExisting:Zp},{provide:qL,useExisting:Pl}];let Dv=(()=>{class e extends $e{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const Fne=[Dv];class WL extends At{}let ZL=(()=>{class e extends Ue{static#e=this.INIT=ML;constructor(n,i,r,o){super(o);const c=n.pipe(Hu(Dne)).pipe(rv(i)).pipe(xL(Lne,{state:o}));this.stateSubscription=c.subscribe(({state:h,action:g})=>{this.next(h),r.next(g)}),this.state=mF(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(i){return new(i||e)(le(Pl),le(Ev),le(Dv),le(wE))};static#n=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();function Lne(e={state:void 0},[t,n]){const{state:i}=e;return{state:n(i,t),action:t}}const Vne=[ZL,{provide:WL,useExisting:ZL}];let uu=(()=>{class e extends At{constructor(n,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=n,this.state=n.state}select(n,...i){return Une.call(null,n,...i)(this)}selectSignal(n,i){return YA(()=>n(this.state()),{equal:i?.equal||((r,o)=>r===o)})}lift(n){const i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}static#e=this.\u0275fac=function(i){return new(i||e)(le(WL),le(Pl),le(Zp))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const Bne=[uu];function Une(e,t,...n){return function(r){let o;if("string"==typeof e){const s=[t,...n].filter(Boolean);o=r.pipe(function Sne(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return at(n=>{let i=n;for(let r=0;r<t;r++){const o=i?.[e[r]];if(!(typeof o<"u"))return;i=o}return i})}(e,...s))}else{if("function"!=typeof e)throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);o=r.pipe(at(s=>e(s,t)))}return o.pipe(pf())}}const AE="https://ngrx.io/guide/store/configuration/runtime-checks";function KL(e){return void 0===e}function YL(e){return null===e}function QL(e){return Array.isArray(e)}function JL(e){return"object"==typeof e&&null!==e}function xE(e){return"function"==typeof e}function nie(e){return e instanceof ge?ce(e):e}function iie(e,t){return t.map((n,i)=>{if(e[i]instanceof ge){const r=ce(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:SE,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function rie(e){return e.map(t=>t instanceof ge?ce(t):t)}function NE(e){return"function"==typeof e?e():e}function oie(e,t){return e.concat(t)}function sie(){if(ce(uu,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function PE(e){Object.freeze(e);const t=xE(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&function qne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,n)&&(!t||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const i=e[n];(JL(i)||xE(i))&&!Object.isFrozen(i)&&PE(i)}}),e}function OE(e,t=[]){return(KL(e)||YL(e))&&0===t.length?{path:["root"],value:e}:Object.keys(e).reduce((i,r)=>{if(i)return i;const o=e[r];return function Gne(e){return xE(e)&&e.hasOwnProperty("\u0275cmp")}(o)?i:!(KL(o)||YL(o)||function $ne(e){return"number"==typeof e}(o)||function Hne(e){return"boolean"==typeof e}(o)||function jne(e){return"string"==typeof e}(o)||QL(o))&&(function XL(e){if(!function zne(e){return JL(e)&&!QL(e)}(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(o)?OE(o,[...t,r]):{path:[...t,r],value:o})},!1)}function nV(e,t){if(!1===e)return;const n=e.path.join("."),i=new Error(`Detected unserializable ${t} at "${n}". ${AE}#strict${t}serializability`);throw i.value=e.value,i.unserializablePath=n,i}function cie(e){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function die({strictActionSerializability:e,strictStateSerializability:t}){return n=>e||t?function uie(e,t){return function(n,i){t.action(i)&&nV(OE(i),"action");const r=e(n,i);return t.state()&&nV(OE(r),"state"),r}}(n,{action:i=>e&&!kE(i),state:()=>t}):n}function hie({strictActionImmutability:e,strictStateImmutability:t}){return n=>e||t?function aie(e,t){return function(n,i){const r=t.action(i)?PE(i):i,o=e(n,r);return t.state()?PE(o):o}}(n,{action:i=>e&&!kE(i),state:()=>t}):n}function kE(e){return e.type.startsWith("@ngrx")}function fie({strictActionWithinNgZone:e}){return t=>e?function lie(e,t){return function(n,i){if(t.action(i)&&!vt.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${AE}#strictactionwithinngzone`);return e(n,i)}}(t,{action:n=>e&&!kE(n)}):t}function pie(e){return[{provide:HL,useValue:e},{provide:jL,useFactory:gie,deps:[HL]},{provide:qp,deps:[jL],useFactory:cie},{provide:Cv,multi:!0,deps:[qp],useFactory:hie},{provide:Cv,multi:!0,deps:[qp],useFactory:die},{provide:Cv,multi:!0,deps:[qp],useFactory:fie}]}function iV(){return[{provide:Wp,multi:!0,deps:[qp],useFactory:mie}]}function gie(e){return e}function mie(e){if(!e.strictActionTypeUniqueness)return;const t=Object.entries(zp).filter(([,n])=>n>1).map(([n])=>n);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(n=>`"${n}"`).join(", ")}. ${AE}#strictactiontypeuniqueness`)}function rV(e={},t={}){return[{provide:bE,useFactory:sie},{provide:RL,useValue:t.initialState},{provide:wE,useFactory:NE,deps:[RL]},{provide:TE,useValue:e},{provide:FL,useExisting:e instanceof ge?e:TE},{provide:OL,deps:[TE,[new U1(FL)]],useFactory:nie},{provide:BL,useValue:t.metaReducers?t.metaReducers:[]},{provide:UL,deps:[Cv,BL],useFactory:oie},{provide:PL,useValue:t.reducerFactory?t.reducerFactory:SE},{provide:NL,deps:[PL,UL],useFactory:GL},Rne,kne,Fne,Vne,Bne,pie(t.runtimeChecks),iV()]}function oV(e,t,n={}){return[{provide:LL,multi:!0,useValue:e instanceof Object?{}:n},{provide:kL,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:n instanceof ge||!n.reducerFactory?SE:n.reducerFactory,metaReducers:n instanceof ge||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof ge||!n.initialState?void 0:n.initialState}},{provide:EE,deps:[LL,kL],useFactory:iie},{provide:CE,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:VL,multi:!0,useExisting:t instanceof ge?t:CE},{provide:DE,multi:!0,deps:[CE,[new U1(VL)]],useFactory:rie},iV()]}let sV=(()=>{class e{constructor(n,i,r,o,s,a){}static#e=this.\u0275fac=function(i){return new(i||e)(le(Pl),le(Ev),le(Dv),le(uu),le(bE,8),le(Wp,8))};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})(),wie=(()=>{class e{constructor(n,i,r,o,s){this.features=n,this.featureReducers=i,this.reducerManager=r;const a=n.map((l,c)=>{const g=i.shift()[c];return{...l,reducers:g,initialState:NE(l.initialState)}});r.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(i){return new(i||e)(le(EE),le(DE),le(Zp),le(sV),le(Wp,8))};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})(),Tie=(()=>{class e{static forRoot(n,i){return{ngModule:sV,providers:[...rV(n,i)]}}static forFeature(n,i,r={}){return{ngModule:wie,providers:[...oV(n,i,r)]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})();function Iv(...e){return{reducer:e.pop(),types:e.map(i=>i.type)}}function FE(...e){const t=ju(e),n=Dc(e),{args:i,keys:r}=W2(e);if(0===i.length)return Tn([],t);const o=new At(function Die(e,t,n=pn){return i=>{aV(t,()=>{const{length:r}=e,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)aV(t,()=>{const c=Tn(e[l],t);let h=!1;c.subscribe(Dt(i,g=>{o[l]=g,h||(h=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Z2(r,s):pn));return n?o.pipe(wC(n)):o}function aV(e,t,n){e?Fo(n,e,t):t()}const Sv=mt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function uV(e){return new At(t=>{Wn(e()).subscribe(t)})}function Kp(e,t){const n=dt(e)?e:()=>e,i=r=>r.error(n());return new At(t?r=>t.schedule(i,0,r):i)}function LE(){return Ot((e,t)=>{let n=null;e._refCount++;const i=Dt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class lV extends At{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ft(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new zn;const n=this.getSubject();t.add(this.source.subscribe(Dt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=zn.EMPTY)}return t}refCount(){return LE()(this)}}function Av(e){return Ot((t,n)=>{let i=!1;t.subscribe(Dt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function cV(e=Iie){return Ot((t,n)=>{let i=!1;t.subscribe(Dt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function Iie(){return new Sv}function Ol(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Mi((r,o)=>e(r,o,i)):pn,Ri(1),n?Av(t):cV(()=>new Sv))}function Yp(e,t){return dt(t)?Zn(e,t,1):Zn(e,1)}function kl(e){return Ot((t,n)=>{let o,i=null,r=!1;i=t.subscribe(Dt(n,void 0,void 0,s=>{o=Wn(e(s,kl(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function VE(e){return e<=0?()=>gr:Ot((t,n)=>{let i=[];t.subscribe(Dt(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function BE(e){return Ot((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ot="primary",Qp=Symbol("RouteTitle");class Aie{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yd(e){return new Aie(e)}function xie(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function ms(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!dV(e[r],t[r]))return!1;return!0}function dV(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}return e===t}function hV(e){return e.length>0?e[e.length-1]:null}function lu(e){return function Eie(e){return!!e&&(e instanceof At||dt(e.lift)&&dt(e.subscribe))}(e)?e:op(e)?Tn(Promise.resolve(e)):xe(e)}const Rie={exact:function gV(e,t,n){if(!Fl(e.segments,t.segments)||!xv(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!gV(e.children[i],t.children[i],n))return!1;return!0},subset:mV},fV={exact:function Nie(e,t){return ms(e,t)},subset:function Pie(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>dV(e[n],t[n]))},ignored:()=>!0};function pV(e,t,n){return Rie[n.paths](e.root,t.root,n.matrixParams)&&fV[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function mV(e,t,n){return _V(e,t,t.segments,n)}function _V(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!Fl(r,n)||t.hasChildren()||!xv(r,n,i))}if(e.segments.length===n.length){if(!Fl(e.segments,n)||!xv(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!mV(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Fl(e.segments,r)&&xv(e.segments,r,i)&&e.children[ot])&&_V(e.children[ot],t,o,i)}}function xv(e,t,n){return t.every((i,r)=>fV[n](e[r].parameters,i.parameters))}class Qd{constructor(t=new en([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yd(this.queryParams)),this._queryParamMap}toString(){return Fie.serialize(this)}}class en{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mv(this)}}class Jp{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yd(this.parameters)),this._parameterMap}toString(){return bV(this)}}function Fl(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let Xp=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return new UE},providedIn:"root"})}return e})();class UE{parse(t){const n=new Wie(t);return new Qd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${eg(t.root,!0)}`,i=function Bie(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Rv(n)}=${Rv(r)}`).join("&"):`${Rv(n)}=${Rv(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function Lie(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Fie=new UE;function Mv(e){return e.segments.map(t=>bV(t)).join("/")}function eg(e,t){if(!e.hasChildren())return Mv(e);if(t){const n=e.children[ot]?eg(e.children[ot],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==ot&&i.push(`${r}:${eg(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function kie(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===ot&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==ot&&(n=n.concat(t(r,i)))}),n}(e,(i,r)=>r===ot?[eg(e.children[ot],!1)]:[`${r}:${eg(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ot]?`${Mv(e)}/${n[0]}`:`${Mv(e)}/(${n.join("//")})`}}function yV(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rv(e){return yV(e).replace(/%3B/gi,";")}function jE(e){return yV(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nv(e){return decodeURIComponent(e)}function vV(e){return Nv(e.replace(/\+/g,"%20"))}function bV(e){return`${jE(e.path)}${function Vie(e){return Object.keys(e).map(t=>`;${jE(t)}=${jE(e[t])}`).join("")}(e.parameters)}`}const Uie=/^[^\/()?;#]+/;function HE(e){const t=e.match(Uie);return t?t[0]:""}const jie=/^[^\/()?;=#]+/,$ie=/^[^=?&#]+/,Gie=/^[^&#]+/;class Wie{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[ot]=new en(t,n)),i}parseSegment(){const t=HE(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(t),new Jp(Nv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Hie(e){const t=e.match(jie);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=HE(this.remaining);r&&(i=r,this.capture(i))}t[Nv(n)]=Nv(i)}parseQueryParam(t){const n=function zie(e){const t=e.match($ie);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=function qie(e){const t=e.match(Gie);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=vV(n),o=vV(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=HE(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ue(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ot);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ot]:new en([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ue(4011,!1)}}function wV(e){return e.segments.length>0?new en([],{[ot]:e}):e}function TV(e){const t={};for(const i of Object.keys(e.children)){const o=TV(e.children[i]);if(i===ot&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Zie(e){if(1===e.numberOfChildren&&e.children[ot]){const t=e.children[ot];return new en(e.segments.concat(t.segments),t.children)}return e}(new en(e.segments,t))}function Ll(e){return e instanceof Qd}function CV(e){let t;const r=wV(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new en(o.url,s);return o===e&&(t=a),a}(e.root));return t??r}function EV(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(0===t.length)return $E(r,r,r,n,i);const o=function Yie(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new IV(!0,0,e);let t=0,n=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new IV(n,t,i)}(t);if(o.toRoot())return $E(r,r,new en([],{}),n,i);const s=function Qie(e,t,n){if(e.isAbsolute)return new Ov(t,!0,0);if(!n)return new Ov(t,!1,NaN);if(null===n.parent)return new Ov(n,!0,0);const i=Pv(e.commands[0])?0:1;return function Jie(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ue(4005,!1);r=i.segments.length}return new Ov(i,!1,r-o)}(n,n.segments.length-1+i,e.numberOfDoubleDots)}(o,r,e),a=s.processChildren?ng(s.segmentGroup,s.index,o.commands):SV(s.segmentGroup,s.index,o.commands);return $E(r,s.segmentGroup,a,n,i)}function Pv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function tg(e){return"object"==typeof e&&null!=e&&e.outlets}function $E(e,t,n,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=e===t?n:DV(e,t,n);const a=wV(TV(s));return new Qd(a,o,r)}function DV(e,t,n){const i={};return Object.entries(e.children).forEach(([r,o])=>{i[r]=o===t?n:DV(o,t,n)}),new en(e.segments,i)}class IV{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Pv(i[0]))throw new ue(4003,!1);const r=i.find(tg);if(r&&r!==hV(i))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ov{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function SV(e,t,n){if(e||(e=new en([],{})),0===e.segments.length&&e.hasChildren())return ng(e,t,n);const i=function ere(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const s=e.segments[r],a=n[i];if(tg(a))break;const l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xV(l,c,s))return o;i+=2}else{if(!xV(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new en(e.segments.slice(0,i.pathIndex),{});return o.children[ot]=new en(e.segments.slice(i.pathIndex),e.children),ng(o,0,r)}return i.match&&0===r.length?new en(e.segments,{}):i.match&&!e.hasChildren()?zE(e,t,n):i.match?ng(e,0,r):zE(e,t,n)}function ng(e,t,n){if(0===n.length)return new en(e.segments,{});{const i=function Xie(e){return tg(e[0])?e[0].outlets:{[ot]:e}}(n),r={};if(Object.keys(i).some(o=>o!==ot)&&e.children[ot]&&1===e.numberOfChildren&&0===e.children[ot].segments.length){const o=ng(e.children[ot],t,n);return new en(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=SV(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new en(e.segments,r)}}function zE(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(tg(o)){const l=tre(o.outlets);return new en(i,l)}if(0===r&&Pv(n[0])){i.push(new Jp(e.segments[t].path,AV(n[0]))),r++;continue}const s=tg(o)?o.outlets[ot]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Pv(a)?(i.push(new Jp(s,AV(a))),r+=2):(i.push(new Jp(s,{})),r++)}return new en(i,{})}function tre(e){const t={};return Object.entries(e).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=zE(new en([],{}),0,i))}),t}function AV(e){const t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function xV(e,t,n){return e==n.path&&ms(t,n.parameters)}const ig="imperative";class _s{constructor(t,n){this.id=t,this.url=n}}class rg extends _s{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cu extends _s{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class og extends _s{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jd extends _s{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class kv extends _s{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MV extends _s{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nre extends _s{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ire extends _s{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rre extends _s{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ore extends _s{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sre{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class are{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ure{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lre{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cre{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dre{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RV{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class GE{}class qE{constructor(t){this.url=t}}class hre{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sg,this.attachRef=null}}let sg=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new hre,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class NV{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=WE(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=WE(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=ZE(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ZE(t,this._root).map(n=>n.value)}}function WE(e,t){if(e===t.value)return t;for(const n of t.children){const i=WE(e,n);if(i)return i}return null}function ZE(e,t){if(e===t.value)return[t];for(const n of t.children){const i=ZE(e,n);if(i.length)return i.unshift(t),i}return[]}class ra{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Xd(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class PV extends NV{constructor(t,n){super(t),this.snapshot=n,KE(this,t)}toString(){return this.snapshot.toString()}}function OV(e,t){const n=function fre(e,t){const s=new Fv([],{},{},"",{},ot,t,null,{});return new FV("",new ra(s,[]))}(0,t),i=new Ue([new Jp("",{})]),r=new Ue({}),o=new Ue({}),s=new Ue({}),a=new Ue(""),l=new eh(i,r,s,a,o,ot,t,n.root);return l.snapshot=n.root,new PV(new ra(l,[]),n)}class eh{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(at(c=>c[Qp]))??xe(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(at(t=>Yd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(at(t=>Yd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kV(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function pre(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Fv{get title(){return this.data?.[Qp]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FV extends NV{constructor(t,n){super(n),this.url=t,KE(this,n)}toString(){return LV(this._root)}}function KE(e,t){t.value._routerState=e,t.children.forEach(n=>KE(e,n))}function LV(e){const t=e.children.length>0?` { ${e.children.map(LV).join(", ")} } `:"";return`${e.value}${t}`}function YE(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ms(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ms(t.params,n.params)||e.paramsSubject.next(n.params),function Mie(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ms(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ms(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function QE(e,t){const n=ms(e.params,t.params)&&function Oie(e,t){return Fl(e,t)&&e.every((n,i)=>ms(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||QE(e.parent,t.parent))}let JE=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=ce(sg),this.location=ce(Er),this.changeDetector=ce(Ao),this.environmentInjector=ce(kr),this.inputBinder=ce(Lv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=n;const r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new gre(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Si]})}return e})();class gre{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===eh?this.route:t===sg?this.childContexts:this.parent.get(t,n)}}const Lv=new ge("");let VV=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,r=FE([i.queryParams,i.params,i.data]).pipe(xn(([o,s,a],l)=>(a={...o,...s,...a},0===l?xe(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const s=function XW(e){const t=Tt(e);if(!t)return null;const n=new Xf(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();function ag(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function _re(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ag(e,i,r);return ag(e,i)})}(e,t,n);return new ra(i,r)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ag(e,a)),s}}const i=function yre(e){return new eh(new Ue(e.url),new Ue(e.params),new Ue(e.queryParams),new Ue(e.fragment),new Ue(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(o=>ag(e,o));return new ra(i,r)}}const XE="ngNavigationCancelingError";function BV(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=Ll(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=UV(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function UV(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[XE]=!0,i.cancellationCode=t,n&&(i.url=n),i}function jV(e){return e&&e[XE]}let HV=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["ng-component"]],standalone:!0,features:[oo],decls:1,vars:0,template:function(i,r){1&i&&Ge(0,"router-outlet")},dependencies:[JE],encapsulation:2})}return e})();function eD(e){const t=e.children&&e.children.map(eD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ot&&(n.component=HV),n}function Zo(e){return e.outlet||ot}function ug(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Ire{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),YE(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=Xd(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Xd(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Xd(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){const r=Xd(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new dre(o.value.snapshot))}),t.children.length&&this.forwardEvent(new lre(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(YE(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),YE(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ug(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class $V{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vv{constructor(t,n){this.component=t,this.route=n}}function Sre(e,t,n){const i=e._root;return lg(i,t?t._root:null,n,[i.value])}function th(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function _f(e){return null!==Pc(e)}(e)?t.get(e):e:i}function lg(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xd(t);return e.children.forEach(s=>{(function xre(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Mre(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Fl(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fl(e.url,t.url)||!ms(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QE(e,t)||!ms(e.queryParams,t.queryParams);default:return!QE(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new $V(i)):(o.data=s.data,o._resolvedData=s._resolvedData),lg(e,t,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Vv(a.outlet.component,s))}else s&&cg(t,a,r),r.canActivateChecks.push(new $V(i)),lg(e,null,o.component?a?a.children:null:n,i,r)})(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>cg(a,n.getContext(s),r)),r}function cg(e,t,n){const i=Xd(e),r=e.value;Object.entries(i).forEach(([o,s])=>{cg(s,r.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Vv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function dg(e){return"function"==typeof e}function zV(e){return e instanceof Sv||"EmptyError"===e?.name}const Bv=Symbol("INITIAL_VALUE");function nh(){return xn(e=>FE(e.map(t=>t.pipe(Ri(1),oF(Bv)))).pipe(at(t=>{for(const n of t)if(!0!==n){if(n===Bv)return Bv;if(!1===n||n instanceof Qd)return n}return!0}),Mi(t=>t!==Bv),Ri(1)))}function GV(e){return function Rs(...e){return Ye(e)}(vi(t=>{if(Ll(t))throw BV(0,t)}),at(t=>!0===t))}class Uv{constructor(t){this.segmentGroup=t||null}}class qV{constructor(t){this.urlTree=t}}function ih(e){return Kp(new Uv(e))}function WV(e){return Kp(new qV(e))}class Yre{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new ue(4002,!1)}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return xe(i);if(r.numberOfChildren>1||!r.children[ot])return Kp(new ue(4e3,!1));r=r.children[ot]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const o=this.createSegmentGroup(t,n.root,i,r);return new Qd(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){const o=this.createSegments(t,n.segments,i,r);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new en(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new ue(4001,!1);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}const tD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qre(e,t,n,i,r){const o=nD(e,t,n);return o.matched?(i=function bre(e,t){return e.providers&&!e._injector&&(e._injector=gT(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function Wre(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?xe(r.map(s=>{const a=th(s,e);return lu(function Fre(e){return e&&dg(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(nh(),GV()):xe(!0)}(i,t,n).pipe(at(s=>!0===s?o:{...tD}))):xe(o)}function nD(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...tD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||xie)(n,e,t);if(!r)return{...tD};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function ZV(e,t,n,i){return n.length>0&&function eoe(e,t,n){return n.some(i=>jv(e,t,i)&&Zo(i)!==ot)}(e,n,i)?{segmentGroup:new en(t,Xre(i,new en(n,e.children))),slicedSegments:[]}:0===n.length&&function toe(e,t,n){return n.some(i=>jv(e,t,i))}(e,n,i)?{segmentGroup:new en(e.segments,Jre(e,0,n,i,e.children)),slicedSegments:n}:{segmentGroup:new en(e.segments,e.children),slicedSegments:n}}function Jre(e,t,n,i,r){const o={};for(const s of i)if(jv(e,n,s)&&!r[Zo(s)]){const a=new en([],{});o[Zo(s)]=a}return{...r,...o}}function Xre(e,t){const n={};n[ot]=t;for(const i of e)if(""===i.path&&Zo(i)!==ot){const r=new en([],{});n[Zo(i)]=r}return n}function jv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class ooe{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Yre(this.urlSerializer,this.urlTree)}noMatchError(t){return new ue(4002,!1)}recognize(){const t=ZV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ot).pipe(kl(n=>{if(n instanceof qV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Uv?this.noMatchError(n):n}),at(n=>{const i=new Fv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,{}),r=new ra(i,n),o=new FV("",r),s=function Kie(e,t,n=null,i=null){return EV(CV(e),t,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ot).pipe(kl(i=>{throw i instanceof Uv?this.noMatchError(i):i}))}inheritParamsAndData(t){const n=t.value,i=kV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0)}processChildren(t,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Tn(r).pipe(Yp(o=>{const s=i.children[o],a=function Ere(e,t){const n=e.filter(i=>Zo(i)===t);return n.push(...e.filter(i=>Zo(i)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),xL((o,s)=>(o.push(...s),o)),Av(null),function Sie(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Mi((r,o)=>e(r,o,i)):pn,VE(1),n?Av(t):cV(()=>new Sv))}(),Zn(o=>{if(null===o)return ih(i);const s=KV(o);return function soe(e){e.sort((t,n)=>t.value.outlet===ot?-1:n.value.outlet===ot?1:t.value.outlet.localeCompare(n.value.outlet))}(s),xe(s)}))}processSegment(t,n,i,r,o,s){return Tn(n).pipe(Yp(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,i,r,o,s).pipe(kl(l=>{if(l instanceof Uv)return xe(null);throw l}))),Ol(a=>!!a),kl(a=>{if(zV(a))return function ioe(e,t,n){return 0===t.length&&!e.children[n]}(i,r,o)?xe([]):ih(i);throw a}))}processSegmentAgainstRoute(t,n,i,r,o,s,a){return function noe(e,t,n,i){return!!(Zo(e)===i||i!==ot&&jv(t,n,e))&&("**"===e.path||nD(t,e,n).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s):ih(r):ih(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?WV(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Zn(s=>{const a=new en(s,{});return this.processSegment(t,n,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=nD(n,r,o);if(!a)return ih(n);const g=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?WV(g):this.applyRedirects.lineralizeSegments(r,g).pipe(Zn(m=>this.processSegment(t,i,n,m.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?hV(r).parameters:{};a=xe({snapshot:new Fv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YV(i),Zo(i),i.component??i._loadedComponent??null,i,QV(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Qre(n,i,r,t).pipe(at(({matched:l,consumedSegments:c,remainingSegments:h,parameters:g})=>l?{snapshot:new Fv(c,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YV(i),Zo(i),i.component??i._loadedComponent??null,i,QV(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(xn(l=>null===l?ih(n):this.getChildConfig(t=i._injector??t,i,r).pipe(xn(({routes:c})=>{const h=i._loadedInjector??t,{snapshot:g,consumedSegments:m,remainingSegments:y}=l,{segmentGroup:T,slicedSegments:I}=ZV(n,m,y,c);if(0===I.length&&T.hasChildren())return this.processChildren(h,c,T).pipe(at(S=>null===S?null:[new ra(g,S)]));if(0===c.length&&0===I.length)return xe([new ra(g,[])]);const C=Zo(i)===o;return this.processSegment(h,c,T,I,C?ot:o,!0).pipe(at(S=>[new ra(g,S)]))}))))}getChildConfig(t,n,i){return n.children?xe({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?xe({routes:n._loadedRoutes,injector:n._loadedInjector}):function qre(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?xe(!0):xe(r.map(s=>{const a=th(s,e);return lu(function Nre(e){return e&&dg(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(nh(),GV())}(t,n,i).pipe(Zn(r=>r?this.configLoader.loadChildren(t,n).pipe(vi(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Kre(e){return Kp(UV(!1,3))}())):xe({routes:[],injector:t})}}function aoe(e){const t=e.value.routeConfig;return t&&""===t.path}function KV(e){const t=[],n=new Set;for(const i of e){if(!aoe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=KV(i.children);t.push(new ra(i.value,r))}return t.filter(i=>!n.has(i))}function YV(e){return e.data||{}}function QV(e){return e.resolve||{}}function JV(e){return"string"==typeof e.title||null===e.title}function iD(e){return xn(t=>{const n=e(t);return n?Tn(n).pipe(at(()=>t)):xe(t)})}const rh=new ge("ROUTES");let rD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(CO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return xe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=lu(n.loadComponent()).pipe(at(XV),vi(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),BE(()=>{this.componentLoaders.delete(n)})),r=new lV(i,()=>new $e).pipe(LE());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function poe(e,t,n,i){return lu(e.loadChildren()).pipe(at(XV),Zn(r=>r instanceof NP||Array.isArray(r)?xe(r):Tn(t.compileModuleAsync(r))),at(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(n).injector,s=o.get(rh,[],{optional:!0,self:!0}).flat()),{routes:s.map(eD),injector:o}}))}(i,this.compiler,n,this.onLoadEndListener).pipe(BE(()=>{this.childrenLoaders.delete(i)})),s=new lV(o,()=>new $e).pipe(LE());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XV(e){return function goe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Hv=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=ce(rD),this.environmentInjector=ce(kr),this.urlSerializer=ce(Xp),this.rootContexts=ce(sg),this.inputBindingEnabled=null!==ce(Lv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new are(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new sre(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,r){return this.transitions=new Ue({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ig,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mi(o=>0!==o.id),at(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),xn(o=>{this.currentTransition=o;let s=!1,a=!1;return xe(o).pipe(vi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xn(l=>{const c=l.currentBrowserUrl.toString(),h=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Jd(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),gr}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return xe(l).pipe(xn(m=>{const y=this.transitions?.getValue();return this.events.next(new rg(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?gr:Promise.resolve(m)}),function uoe(e,t,n,i,r,o){return Zn(s=>function roe(e,t,n,i,r,o,s="emptyOnly"){return new ooe(e,t,n,i,r,s,o).recognize()}(e,t,n,i,s.extractedUrl,r,o).pipe(at(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),vi(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new MV(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:y,source:T,restoredState:I,extras:C}=l,S=new rg(m,this.urlSerializer.serialize(y),T,I);this.events.next(S);const D=OV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:D,urlAfterRedirects:y,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},xe(o)}{const m="";return this.events.next(new Jd(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),gr}}),vi(l=>{const c=new nre(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),at(l=>(this.currentTransition=o={...l,guards:Sre(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Vre(e,t){return Zn(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?xe({...n,guardsResult:!0}):function Bre(e,t,n,i){return Tn(e).pipe(Zn(r=>function Gre(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?xe(o.map(a=>{const l=ug(t)??r,c=th(a,l);return lu(function kre(e){return e&&dg(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,i):l.runInContext(()=>c(e,t,n,i))).pipe(Ol())})).pipe(nh()):xe(!0)}(r.component,r.route,n,t,i)),Ol(r=>!0!==r,!0))}(s,i,r,e).pipe(Zn(a=>a&&function Rre(e){return"boolean"==typeof e}(a)?function Ure(e,t,n,i){return Tn(t).pipe(Yp(r=>Mp(function Hre(e,t){return null!==e&&t&&t(new ure(e)),xe(!0)}(r.route.parent,i),function jre(e,t){return null!==e&&t&&t(new cre(e)),xe(!0)}(r.route,i),function zre(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Are(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>uV(()=>xe(s.guards.map(l=>{const c=ug(s.node)??n,h=th(l,c);return lu(function Ore(e){return e&&dg(e.canActivateChild)}(h)?h.canActivateChild(i,e):c.runInContext(()=>h(i,e))).pipe(Ol())})).pipe(nh())));return xe(o).pipe(nh())}(e,r.path,n),function $re(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const r=i.map(o=>uV(()=>{const s=ug(t)??n,a=th(o,s);return lu(function Pre(e){return e&&dg(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Ol())}));return xe(r).pipe(nh())}(e,r.route,n))),Ol(r=>!0!==r,!0))}(i,o,e,t):xe(a)),at(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),vi(l=>{if(o.guardsResult=l.guardsResult,Ll(l.guardsResult))throw BV(0,l.guardsResult);const c=new ire(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Mi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),iD(l=>{if(l.guards.canActivateChecks.length)return xe(l).pipe(vi(c=>{const h=new rre(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),xn(c=>{let h=!1;return xe(c).pipe(function loe(e,t){return Zn(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return xe(n);let o=0;return Tn(r).pipe(Yp(s=>function coe(e,t,n,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!JV(r)&&(o[Qp]=r.title),function doe(e,t,n,i){const r=function hoe(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return xe({});const o={};return Tn(r).pipe(Zn(s=>function foe(e,t,n,i){const r=ug(t)??i,o=th(e,r);return lu(o.resolve?o.resolve(t,n):r.runInContext(()=>o(t,n)))}(e[s],t,n,i).pipe(Ol(),vi(a=>{o[s]=a}))),VE(1),iF(o),kl(s=>zV(s)?gr:Kp(s)))}(o,e,t,i).pipe(at(s=>(e._resolvedData=s,e.data=kV(e,n).resolve,r&&JV(r)&&(e.data[Qp]=r.title),null)))}(s.route,i,e,t)),vi(()=>o++),VE(1),Zn(s=>o===r.length?xe(n):gr))})}(n.paramsInheritanceStrategy,this.environmentInjector),vi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),vi(c=>{const h=new ore(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),iD(l=>{const c=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(vi(m=>{h.component=m}),at(()=>{})));for(const m of h.children)g.push(...c(m));return g};return FE(c(l.targetSnapshot.root)).pipe(Av(),Ri(1))}),iD(()=>this.afterPreactivation()),at(l=>{const c=function mre(e,t,n){const i=ag(e,t._root,n?n._root:void 0);return new PV(i,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),vi(()=>{this.events.next(new GE)}),((e,t,n,i)=>at(r=>(new Ire(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ri(1),vi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ei(this.transitionAbortSubject.pipe(vi(l=>{throw l}))),BE(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),kl(l=>{if(a=!0,jV(l))this.events.next(new og(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function vre(e){return jV(e)&&Ll(e.url)}(l)?this.events.next(new qE(l.url)):o.resolve(!1);else{this.events.next(new kv(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(c){o.reject(c)}}return gr}))}))}cancelNavigationTransition(n,i,r){const o=new og(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eB(e){return e!==ig}let tB=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ot);return i}getResolvedTitleForRoute(n){return n.data[Qp]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return ce(moe)},providedIn:"root"})}return e})(),moe=(()=>{class e extends tB{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(le($2))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_oe=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return ce(voe)},providedIn:"root"})}return e})();class yoe{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let voe=(()=>{class e extends yoe{static#e=this.\u0275fac=function(){let n;return function(r){return(n||(n=Jn(e)))(r||e)}}();static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $v=new ge("",{providedIn:"root",factory:()=>({})});let boe=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:function(){return ce(woe)},providedIn:"root"})}return e})(),woe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hg=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(hg||{});function nB(e,t){e.events.pipe(Mi(n=>n instanceof cu||n instanceof og||n instanceof kv||n instanceof Jd),at(n=>n instanceof cu||n instanceof Jd?hg.COMPLETE:n instanceof og&&(0===n.code||1===n.code)?hg.REDIRECTING:hg.FAILED),Mi(n=>n!==hg.REDIRECTING),Ri(1)).subscribe(()=>{t()})}function Toe(e){throw e}function Coe(e,t,n){return t.parse("/")}const Eoe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Doe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ce(wO),this.isNgZoneEnabled=!1,this._events=new $e,this.options=ce($v,{optional:!0})||{},this.pendingTasks=ce(TO),this.errorHandler=this.options.errorHandler||Toe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Coe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ce(boe),this.routeReuseStrategy=ce(_oe),this.titleStrategy=ce(tB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ce(rh,{optional:!0})?.flat()??[],this.navigationTransitions=ce(Hv),this.urlSerializer=ce(Xp),this.location=ce(KT),this.componentInputBindingEnabled=!!ce(Lv,{optional:!0}),this.eventsSubscription=new zn,this.isNgZoneEnabled=ce(vt)instanceof vt&&vt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(iB(i)&&this._events.next(i));if(i instanceof rg)eB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Jd)this.rawUrlTree=r.rawUrl;else if(i instanceof MV){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof GE)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof og)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof qE){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eB(r.source)};this.scheduleNavigation(o,ig,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof kv&&this.restoreHistory(r,!0),i instanceof cu&&(this.navigated=!0),iB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ig,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(eD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let g,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{g=CV(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return EV(g,n,h,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=Ll(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ig,null,i)}navigate(n,i={skipLocationChange:!1}){return function Ioe(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new ue(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...Eoe}:!1===i?{...Doe}:i,Ll(n))return pV(this.currentUrlTree,n,r);const o=this.parseUrl(n);return pV(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const o=n[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((g,m)=>{a=g,l=m});const h=this.pendingTasks.add();return nB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iB(e){return!(e instanceof GE||e instanceof qE)}let fg=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof cu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function FM(e,t,n){return function v8(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?kM:OM}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||e)(H(Hr),H(eh),ul("tabindex"),H(Fr),H(qt),H(_l))};static#t=this.\u0275dir=be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&We("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Qt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Od],skipLocationChange:["skipLocationChange","skipLocationChange",Od],replaceUrl:["replaceUrl","replaceUrl",Od],routerLink:"routerLink"},standalone:!0,features:[KR,Si]})}return e})();class rB{}let xoe=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mi(n=>n instanceof cu),Yp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=gT(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Tn(r).pipe(xa())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):xe(null);const o=r.pipe(Zn(s=>null===s?xe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return i.loadComponent&&!i._loadedComponent?Tn([o,this.loader.loadComponent(i)]).pipe(xa()):o})}static#e=this.\u0275fac=function(i){return new(i||e)(le(Hr),le(CO),le(kr),le(rB),le(rD))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const oD=new ge("");let oB=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof cu?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Jd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof RV&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RV(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function TR(){throw new Error("invalid")}()};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();function oa(e,t){return{\u0275kind:e,\u0275providers:t}}function aB(){const e=ce(Ai);return t=>{const n=e.get(Ws);if(t!==n.components[0])return;const i=e.get(Hr),r=e.get(uB);1===e.get(sD)&&i.initialNavigation(),e.get(lB,null,pt.Optional)?.setUpPreloading(),e.get(oD,null,pt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const uB=new ge("",{factory:()=>new $e}),sD=new ge("",{providedIn:"root",factory:()=>1}),lB=new ge("");function Poe(e){return oa(0,[{provide:lB,useExisting:xoe},{provide:rB,useExisting:e}])}const cB=new ge("ROUTER_FORROOT_GUARD"),koe=[KT,{provide:Xp,useClass:UE},Hr,sg,{provide:eh,useFactory:function sB(e){return e.routerState.root},deps:[Hr]},rD,[]];function Foe(){return new MO("Router",Hr)}let dB=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[koe,[],{provide:rh,multi:!0,useValue:n},{provide:cB,useFactory:Uoe,deps:[[Hr,new N_,new P_]]},{provide:$v,useValue:i||{}},i?.useHash?{provide:_l,useClass:rZ}:{provide:_l,useClass:s2},{provide:oD,useFactory:()=>{const e=ce(CK),t=ce(vt),n=ce($v),i=ce(Hv),r=ce(Xp);return n.scrollOffset&&e.setOffset(n.scrollOffset),new oB(r,i,e,t,n)}},i?.preloadingStrategy?Poe(i.preloadingStrategy).\u0275providers:[],{provide:MO,multi:!0,useFactory:Foe},i?.initialNavigation?joe(i):[],i?.bindToComponentInputs?oa(8,[VV,{provide:Lv,useExisting:VV}]).\u0275providers:[],[{provide:hB,useFactory:aB},{provide:VT,multi:!0,useExisting:hB}]]}}static forChild(n){return{ngModule:e,providers:[{provide:rh,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(i){return new(i||e)(le(cB,8))};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({})}return e})();function Uoe(e){return"guarded"}function joe(e){return["disabled"===e.initialNavigation?oa(3,[{provide:MT,multi:!0,useFactory:()=>{const t=ce(Hr);return()=>{t.setUpLocationChangeListener()}}},{provide:sD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?oa(2,[{provide:sD,useValue:0},{provide:MT,multi:!0,deps:[Ai],useFactory:t=>{const n=t.get(nZ,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(Hr),o=t.get(uB);nB(r,()=>{i(!0)}),t.get(Hv).afterPreactivation=()=>(i(!0),o.closed?xe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const hB=new ge("");let $oe=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-view-cards"]],decls:47,vars:0,consts:[["id","team",1,"pb-5"],[1,"container"],[1,"section-title","h1"],[1,"row"],[1,"col-xs-12","col-sm-6","col-md-4"],[1,"image-flip"],[1,"mainflip","flip-0"],[1,"frontside"],[1,"card"],[1,"card-body","text-center","d-flex","flex-column","justify-content-center","align-items-center"],[1,"card-title"],[1,"card-text"],[1,"backside"],[1,"card-body","text-center","mt-4","overflow-hidden",2,"height","312px"],["src","https://image-charts.com/chart?chco=0762C8%2CE10600&chd=a%3A150%2C156%2C155%2C164%2C175%2C171%2C160%2C168%2C187%2C188%2C192%2C192%2C187%2C185%2C194%2C198%2C213%2C199%2C210%2C198%2C193%2C181%2C192%2C203%2C210%2C227%2C227%2C226%2C218%2C233%2C225%2C239%2C242%2C256%2C264%2C277%2C294%2C285%2C296%2C278%2C271%2C287%2C276%2C259%2C266%2C258%2C257%2C262%2C270%2C275%2C285%2C285%2C267%2C259%2C272%2C264%2C250%2C255%2C272%2C253%2C241%2C251%2C241%2C253%2C245%2C262%2C280%2C273%2C261%2C275%2C260%2C248%2C231%2C241%2C228%2C219%2C228%2C228%2C222%2C205%2C191%2C192%2C207%2C219%2C209%2C218%2C217%2C212%2C199%2C180%2C186%2C169%2C150%2C134%2C116%2C123%2C130%2C130%2C144%2C140%2C130%7C150%2C161%2C149%2C150%2C147%2C166%2C165%2C149%2C143%2C162%2C162%2C180%2C168%2C161%2C150%2C154%2C165%2C164%2C178%2C168%2C178%2C172%2C170%2C162%2C151%2C135%2C133%2C145%2C134%2C137%2C154%2C158%2C159%2C177%2C192%2C175%2C186%2C204%2C192%2C207%2C221%2C213%2C203%2C214%2C233%2C233%2C224%2C209%2C216%2C208%2C208%2C191%2C209%2C224%2C239%2C229%2C213%2C203%2C216%2C230%2C242%2C250%2C263%2C282%2C292%2C295%2C303%2C303%2C320%2C332%2C319%2C315%2C307%2C320%2C321%2C326%2C332%2C316%2C311%2C325%2C321%2C312%2C331%2C335%2C328%2C317%2C317%2C315%2C304%2C319%2C304%2C305%2C295%2C296%2C300%2C293%2C293%2C277%2C261%2C250%2C253&chs=600x300&cht=lc&chxl=0%3A%7C01%2F02%2F2008%7C07%2F01%2F2008%7C01%2F02%2F2009%7C07%2F01%2F2009&chxr=1%2C100%2C350%2C10&chxs=0%2C000000%2C10%7C1%2C000000%2C10&chxt=x%2Cr&icac=documentation&icff=Acme&icretina=1&ichm=5d50aa03d069e6c092c1756d85e39ba211988c5f331b2605dedcef9eb2297a60",1,"img-fluid"],["ontouchstart","this.classList.toggle('hover');",1,"image-flip"],[1,"mainflip"],["src","https://miro.medium.com/v2/resize:fit:1150/1*QRf2UmCIrRteHb_i8p32Xg.png",1,"img-fluid","w-100"],["src","https://www.shutterstock.com/shutterstock/photos/1773245270/display_1500/stock-vector-stacked-bar-chart-stacked-bar-graph-for-info-graphics-presentations-dashboards-website-1773245270.jpg",1,"img-fluid"]],template:function(i,r){1&i&&(z(0,"section",0)(1,"div",1)(2,"h5",2),re(3,"Comming Soon...!"),U(),z(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h4",10),re(12,"Line Charts"),U(),z(13,"p",11),re(14,"Multi-Line chart for more complex analysis soon be added."),U()()()(),z(15,"div",12)(16,"div",8)(17,"div",13),Ge(18,"img",14),U()()()()()(),z(19,"div",4)(20,"div",15)(21,"div",16)(22,"div",7)(23,"div",8)(24,"div",9)(25,"h4",10),re(26,"Maps"),U(),z(27,"p",11),re(28,"We will soon be adding polygon functionality to our map for enhanced spatial analysis and visualization. Stay tuned!"),U()()()(),z(29,"div",12)(30,"div",8)(31,"div",13),Ge(32,"img",17),U()()()()()(),z(33,"div",4)(34,"div",15)(35,"div",16)(36,"div",7)(37,"div",8)(38,"div",9)(39,"h4",10),re(40,"Stacked Bar Chart"),U(),z(41,"p",11),re(42,"Stack-Bar chart for more complex analysis soon be added"),U()()()(),z(43,"div",12)(44,"div",8)(45,"div",13),Ge(46,"img",18),U()()()()()()()()())},styles:['@import"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css";#team[_ngcontent-%COMP%]{background:#eee!important}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background-color:#108d6f;border-color:#108d6f;box-shadow:none;outline:none}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#007b5e;border-color:#007b5e}section[_ngcontent-%COMP%]{padding:60px 0}section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;color:#375eec94;margin-bottom:50px;text-transform:uppercase}#team[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;background:#ffffff}.image-flip[_ngcontent-%COMP%]:hover   .backside[_ngcontent-%COMP%], .image-flip.hover[_ngcontent-%COMP%]   .backside[_ngcontent-%COMP%]{transform:rotateY(0);border-radius:.25rem}.image-flip[_ngcontent-%COMP%]:hover   .frontside[_ngcontent-%COMP%], .image-flip.hover[_ngcontent-%COMP%]   .frontside[_ngcontent-%COMP%]{transform:rotateY(180deg)}.mainflip[_ngcontent-%COMP%]{-webkit-transition:1s;-webkit-transform-style:preserve-3d;-ms-transition:1s;-moz-transition:1s;-moz-transform:perspective(1000px);-moz-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transition:1s;transform-style:preserve-3d;position:relative}.frontside[_ngcontent-%COMP%]{position:relative;-webkit-transform:rotateY(0deg);-ms-transform:rotateY(0deg);z-index:2;margin-bottom:30px}.backside[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:white;transform:rotateY(-180deg);box-shadow:5px 7px 9px -4px #9e9e9e}.frontside[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]{backface-visibility:hidden;-webkit-transition:1s;-webkit-transform-style:preserve-3d;-moz-transition:1s;-moz-transform-style:preserve-3d;-o-transition:1s;-o-transform-style:preserve-3d;-ms-transition:1s;-ms-transform-style:preserve-3d;transition:1s;transform-style:preserve-3d}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-height:312px}.backside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#375eec94!important}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .backside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#375eec94!important}.frontside[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%}']})}return e})(),zoe=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-contact"]],decls:12,vars:0,consts:[[1,"container","d-flex","justify-content-center","align-items-center"],[1,"align-center","p-3"],[1,"d-flex","flex-column","align-center"],[1,"d-flex","align-items-center","justify-content-center"],["href","https://www.linkedin.com/in/mayuresh-takawane/","target","_blank","ngbTooltip","LinkedIn",1,"m-2",2,"text-decoration","none"],[1,"bi","bi-linkedin","footer-icons"],["href","https://github.com/mayur8485","target","_blank",1,"m-2",2,"text-decoration","none"],["ngbTooltip","Github",1,"bi","bi-github","footer-icons"],["ngbTooltip","mayureshtakawane9@gmail.com",1,"btn","btn-tertairy"],[1,"bi","bi-envelope-fill","footer-icons"]],template:function(i,r){1&i&&(z(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),re(4,"Mayuresh Takawane"),U(),z(5,"div",3)(6,"a",4),Ge(7,"i",5),U(),z(8,"a",6),Ge(9,"i",7),U(),z(10,"button",8),Ge(11,"i",9),U()()()()())},dependencies:[Zd],styles:[".footer-icons[_ngcontent-%COMP%]{color:#0d6efd;font-size:25px}"]})}return e})(),Goe=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-timeline"]],decls:52,vars:0,consts:[[1,"container"],[1,"row","text-center","justify-content-center","mb-5"],[1,"col-xl-6","col-lg-8"],[1,"font-weight-bold"],[1,"text-muted"],[1,"row"],[1,"col"],["data-aos","fade-up",1,"timeline-steps","aos-init","aos-animate"],[1,"timeline-step"],["data-toggle","popover","data-trigger","hover","data-placement","top","title","","data-content","And here's some amazing content. It's very engaging. Right?","data-original-title","2003",1,"timeline-content"],[1,"inner-circle"],[1,"h6","mt-3","mb-1"],[1,"h6","text-muted","mb-0","mb-lg-0"],["data-toggle","popover","data-trigger","hover","data-placement","top","title","","data-content","And here's some amazing content. It's very engaging. Right?","data-original-title","2004",1,"timeline-content"],["data-toggle","popover","data-trigger","hover","data-placement","top","title","","data-content","And here's some amazing content. It's very engaging. Right?","data-original-title","2005",1,"timeline-content"],["data-toggle","popover","data-trigger","hover","data-placement","top","title","","data-content","And here's some amazing content. It's very engaging. Right?","data-original-title","2010",1,"timeline-content"],[1,"timeline-step","mb-0"],["data-toggle","popover","data-trigger","hover","data-placement","top","title","","data-content","And here's some amazing content. It's very engaging. Right?","data-original-title","2020",1,"timeline-content"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),re(4,"How to Use"),U(),z(5,"p",4),re(6,"Steps to use the application. Just upload configure and analyse it."),U()()(),z(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),Ge(12,"div",10),z(13,"p",11),re(14,"Step 1"),U(),z(15,"p",12),re(16,"Click on Demo button above"),U()()(),z(17,"div",8)(18,"div",13),Ge(19,"div",10),z(20,"p",11),re(21,"Step 2"),U(),z(22,"p",12),re(23,"Upload .csv file in top right corner"),U()()(),z(24,"div",8)(25,"div",14),Ge(26,"div",10),z(27,"p",11),re(28,"Step 3"),U(),z(29,"p",12),re(30,"You will start seeing table"),U()()(),z(31,"div",8)(32,"div",15),Ge(33,"div",10),z(34,"p",11),re(35,"Step 4"),U(),z(36,"p",12),re(37,"Click on add chart button"),U()()(),z(38,"div",16)(39,"div",17),Ge(40,"div",10),z(41,"p",11),re(42,"Step 5"),U(),z(43,"p",12),re(44,"Select type of chart and configurations"),U()()(),z(45,"div",16)(46,"div",17),Ge(47,"div",10),z(48,"p",11),re(49,"Step 6"),U(),z(50,"p",12),re(51,"Click create chart, and Download them"),U()()()()()()())},styles:['body[_ngcontent-%COMP%]{margin-top:20px}.timeline-steps[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}.timeline-steps[_ngcontent-%COMP%]   .timeline-step[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;position:relative;margin:1rem}@media (min-width:768px){.timeline-steps[_ngcontent-%COMP%]   .timeline-step[_ngcontent-%COMP%]:not(:last-child):after{content:"";display:block;border-top:.25rem dotted #3b82f6;width:3.46rem;position:absolute;left:7.5rem;top:.3125rem}.timeline-steps[_ngcontent-%COMP%]   .timeline-step[_ngcontent-%COMP%]:not(:first-child):before{content:"";display:block;border-top:.25rem dotted #3b82f6;width:3.8125rem;position:absolute;right:7.5rem;top:.3125rem}}.timeline-steps[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{width:10rem;text-align:center}.timeline-steps[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .inner-circle[_ngcontent-%COMP%]{border-radius:1.5rem;height:1rem;width:1rem;display:inline-flex;align-items:center;justify-content:center;background-color:#5676eb94}.timeline-steps[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .inner-circle[_ngcontent-%COMP%]:before{content:"";background-color:#375eec94;display:inline-block;height:3rem;width:3rem;min-width:3rem;border-radius:6.25rem;opacity:.5}']})}return e})(),qoe=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-home"]],decls:16,vars:0,consts:[[1,"main-container"],[1,"sub-container"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],["routerLink","/visualize",1,"btn","demo-button"],["src","https://img.freepik.com/premium-vector/business-analysis-concept-people-meeting-work-with-charts-graphic-data-visualization_138260-655.jpg"],[1,"position-relative","d-block"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),re(5,"Visualize Data Like Never Before"),U(),z(6,"h5"),re(7,"No Login, No SignUp, No Data saving"),U(),z(8,"p"),re(9,"Transform raw data into insightful visualizations with our powerful tools."),U(),z(10,"button",4),re(11,"Demo"),U()(),Ge(12,"img",5),U()(),Ge(13,"app-timeline",6)(14,"app-view-cards",6)(15,"app-contact",6),U())},dependencies:[fg,$oe,zoe,Goe],styles:[".main-container[_ngcontent-%COMP%]{height:calc(100vh - 56px);width:100%;overflow:auto;position:relative;top:56px}.sub-container[_ngcontent-%COMP%]{height:600px;width:100%;position:relative;display:block}.demo-button[_ngcontent-%COMP%]{align-self:center;height:50px;width:150px;font-size:20px;border-radius:30px;border:1px solid #5676eb94;background-color:#5676eb94}.demo-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);transition:ease-in-out .4s}"]})}return e})();const fB=Kd("[NewData] AddData",{_as:"props",_p:void 0}),pB=Kd("[NewFirebaseData] AddFirebaseData",{_as:"props",_p:void 0}),gB=Kd("[NewChart] AddChart",{_as:"props",_p:void 0}),mB=Kd("[DeleteData] DeleteData",{_as:"props",_p:void 0});function Woe(e,t){if(1&e&&(z(0,"th",6),re(1),U()),2&e){const n=t.$implicit;G(1),io(n.value)}}function Zoe(e,t){if(1&e&&(z(0,"td",11),re(1),U()),2&e){const n=t.$implicit,i=Ae().$implicit;G(1),io(i[n.value])}}function Koe(e,t){if(1&e&&(z(0,"tr")(1,"th",9),re(2),U(),fe(3,Zoe,2,1,"td",10),U()),2&e){const n=t.index,i=Ae(2);G(2),io(i.startIndex+n+1),G(1),$("ngForOf",i.data.headers)}}function Yoe(e,t){if(1&e&&(z(0,"table",4)(1,"thead",5)(2,"tr")(3,"th",6),re(4,"#"),U(),fe(5,Woe,2,1,"th",7),U()(),z(6,"tbody"),fe(7,Koe,4,2,"tr",8),U()()),2&e){const n=Ae();G(5),$("ngForOf",n.data.headers),G(2),$("ngForOf",n.dataChunks)}}Kd("[DeleteChart] DeleteChart");let Qoe=(()=>{class e{constructor(){this.page=0,this.noOfPages=[],this.recordsPerPage=5,this.startIndex=0}ngOnInit(){this.data&&(this.noOfPages=10*Math.ceil(this.data.data.length/this.recordsPerPage),this.addPagination(1))}addPagination(n){const i=(n-1)*this.recordsPerPage,r=i+this.recordsPerPage;this.startIndex=i,this.dataChunks=this.data.data.slice(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-table-view"]],inputs:{data:"data"},decls:4,vars:7,consts:[[1,"table-container"],["class","table table-hover",4,"ngIf"],[1,"box","d-flex","flex-row","justify-content-center"],[3,"collectionSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"table","table-hover"],[1,"thead-dark"],["scope","col",2,"background-color","#E6EF8C"],["scope","col","style","background-color: #E6EF8C;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","row"],["class","text-nowrap",4,"ngFor","ngForOf"],[1,"text-nowrap"]],template:function(i,r){1&i&&(z(0,"div",0),fe(1,Yoe,8,2,"table",1),z(2,"div",2)(3,"ngb-pagination",3),We("pageChange",function(s){return r.page=s})("pageChange",function(){return r.addPagination(r.page)}),U()()()),2&i&&(G(1),$("ngIf",r.data),G(2),$("collectionSize",r.noOfPages)("page",r.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0))},dependencies:[nr,Ir,_E],styles:[".table-container[_ngcontent-%COMP%]{overflow:auto;padding:20px;border-radius:10px;margin:20px;box-shadow:0 4px 19px #0003,0 6px 20px #00000030}"]})}return e})();class aD extends Map{constructor(t,n=vB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(uD(this,t))}has(t){return super.has(uD(this,t))}set(t,n){return super.set(function _B({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}(this,t),n)}delete(t){return super.delete(function yB({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}(this,t))}}function uD({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function vB(e){return null!==e&&"object"==typeof e?e.valueOf():e}function bB(e){return e}function wB(e,...t){return function oh(e,t,n,i){return function r(o,s){if(s>=i.length)return n(o);const a=new aD,l=i[s++];let c=-1;for(const h of o){const g=l(h,++c,o),m=a.get(g);m?m.push(h):a.set(g,[h])}for(const[h,g]of a)a.set(h,r(g,s));return t(a)}(e,0)}(e,bB,bB,t)}function ese(e){return e}var zv=1,Gv=2,lD=3,pg=4,EB=1e-6;function tse(e){return"translate("+e+",0)"}function nse(e){return"translate(0,"+e+")"}function ise(e){return t=>+e(t)}function rse(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ose(){return!this.__axis}function qv(e,t){var n=[],i=null,r=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===zv||e===pg?-1:1,h=e===pg||e===Gv?"x":"y",g=e===zv||e===lD?tse:nse;function m(y){var T=i??(t.ticks?t.ticks.apply(t,n):t.domain()),I=r??(t.tickFormat?t.tickFormat.apply(t,n):ese),C=Math.max(o,0)+a,S=t.range(),D=+S[0]+l,F=+S[S.length-1]+l,B=(t.bandwidth?rse:ise)(t.copy(),l),W=y.selection?y.selection():y,te=W.selectAll(".domain").data([null]),O=W.selectAll(".tick").data(T,t).order(),x=O.exit(),P=O.enter().append("g").attr("class","tick"),k=O.select("line"),N=O.select("text");te=te.merge(te.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(P),k=k.merge(P.append("line").attr("stroke","currentColor").attr(h+"2",c*o)),N=N.merge(P.append("text").attr("fill","currentColor").attr(h,c*C).attr("dy",e===zv?"0em":e===lD?"0.71em":"0.32em")),y!==W&&(te=te.transition(y),O=O.transition(y),k=k.transition(y),N=N.transition(y),x=x.transition(y).attr("opacity",EB).attr("transform",function(V){return isFinite(V=B(V))?g(V+l):this.getAttribute("transform")}),P.attr("opacity",EB).attr("transform",function(V){var M=this.parentNode.__axis;return g((M&&isFinite(M=M(V))?M:B(V))+l)})),x.remove(),te.attr("d",e===pg||e===Gv?s?"M"+c*s+","+D+"H"+l+"V"+F+"H"+c*s:"M"+l+","+D+"V"+F:s?"M"+D+","+c*s+"V"+l+"H"+F+"V"+c*s:"M"+D+","+l+"H"+F),O.attr("opacity",1).attr("transform",function(V){return g(B(V)+l)}),k.attr(h+"2",c*o),N.attr(h,c*C).text(I),W.filter(ose).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Gv?"start":e===pg?"end":"middle"),W.each(function(){this.__axis=B})}return m.scale=function(y){return arguments.length?(t=y,m):t},m.ticks=function(){return n=Array.from(arguments),m},m.tickArguments=function(y){return arguments.length?(n=null==y?[]:Array.from(y),m):n.slice()},m.tickValues=function(y){return arguments.length?(i=null==y?null:Array.from(y),m):i&&i.slice()},m.tickFormat=function(y){return arguments.length?(r=y,m):r},m.tickSize=function(y){return arguments.length?(o=s=+y,m):o},m.tickSizeInner=function(y){return arguments.length?(o=+y,m):o},m.tickSizeOuter=function(y){return arguments.length?(s=+y,m):s},m.tickPadding=function(y){return arguments.length?(a=+y,m):a},m.offset=function(y){return arguments.length?(l=+y,m):l},m}function cD(e){return qv(lD,e)}function dD(e){return qv(pg,e)}function sse(){}function hD(e){return null==e?sse:function(){return this.querySelector(e)}}function lse(){return[]}function DB(e){return null==e?lse:function(){return this.querySelectorAll(e)}}function IB(e){return function(){return this.matches(e)}}function SB(e){return function(t){return t.matches(e)}}var hse=Array.prototype.find;function pse(){return this.firstElementChild}var mse=Array.prototype.filter;function _se(){return Array.from(this.children)}function AB(e){return new Array(e.length)}function Wv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Cse(e,t,n,i,r,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new Wv(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function Ese(e,t,n,i,r,o,s){var a,l,y,c=new Map,h=t.length,g=o.length,m=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(m[a]=y=s.call(l,l.__data__,a,t)+"",c.has(y)?r[a]=l:c.set(y,l));for(a=0;a<g;++a)y=s.call(e,o[a],a,o)+"",(l=c.get(y))?(i[a]=l,l.__data__=o[a],c.delete(y)):n[a]=new Wv(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&c.get(m[a])===l&&(r[a]=l)}function Dse(e){return e.__data__}function Sse(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Pse(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Wv.prototype={constructor:Wv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var fD="http://www.w3.org/1999/xhtml";const xB={svg:"http://www.w3.org/2000/svg",xhtml:fD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zv(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),xB.hasOwnProperty(t)?{space:xB[t],local:e}:e}function Use(e){return function(){this.removeAttribute(e)}}function jse(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hse(e,t){return function(){this.setAttribute(e,t)}}function $se(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zse(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Gse(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function MB(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wse(e){return function(){this.style.removeProperty(e)}}function Zse(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kse(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function sh(e,t){return e.style.getPropertyValue(t)||MB(e).getComputedStyle(e,null).getPropertyValue(t)}function Qse(e){return function(){delete this[e]}}function Jse(e,t){return function(){this[e]=t}}function Xse(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function RB(e){return e.trim().split(/^|\s+/)}function pD(e){return e.classList||new NB(e)}function NB(e){this._node=e,this._names=RB(e.getAttribute("class")||"")}function PB(e,t){for(var n=pD(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function OB(e,t){for(var n=pD(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function tae(e){return function(){PB(this,e)}}function nae(e){return function(){OB(this,e)}}function iae(e,t){return function(){(t.apply(this,arguments)?PB:OB)(this,e)}}function oae(){this.textContent=""}function sae(e){return function(){this.textContent=e}}function aae(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lae(){this.innerHTML=""}function cae(e){return function(){this.innerHTML=e}}function dae(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fae(){this.nextSibling&&this.parentNode.appendChild(this)}function gae(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _ae(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fD&&t.documentElement.namespaceURI===fD?t.createElement(e):t.createElementNS(n,e)}}function yae(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function kB(e){var t=Zv(e);return(t.local?yae:_ae)(t)}function bae(){return null}function Tae(){var e=this.parentNode;e&&e.removeChild(this)}function Eae(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dae(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mae(e){return function(){var t=this.__on;if(t){for(var o,n=0,i=-1,r=t.length;n<r;++n)o=t[n],e.type&&o.type!==e.type||o.name!==e.name?t[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?t.length=i:delete this.__on}}}function Rae(e,t,n){return function(){var r,i=this.__on,o=function Aae(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function FB(e,t,n){var i=MB(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Pae(e,t){return function(){return FB(this,e,t)}}function Oae(e,t){return function(){return FB(this,e,t.apply(this,arguments))}}NB.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var LB=[null];function co(e,t){this._groups=e,this._parents=t}function VB(){return new co([[document.documentElement]],LB)}co.prototype=VB.prototype={constructor:co,select:function ase(e){"function"!=typeof e&&(e=hD(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var l,c,o=t[r],s=o.length,a=i[r]=new Array(s),h=0;h<s;++h)(l=o[h])&&(c=e.call(l,l.__data__,h,o))&&("__data__"in l&&(c.__data__=l.__data__),a[h]=c);return new co(i,this._parents)},selectAll:function dse(e){e="function"==typeof e?function cse(e){return function(){return function use(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):DB(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var l,s=t[o],a=s.length,c=0;c<a;++c)(l=s[c])&&(i.push(e.call(l,l.__data__,c,s)),r.push(l));return new co(i,r)},selectChild:function gse(e){return this.select(null==e?pse:function fse(e){return function(){return hse.call(this.children,e)}}("function"==typeof e?e:SB(e)))},selectChildren:function vse(e){return this.selectAll(null==e?_se:function yse(e){return function(){return mse.call(this.children,e)}}("function"==typeof e?e:SB(e)))},filter:function bse(e){"function"!=typeof e&&(e=IB(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var l,o=t[r],s=o.length,a=i[r]=[],c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new co(i,this._parents)},data:function Ise(e,t){if(!arguments.length)return Array.from(this,Dse);var n=t?Ese:Cse,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function Tse(e){return function(){return e}}(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var h=i[c],g=r[c],m=g.length,y=Sse(e.call(h,h&&h.__data__,c,i)),T=y.length,I=a[c]=new Array(T),C=s[c]=new Array(T);n(h,g,I,C,l[c]=new Array(m),y,t);for(var B,W,D=0,F=0;D<T;++D)if(B=I[D]){for(D>=F&&(F=D+1);!(W=C[F])&&++F<T;);B._next=W||null}}return(s=new co(s,i))._enter=a,s._exit=l,s},enter:function wse(){return new co(this._enter||this._groups.map(AB),this._parents)},exit:function Ase(){return new co(this._exit||this._groups.map(AB),this._parents)},join:function xse(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function Mse(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=Math.min(r,i.length),a=new Array(r),l=0;l<s;++l)for(var y,c=n[l],h=i[l],g=c.length,m=a[l]=new Array(g),T=0;T<g;++T)(y=c[T]||h[T])&&(m[T]=y);for(;l<r;++l)a[l]=n[l];return new co(a,this._parents)},selection:function Lae(){return this},order:function Rse(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s,i=e[t],r=i.length-1,o=i[r];--r>=0;)(s=i[r])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function Nse(e){function t(g,m){return g&&m?e(g.__data__,m.__data__):!g-!m}e||(e=Pse);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var c,s=n[o],a=s.length,l=r[o]=new Array(a),h=0;h<a;++h)(c=s[h])&&(l[h]=c);l.sort(t)}return new co(r,this._parents).order()},call:function Ose(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function kse(){return Array.from(this)},node:function Fse(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function Lse(){let e=0;for(const t of this)++e;return e},empty:function Vse(){return!this.node()},each:function Bse(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var a,r=t[n],o=0,s=r.length;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this},attr:function qse(e,t){var n=Zv(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?jse:Use:"function"==typeof t?n.local?Gse:zse:n.local?$se:Hse)(n,t))},style:function Yse(e,t,n){return arguments.length>1?this.each((null==t?Wse:"function"==typeof t?Kse:Zse)(e,t,n??"")):sh(this.node(),e)},property:function eae(e,t){return arguments.length>1?this.each((null==t?Qse:"function"==typeof t?Xse:Jse)(e,t)):this.node()[e]},classed:function rae(e,t){var n=RB(e+"");if(arguments.length<2){for(var i=pD(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?iae:t?tae:nae)(n,t))},text:function uae(e){return arguments.length?this.each(null==e?oae:("function"==typeof e?aae:sae)(e)):this.node().textContent},html:function hae(e){return arguments.length?this.each(null==e?lae:("function"==typeof e?dae:cae)(e)):this.node().innerHTML},raise:function pae(){return this.each(fae)},lower:function mae(){return this.each(gae)},append:function vae(e){var t="function"==typeof e?e:kB(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function wae(e,t){var n="function"==typeof e?e:kB(e),i=null==t?bae:"function"==typeof t?t:hD(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Cae(){return this.each(Tae)},clone:function Iae(e){return this.select(e?Dae:Eae)},datum:function Sae(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function Nae(e,t,n){var r,s,i=function xae(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}(e+""),o=i.length;if(!(arguments.length<2)){for(a=t?Rae:Mae,r=0;r<o;++r)this.each(a(i[r],t,n));return this}var a=this.node().__on;if(a)for(var h,l=0,c=a.length;l<c;++l)for(r=0,h=a[l];r<o;++r)if((s=i[r]).type===h.type&&s.name===h.name)return h.value},dispatch:function kae(e,t){return this.each(("function"==typeof t?Oae:Pae)(e,t))},[Symbol.iterator]:function*Fae(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s,i=e[t],r=0,o=i.length;r<o;++r)(s=i[r])&&(yield s)}};const gg=VB;var Vae={value:()=>{}};function BB(){for(var i,e=0,t=arguments.length,n={};e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Kv(n)}function Kv(e){this._=e}function Uae(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function UB(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Vae,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Kv.prototype=BB.prototype={constructor:Kv,on:function(e,t){var r,n=this._,i=function Bae(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}(e+"",n),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(e=i[o]).type)n[r]=UB(n[r],e.name,t);else if(null==t)for(r in n)n[r]=UB(n[r],e.name,null);return this}for(;++o<s;)if((r=(e=i[o]).type)&&(r=Uae(n[r],e.name)))return r},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kv(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,o,n=new Array(r),i=0;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(o=this._[e]).length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const jae=BB;var Yv,yg,ah=0,mg=0,_g=0,jB=1e3,Qv=0,Vl=0,Jv=0,vg="object"==typeof performance&&performance.now?performance:Date,HB="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gD(){return Vl||(HB(Hae),Vl=vg.now()+Jv)}function Hae(){Vl=0}function Xv(){this._call=this._time=this._next=null}function $B(e,t,n){var i=new Xv;return i.restart(e,t,n),i}function zB(){Vl=(Qv=vg.now())+Jv,ah=mg=0;try{!function $ae(){gD(),++ah;for(var t,e=Yv;e;)(t=Vl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ah}()}finally{ah=0,function Gae(){for(var e,n,t=Yv,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yv=n);yg=e,mD(i)}(),Vl=0}}function zae(){var e=vg.now(),t=e-Qv;t>jB&&(Jv-=t,Qv=e)}function mD(e){ah||(mg&&(mg=clearTimeout(mg)),e-Vl>24?(e<1/0&&(mg=setTimeout(zB,e-vg.now()-Jv)),_g&&(_g=clearInterval(_g))):(_g||(Qv=vg.now(),_g=setInterval(zae,jB)),ah=1,HB(zB)))}function GB(e,t,n){var i=new Xv;return i.restart(r=>{i.stop(),e(r+t)},t=null==t?0:+t,n),i}Xv.prototype=$B.prototype={constructor:Xv,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?gD():+n)+(null==t?0:+t),!this._next&&yg!==this&&(yg?yg._next=this:Yv=this,yg=this),this._call=e,this._time=n,mD()},stop:function(){this._call&&(this._call=null,this._time=1/0,mD())}};var qae=jae("start","end","cancel","interrupt"),Wae=[],qB=0,e0=3;function n0(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function Zae(e,t,n){var r,i=e.__transition;function s(c){var h,g,m,y;if(1!==n.state)return l();for(h in i)if((y=i[h]).name===n.name){if(y.state===e0)return GB(s);4===y.state?(y.state=6,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[h]):+h<t&&(y.state=6,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[h])}if(GB(function(){n.state===e0&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=e0,r=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(y=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++g]=y);r.length=g+1}}function a(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=5,1),g=-1,m=r.length;++g<m;)r[g].call(e,h);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var c in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=$B(function o(c){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)},0,n.time)}(e,n,{name:t,index:i,group:r,on:qae,tween:Wae,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qB})}function vD(e,t){var n=Ko(e,t);if(n.state>qB)throw new Error("too late; already scheduled");return n}function ys(e,t){var n=Ko(e,t);if(n.state>e0)throw new Error("too late; already running");return n}function Ko(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Yo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var r0,KB=180/Math.PI,bD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YB(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*KB,skewX:Math.atan(l)*KB,scaleX:s,scaleY:a}}function QB(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}return function(c,h){var g=[],m=[];return c=e(c),h=e(h),function o(c,h,g,m,y,T){if(c!==g||h!==m){var I=y.push("translate(",null,t,null,n);T.push({i:I-4,x:Yo(c,g)},{i:I-2,x:Yo(h,m)})}else(g||m)&&y.push("translate("+g+t+m+n)}(c.translateX,c.translateY,h.translateX,h.translateY,g,m),function s(c,h,g,m){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),m.push({i:g.push(r(g)+"rotate(",null,i)-2,x:Yo(c,h)})):h&&g.push(r(g)+"rotate("+h+i)}(c.rotate,h.rotate,g,m),function a(c,h,g,m){c!==h?m.push({i:g.push(r(g)+"skewX(",null,i)-2,x:Yo(c,h)}):h&&g.push(r(g)+"skewX("+h+i)}(c.skewX,h.skewX,g,m),function l(c,h,g,m,y,T){if(c!==g||h!==m){var I=y.push(r(y)+"scale(",null,",",null,")");T.push({i:I-4,x:Yo(c,g)},{i:I-2,x:Yo(h,m)})}else(1!==g||1!==m)&&y.push(r(y)+"scale("+g+","+m+")")}(c.scaleX,c.scaleY,h.scaleX,h.scaleY,g,m),c=h=null,function(y){for(var C,T=-1,I=m.length;++T<I;)g[(C=m[T]).i]=C.x(y);return g.join("")}}}var Xae=QB(function Qae(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bD:YB(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),eue=QB(function Jae(e){return null!=e&&(r0||(r0=document.createElementNS("http://www.w3.org/2000/svg","g")),r0.setAttribute("transform",e),e=r0.transform.baseVal.consolidate())?YB((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):bD},", ",")",")");function tue(e,t){var n,i;return function(){var r=ys(this,e),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function nue(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=ys(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function wD(e,t,n){var i=e._id;return e.each(function(){var r=ys(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Ko(r,i).value[t]}}function TD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JB(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function bg(){}var o0=1/.7,uh="\\s*([+-]?\\d+)\\s*",Tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rue=/^#([0-9a-f]{3,8})$/,oue=new RegExp(`^rgb\\(${uh},${uh},${uh}\\)$`),sue=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),aue=new RegExp(`^rgba\\(${uh},${uh},${uh},${Tg}\\)$`),uue=new RegExp(`^rgba\\(${vs},${vs},${vs},${Tg}\\)$`),lue=new RegExp(`^hsl\\(${Tg},${vs},${vs}\\)$`),cue=new RegExp(`^hsla\\(${Tg},${vs},${vs},${Tg}\\)$`),XB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function eU(){return this.rgb().formatHex()}function tU(){return this.rgb().formatRgb()}function Bl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rue.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?nU(t):3===n?new $r(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?s0(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?s0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=oue.exec(e))?new $r(t[1],t[2],t[3],1):(t=sue.exec(e))?new $r(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=aue.exec(e))?s0(t[1],t[2],t[3],t[4]):(t=uue.exec(e))?s0(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lue.exec(e))?oU(t[1],t[2]/100,t[3]/100,1):(t=cue.exec(e))?oU(t[1],t[2]/100,t[3]/100,t[4]):XB.hasOwnProperty(e)?nU(XB[e]):"transparent"===e?new $r(NaN,NaN,NaN,0):null}function nU(e){return new $r(e>>16&255,e>>8&255,255&e,1)}function s0(e,t,n,i){return i<=0&&(e=t=n=NaN),new $r(e,t,n,i)}function a0(e,t,n,i){return 1===arguments.length?function fue(e){return e instanceof bg||(e=Bl(e)),e?new $r((e=e.rgb()).r,e.g,e.b,e.opacity):new $r}(e):new $r(e,t,n,i??1)}function $r(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function iU(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function rU(){const e=u0(this.opacity);return`${1===e?"rgb(":"rgba("}${Ul(this.r)}, ${Ul(this.g)}, ${Ul(this.b)}${1===e?")":`, ${e})`}`}function u0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ul(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jl(e){return((e=Ul(e))<16?"0":"")+e.toString(16)}function oU(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,n,i)}function sU(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof bg||(e=Bl(e)),!e)return new Qo;if(e instanceof Qo)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Qo(s,a,l,e.opacity)}function Qo(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function aU(e){return(e=(e||0)%360)<0?e+360:e}function l0(e){return Math.max(0,Math.min(1,e||0))}function CD(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function uU(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}TD(bg,Bl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eU,formatHex:eU,formatHex8:function due(){return this.rgb().formatHex8()},formatHsl:function hue(){return sU(this).formatHsl()},formatRgb:tU,toString:tU}),TD($r,a0,JB(bg,{brighter(e){return e=null==e?o0:Math.pow(o0,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(Ul(this.r),Ul(this.g),Ul(this.b),u0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iU,formatHex:iU,formatHex8:function pue(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rU,toString:rU})),TD(Qo,function gue(e,t,n,i){return 1===arguments.length?sU(e):new Qo(e,t,n,i??1)},JB(bg,{brighter(e){return e=null==e?o0:Math.pow(o0,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new $r(CD(e>=240?e-240:e+120,r,i),CD(e,r,i),CD(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Qo(aU(this.h),l0(this.s),l0(this.l),u0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=u0(this.opacity);return`${1===e?"hsl(":"hsla("}${aU(this.h)}, ${100*l0(this.s)}%, ${100*l0(this.l)}%${1===e?")":`, ${e})`}`}}));const ED=e=>()=>e;function cU(e,t){var n=t-e;return n?function lU(e,t){return function(n){return e+n*t}}(e,n):ED(isNaN(e)?t:e)}const c0=function e(t){var n=function vue(e){return 1==(e=+e)?cU:function(t,n){return n-t?function yue(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):ED(isNaN(t)?n:t)}}(t);function i(r,o){var s=n((r=a0(r)).r,(o=a0(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),c=cU(r.opacity,o.opacity);return function(h){return r.r=s(h),r.g=a(h),r.b=l(h),r.opacity=c(h),r+""}}return i.gamma=e,i}(1);function dU(e){return function(t){var s,a,n=t.length,i=new Array(n),r=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=a0(t[s]),i[s]=a.r||0,r[s]=a.g||0,o[s]=a.b||0;return i=e(i),r=e(r),o=e(o),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=o(l),a+""}}}dU(function mue(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1];return uU((n-i/t)*t,i>0?e[i-1]:2*r-o,r,o,i<t-1?e[i+2]:2*o-r)}}),dU(function _ue(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t);return uU((n-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}});var DD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ID=new RegExp(DD.source,"g");function hU(e,t){var i,r,o,n=DD.lastIndex=ID.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(i=DD.exec(e))&&(r=ID.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Yo(i,r)})),n=ID.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function wue(e){return function(t){return e(t)+""}}(l[0].x):function bue(e){return function(){return e}}(t):(t=l.length,function(c){for(var g,h=0;h<t;++h)a[(g=l[h]).i]=g.x(c);return a.join("")})}function fU(e,t){var n;return("number"==typeof t?Yo:t instanceof Bl?c0:(n=Bl(t))?(t=n,c0):hU)(e,t)}function Tue(e){return function(){this.removeAttribute(e)}}function Cue(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eue(e,t,n){var i,o,r=n+"";return function(){var s=this.getAttribute(e);return s===r?null:s===i?o:o=t(i=s,n)}}function Due(e,t,n){var i,o,r=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?o:o=t(i=s,n)}}function Iue(e,t,n){var i,r,o;return function(){var s,l,a=n(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e))===(l=a+"")?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}function Sue(e,t,n){var i,r,o;return function(){var s,l,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local))===(l=a+"")?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}function Rue(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&function Mue(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return r._value=t,r}function Nue(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&function xue(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return r._value=t,r}function Oue(e,t){return function(){vD(this,e).delay=+t.apply(this,arguments)}}function kue(e,t){return t=+t,function(){vD(this,e).delay=t}}function Lue(e,t){return function(){ys(this,e).duration=+t.apply(this,arguments)}}function Vue(e,t){return t=+t,function(){ys(this,e).duration=t}}var Xue=gg.prototype.constructor;function pU(e){return function(){this.style.removeProperty(e)}}var _le=0;function sa(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function gU(){return++_le}var aa=gg.prototype;sa.prototype=function yle(e){return gg().transition(e)}.prototype={constructor:sa,select:function Que(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=hD(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var h,g,a=i[s],l=a.length,c=o[s]=new Array(l),m=0;m<l;++m)(h=a[m])&&(g=e.call(h,h.__data__,m,a))&&("__data__"in h&&(g.__data__=h.__data__),c[m]=g,n0(c[m],t,n,m,c,Ko(h,n)));return new sa(o,this._parents,t,n)},selectAll:function Jue(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=DB(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var h,l=i[a],c=l.length,g=0;g<c;++g)if(h=l[g]){for(var y,m=e.call(h,h.__data__,g,l),T=Ko(h,n),I=0,C=m.length;I<C;++I)(y=m[I])&&n0(y,t,n,I,m,T);o.push(m),s.push(h)}return new sa(o,s,t,n)},selectChild:aa.selectChild,selectChildren:aa.selectChildren,filter:function zue(e){"function"!=typeof e&&(e=IB(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var l,o=t[r],s=o.length,a=i[r]=[],c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new sa(i,this._parents,this._name,this._id)},merge:function Gue(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=Math.min(i,n.length),s=new Array(i),a=0;a<o;++a)for(var m,l=t[a],c=n[a],h=l.length,g=s[a]=new Array(h),y=0;y<h;++y)(m=l[y]||c[y])&&(g[y]=m);for(;a<i;++a)s[a]=t[a];return new sa(s,this._parents,this._name,this._id)},selection:function ele(){return new Xue(this._groups,this._parents)},transition:function gle(){for(var e=this._name,t=this._id,n=gU(),i=this._groups,r=i.length,o=0;o<r;++o)for(var l,s=i[o],a=s.length,c=0;c<a;++c)if(l=s[c]){var h=Ko(l,t);n0(l,e,n,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new sa(i,this._parents,e,n)},call:aa.call,nodes:aa.nodes,node:aa.node,size:aa.size,empty:aa.empty,each:aa.each,on:function Zue(e,t){var n=this._id;return arguments.length<2?Ko(this.node(),n).on.on(e):this.each(function Wue(e,t,n){var i,r,o=function que(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(t)?vD:ys;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}(n,e,t))},attr:function Aue(e,t){var n=Zv(e),i="transform"===n?eue:fU;return this.attrTween(e,"function"==typeof t?(n.local?Sue:Iue)(n,i,wD(this,"attr."+e,t)):null==t?(n.local?Cue:Tue)(n):(n.local?Due:Eue)(n,i,t))},attrTween:function Pue(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=Zv(e);return this.tween(n,(i.local?Rue:Nue)(i,t))},style:function ole(e,t,n){var i="transform"==(e+="")?Xae:fU;return null==t?this.styleTween(e,function tle(e,t){var n,i,r;return function(){var o=sh(this,e),s=(this.style.removeProperty(e),sh(this,e));return o===s?null:o===n&&s===i?r:r=t(n=o,i=s)}}(e,i)).on("end.style."+e,pU(e)):"function"==typeof t?this.styleTween(e,function ile(e,t,n){var i,r,o;return function(){var s=sh(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=sh(this,e)),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}(e,i,wD(this,"style."+e,t))).each(function rle(e,t){var n,i,r,a,o="style."+t,s="end."+o;return function(){var l=ys(this,e),c=l.on,h=null==l.value[o]?a||(a=pU(t)):void 0;(c!==n||r!==h)&&(i=(n=c).copy()).on(s,r=h),l.on=i}}(this._id,e)):this.styleTween(e,function nle(e,t,n){var i,o,r=n+"";return function(){var s=sh(this,e);return s===r?null:s===i?o:o=t(i=s,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function ule(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function ale(e,t,n){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&function sle(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}(e,s,n)),i}return o._value=t,o}(e,t,n??""))},text:function dle(e){return this.tween("text","function"==typeof e?function cle(e){return function(){var t=e(this);this.textContent=t??""}}(wD(this,"text",e)):function lle(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function ple(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function fle(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function hle(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return i._value=e,i}(e))},remove:function Yue(){return this.on("end.remove",function Kue(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function iue(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,i=Ko(this.node(),n).tween,r=0,o=i.length;r<o;++r)if((s=i[r]).name===e)return s.value;return null}return this.each((null==t?tue:nue)(n,e,t))},delay:function Fue(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Oue:kue)(t,e)):Ko(this.node(),t).delay},duration:function Bue(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Lue:Vue)(t,e)):Ko(this.node(),t).duration},ease:function jue(e){var t=this._id;return arguments.length?this.each(function Uue(e,t){if("function"!=typeof t)throw new Error;return function(){ys(this,e).ease=t}}(t,e)):Ko(this.node(),t).ease},easeVarying:function $ue(e){if("function"!=typeof e)throw new Error;return this.each(function Hue(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ys(this,e).ease=n}}(this._id,e))},end:function mle(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each(function(){var c=ys(this,i),h=c.on;h!==e&&((t=(e=h).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&o()})},[Symbol.iterator]:aa[Symbol.iterator]};var ble={time:null,delay:0,duration:250,ease:function vle(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function wle(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}gg.prototype.interrupt=function Yae(e){return this.each(function(){!function Kae(e,t){var i,r,s,n=e.__transition,o=!0;if(n){for(s in t=null==t?null:t+"",n)(i=n[s]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]):o=!1;o&&delete e.__transition}}(this,e)})},gg.prototype.transition=function Tle(e){var t,n;e instanceof sa?(t=e._id,e=e._name):(t=gU(),(n=ble).time=gD(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var l,s=i[o],a=s.length,c=0;c<a;++c)(l=s[c])&&n0(l,e,t,c,s,n||wle(l,t));return new sa(i,this._parents,e,t)};Math;function Cg(e){return{type:e}}function RD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}["w","e"].map(Cg),["n","s"].map(Cg),["n","w","e","s","nw","ne","sw","se"].map(Cg);const wU=Symbol("implicit");function f0(){var e=new aD,t=[],n=[],i=wU;function r(o){let s=e.get(o);if(void 0===s){if(i!==wU)return i;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return r.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new aD;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return f0(t,n).unknown(i)},RD.apply(r,arguments),r}function Eg(){var o,s,e=f0().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,a=!1,l=0,c=0,h=.5;function g(){var m=t().length,y=r<i,T=y?r:i,I=y?i:r;o=(I-T)/Math.max(1,m-l+2*c),a&&(o=Math.floor(o)),T+=(I-T-o*(m-l))*h,s=o*(1-l),a&&(T=Math.round(T),s=Math.round(s));var C=function Mle(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o}(m).map(function(S){return T+o*S});return n(y?C.reverse():C)}return delete e.unknown,e.domain=function(m){return arguments.length?(t(m),g()):t()},e.range=function(m){return arguments.length?([i,r]=m,i=+i,r=+r,g()):[i,r]},e.rangeRound=function(m){return[i,r]=m,i=+i,r=+r,a=!0,g()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(m){return arguments.length?(a=!!m,g()):a},e.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),g()):l},e.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),g()):l},e.paddingOuter=function(m){return arguments.length?(c=+m,g()):c},e.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),g()):h},e.copy=function(){return Eg(t(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(h)},RD.apply(g(),arguments)}const Rle=Math.sqrt(50),Nle=Math.sqrt(10),Ple=Math.sqrt(2);function p0(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),s=o>=Rle?10:o>=Nle?5:o>=Ple?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?p0(e,t,2*n):[a,l,c]}function ND(e,t,n){return p0(e=+e,t=+t,n=+n)[2]}function g0(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fle(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CU(e){let t,n,i;function r(a,l,c=0,h=a.length){if(c<h){if(0!==t(l,l))return h;do{const g=c+h>>>1;n(a[g],l)<0?c=g+1:h=g}while(c<h)}return c}return 2!==e.length?(t=g0,n=(a,l)=>g0(e(a),l),i=(a,l)=>e(a)-l):(t=e===g0||e===Fle?e:Lle,n=e,i=e),{left:r,center:function s(a,l,c=0,h=a.length){const g=r(a,l,c,h-1);return g>c&&i(a[g-1],l)>-i(a[g],l)?g-1:g},right:function o(a,l,c=0,h=a.length){if(c<h){if(0!==t(l,l))return h;do{const g=c+h>>>1;n(a[g],l)<=0?c=g+1:h=g}while(c<h)}return c}}}function Lle(){return 0}const Ble=CU(g0).right,Ule=(CU(function Vle(e){return null===e?NaN:+e}),Ble);function DU(e,t){var s,n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),o=new Array(n);for(s=0;s<i;++s)r[s]=PD(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<i;++s)o[s]=r[s](a);return o}}function jle(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Hle(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=PD(e[r],t[r]):i[r]=t[r];return function(o){for(r in n)i[r]=n[r](o);return i}}function $le(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}}function PD(e,t){var i,n=typeof t;return null==t||"boolean"===n?ED(t):("number"===n?Yo:"string"===n?(i=Bl(t))?(t=i,c0):hU:t instanceof Bl?c0:t instanceof Date?jle:function zle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?$le:Array.isArray(t)?DU:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Hle:Yo)(e,t)}function Gle(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Wle(e){return+e}var IU=[0,1];function dh(e){return e}function OD(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function qle(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Kle(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=OD(r,i),o=n(s,o)):(i=OD(i,r),o=n(o,s)),function(a){return o(i(a))}}function Yle(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=OD(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Ule(e,a,1,i)-1;return o[l](r[l](a))}}var SU,ece=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m0(e){if(!(t=ece.exec(e)))throw new Error("invalid format: "+e);var t;return new kD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function kD(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function hh(e){return(e=_0(Math.abs(e)))?e[1]:NaN}function AU(e,t){var n=_0(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}m0.prototype=kD.prototype,kD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xU={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function tce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AU(100*e,t),r:AU,s:function sce(e,t){var n=_0(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(SU=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+_0(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MU(e){return e}var y0,PU,OU,RU=Array.prototype.map,NU=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function hce(e){var t=e.domain;return e.ticks=function(n){var i=t();return function Ole(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];const i=t<e,[r,o,s]=i?p0(t,e,n):p0(e,t,n);if(!(o>=r))return[];const a=o-r+1,l=new Array(a);if(i)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(r+c)/-s;else for(let c=0;c<a;++c)l[c]=(r+c)*s;return l}(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return function dce(e,t,n,i){var o,r=function kle(e,t,n){n=+n;const i=(t=+t)<(e=+e),r=i?ND(t,e,n):ND(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}(e,t,n);switch((i=m0(i??",f")).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null==i.precision&&!isNaN(o=function nce(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hh(t)/3)))-hh(Math.abs(e)))}(r,s))&&(i.precision=o),OU(i,s);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=function lce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hh(t)-hh(e))+1}(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=function cce(e){return Math.max(0,-hh(Math.abs(e)))}(r))&&(i.precision=o-2*("%"===i.type))}return PU(i)}(r[0],r[r.length-1],n??10,i)},e.nice=function(n){null==n&&(n=10);var l,c,i=t(),r=0,o=i.length-1,s=i[r],a=i[o],h=10;for(a<s&&(c=s,s=a,a=c,c=r,r=o,o=c);h-- >0;){if((c=ND(s,a,n))===l)return i[r]=s,i[o]=a,t(i);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else{if(!(c<0))break;s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c}l=c}return e},e}function Dg(){var e=function Xle(){return function Jle(){var i,r,o,a,l,c,e=IU,t=IU,n=PD,s=dh;function h(){var m=Math.min(e.length,t.length);return s!==dh&&(s=function Zle(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}(e[0],e[m-1])),a=m>2?Yle:Kle,l=c=null,g}function g(m){return null==m||isNaN(m=+m)?o:(l||(l=a(e.map(i),t,n)))(i(s(m)))}return g.invert=function(m){return s(r((c||(c=a(t,e.map(i),Yo)))(m)))},g.domain=function(m){return arguments.length?(e=Array.from(m,Wle),h()):e.slice()},g.range=function(m){return arguments.length?(t=Array.from(m),h()):t.slice()},g.rangeRound=function(m){return t=Array.from(m),n=Gle,h()},g.clamp=function(m){return arguments.length?(s=!!m||dh,h()):s!==dh},g.interpolate=function(m){return arguments.length?(n=m,h()):n},g.unknown=function(m){return arguments.length?(o=m,g):o},function(m,y){return i=m,r=y,h()}}()(dh,dh)}();return e.copy=function(){return function Qle(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}(e,Dg())},RD.apply(e,arguments),hce(e)}!function uce(e){y0=function ace(e){var t=void 0===e.grouping||void 0===e.thousands?MU:function ice(e,t){return function(n,i){for(var r=n.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}(RU.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?MU:function rce(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}(RU.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",a=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(g){var m=(g=m0(g)).fill,y=g.align,T=g.sign,I=g.symbol,C=g.zero,S=g.width,D=g.comma,F=g.precision,B=g.trim,W=g.type;"n"===W?(D=!0,W="g"):xU[W]||(void 0===F&&(F=12),B=!0,W="g"),(C||"0"===m&&"="===y)&&(C=!0,m="0",y="=");var te="$"===I?n:"#"===I&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",O="$"===I?i:/[%p]/.test(W)?s:"",x=xU[W],P=/[defgprs%]/.test(W);function k(N){var j,ye,ne,V=te,M=O;if("c"===W)M=x(N)+M,N="";else{var pe=(N=+N)<0||1/N<0;if(N=isNaN(N)?l:x(Math.abs(N),F),B&&(N=function oce(e){e:for(var r,t=e.length,n=1,i=-1;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":0===i&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(r+1):e}(N)),pe&&0==+N&&"+"!==T&&(pe=!1),V=(pe?"("===T?T:a:"-"===T||"("===T?"":T)+V,M=("s"===W?NU[8+SU/3]:"")+M+(pe&&"("===T?")":""),P)for(j=-1,ye=N.length;++j<ye;)if(48>(ne=N.charCodeAt(j))||ne>57){M=(46===ne?r+N.slice(j+1):N.slice(j))+M,N=N.slice(0,j);break}}D&&!C&&(N=t(N,1/0));var Me=V.length+N.length+M.length,Te=Me<S?new Array(S-Me+1).join(m):"";switch(D&&C&&(N=t(Te+N,Te.length?S-M.length:1/0),Te=""),y){case"<":N=V+N+M+Te;break;case"=":N=V+Te+N+M;break;case"^":N=Te.slice(0,Me=Te.length>>1)+V+N+M+Te.slice(Me);break;default:N=Te+V+N+M}return o(N)}return F=void 0===F?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F)),k.toString=function(){return g+""},k}return{format:c,formatPrefix:function h(g,m){var y=c(((g=m0(g)).type="f",g)),T=3*Math.max(-8,Math.min(8,Math.floor(hh(m)/3))),I=Math.pow(10,-T),C=NU[8+T/3];return function(S){return y(I*S)+C}}}}(e),PU=y0.format,OU=y0.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const pce=function fce(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");function du(e){return"string"==typeof e?new co([[document.querySelector(e)]],[document.documentElement]):new co([[e]],LB)}function si(e){return function(){return e}}const kU=Math.abs,or=Math.atan2,Hl=Math.cos,gce=Math.max,FD=Math.min,bs=Math.sin,fh=Math.sqrt,zr=1e-12,Ig=Math.PI,v0=Ig/2,b0=2*Ig;function FU(e){return e>=1?v0:e<=-1?-v0:Math.asin(e)}const LD=Math.PI,VD=2*LD,$l=1e-6,_ce=VD-$l;function LU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class w0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?LU:function yce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LU;const n=10**t;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,o,s){this._append`C${+t},${+n},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,i,r,o){if(t=+t,n=+n,i=+i,r=+r,(o=+o)<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=i-t,c=r-n,h=s-t,g=a-n,m=h*h+g*g;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(m>$l)if(Math.abs(g*l-c*h)>$l&&o){let y=i-s,T=r-a,I=l*l+c*c,C=y*y+T*T,S=Math.sqrt(I),D=Math.sqrt(m),F=o*Math.tan((LD-Math.acos((I+m-C)/(2*S*D)))/2),B=F/D,W=F/S;Math.abs(B-1)>$l&&this._append`L${t+B*h},${n+B*g}`,this._append`A${o},${o},0,0,${+(g*y>h*T)},${this._x1=t+W*l},${this._y1=n+W*c}`}else this._append`L${this._x1=t},${this._y1=n}`}arc(t,n,i,r,o,s){if(t=+t,n=+n,s=!!s,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=t+a,h=n+l,g=1^s,m=s?r-o:o-r;null===this._x1?this._append`M${c},${h}`:(Math.abs(this._x1-c)>$l||Math.abs(this._y1-h)>$l)&&this._append`L${c},${h}`,i&&(m<0&&(m=m%VD+VD),m>_ce?this._append`A${i},${i},0,1,${g},${t-a},${n-l}A${i},${i},0,1,${g},${this._x1=c},${this._y1=h}`:m>$l&&this._append`A${i},${i},0,${+(m>=LD)},${g},${this._x1=t+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function VU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new w0(t)}function bce(e){return e.innerRadius}function wce(e){return e.outerRadius}function Tce(e){return e.startAngle}function Cce(e){return e.endAngle}function Ece(e){return e&&e.padAngle}function T0(e,t,n,i,r,o,s){var a=e-n,l=t-i,c=(s?o:-o)/fh(a*a+l*l),h=c*l,g=-c*a,m=e+h,y=t+g,T=n+h,I=i+g,C=(m+T)/2,S=(y+I)/2,D=T-m,F=I-y,B=D*D+F*F,W=r-o,te=m*I-T*y,O=(F<0?-1:1)*fh(gce(0,W*W*B-te*te)),x=(te*F-D*O)/B,P=(-te*D-F*O)/B,k=(te*F+D*O)/B,N=(-te*D+F*O)/B,V=x-C,M=P-S,j=k-C,ye=N-S;return V*V+M*M>j*j+ye*ye&&(x=k,P=N),{cx:x,cy:P,x01:-h,y01:-g,x11:x*(r/W-1),y11:P*(r/W-1)}}function BU(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function UU(e){this._context=e}function Sce(e){return new UU(e)}function Ace(e){return e[0]}function xce(e){return e[1]}function Rce(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Nce(e){return e}function ph(e,t,n){this.k=e,this.x=t,this.y=n}function jce(e,t){if(1&e&&(z(0,"option",17),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function Hce(e,t){if(1&e&&(z(0,"option",17),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function $ce(e,t){if(1&e){const n=di();z(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"label",5),re(5,"Height"),U(),Ge(6,"input",6),z(7,"label",5),re(8,"Width"),U(),Ge(9,"input",7),z(10,"label",5),re(11,"X"),U(),z(12,"select",8),fe(13,jce,2,2,"option",9),U(),z(14,"label",5),re(15,"Y"),U(),z(16,"select",10),fe(17,Hce,2,2,"option",9),U(),z(18,"button",11)(19,"i",12),We("click",function(){return Yn(n),Qn(Ae().downloadSVG())}),U()(),z(20,"button",13)(21,"i",14),We("click",function(){return Yn(n),Qn(Ae().sortData())}),U()()()(),z(22,"h3",15),re(23,"Bar Chart"),U()(),Ge(24,"div",16),U()}if(2&e){const n=Ae();G(3),$("formGroup",n.form),G(1),$("for","height_"+n.index),G(2),$("id","height_"+n.index),G(1),$("for","width_"+n.index),G(2),$("id","width_"+n.index),G(1),$("for","xAxis_"+n.index),G(2),$("id","xAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(1),$("for","yAxis_"+n.index),G(2),$("id","yAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(7),$("id","barChart_"+n.index)}}UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ph.prototype={constructor:ph,scale:function(e){return 1===e?this:new ph(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ph(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ph(1,0,0);let zce=(()=>{class e{constructor(){this.order="random"}ngOnInit(){this.form=new hs({type:new rt,xAxis:new rt,yAxis:new rt,height:new rt(500,Js.min(300)),width:new rt(1500,Js.min(1e3))}),this.form.valueChanges.subscribe(n=>{if("Bar"===n?.type&&this.form.dirty&&this.form.valid){const i=this.prepareData(this.data,n);i&&this.createChart("barChart_"+this.index,n,i)}})}sortData(){let n=this.form.getRawValue(),i=this.prepareData(this.data,n);"random"===this.order||"decrement"===this.order?(this.order="increment",i.sort((r,o)=>+r[n.yAxis]-+o[n.yAxis])):(this.order="decrement",i.sort((r,o)=>+o[n.yAxis]-+r[n.yAxis])),this.createChart("barChart_"+this.index,n,i)}downloadSVG(){const i=document.querySelector("#barChart_"+this.index),o=(new XMLSerializer).serializeToString(i),s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="bar_chart.svg",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}prepareData(n,i){let r={};n.forEach(a=>{a[i.xAxis]&&null!=a[i.xAxis]&&(r[a[i.xAxis]]||(r[a[i.xAxis]]=0),r[a[i.xAxis]]+=+a[i.yAxis])});let o=[],s=0;return Object.keys(r).forEach(a=>{if(r[a]&&void 0!==r[a]){let l={};l[i.xAxis]=a,l[i.yAxis]=r[a],r[a]>s&&(s=r[a]),o.push(l)}}),i.yScale=s+10,o}init(){let n={...this.property};if(this.form.patchValue(n),n&&this.data){const i=this.prepareData(this.data,n);i&&this.createChart("barChart_"+this.index,n,i)}}createChart(n,i,r){r=[...r],du("#"+n).select("svg").remove();var a=i.width-60-30,l=i.height-30-70,c=du("#"+n).append("svg").attr("width",i.width+60+30+100).attr("height",i.height+30+70).append("g").attr("transform","translate(60,30)");const h=Eg().range([0,a]).domain(r.map(m=>m[i.xAxis])).padding(.2);c.append("g").attr("transform",`translate(0, ${l})`).call(cD(h)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");const g=Dg().domain([0,i.yScale]).range([l,0]);c.append("g").call(dD(g)),c.selectAll("mybar").data(r).join("rect").attr("class","label").attr("x",m=>h(m[i.xAxis])).attr("y",m=>g(+m[i.yAxis])).attr("width",h.bandwidth()).attr("height",m=>l-g(+m[i.yAxis])).attr("fill","#69b3a2").text(m=>+m[i.yAxis]),c.selectAll(".text").data(r).enter().append("text").attr("class","label").attr("x",function(m){return h(m[i.xAxis])}).attr("y",function(m){return g(+m[i.yAxis])-20}).attr("dy",".75em").text(function(m){return m[i.yAxis]}),c.append("text").attr("x",a/2).attr("y",l+50).attr("text-anchor","middle").attr("transform","translate(0,70)rotate(0)").style("font-family","Helvetica").style("font-size",20).text(i.xAxis),c.append("text").attr("text-anchor","middle").attr("transform","translate(-40,"+l/2+")rotate(-90)").style("font-family","Helvetica").style("font-size",20).text(i.yAxis)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-bar-chart"]],decls:1,vars:1,consts:[["class","chart-container",4,"ngIf"],[1,"chart-container"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"d-flex","flex-row","w-75","align-items-center",3,"formGroup"],[1,"pe-2","ps-4",3,"for"],["type","number","placeholder","height","formControlName","height","min","300","ngbTooltip","Min:300",1,"form-control",3,"id"],["type","number","placeholder","width","formControlName","width","min","1000","ngbTooltip","Min:1000",1,"form-control",3,"id"],["aria-label",".form-select-lg example","formControlName","xAxis","ngbTooltip","Select X Axis Column","placement","top",1,"form-select",3,"id"],["class","form-select",3,"value",4,"ngFor","ngForOf","ngForAs"],["aria-label",".form-select-lg example","formControlName","yAxis","ngbTooltip","Select Y Axis Column","placement","top",1,"form-select",3,"id"],["type","button","ngbTooltip","Download","placement","right",1,"btn","btn-primary","ms-3"],[1,"bi","bi-download",3,"click"],["type","button","ngbTooltip","Sort Chart","placement","right",1,"btn","btn-primary","ms-3"],[1,"bi","bi-sort-up",3,"click"],[1,"text-nowrap"],[1,"view-container","mx-auto",2,"width","fit-content",3,"id"],[1,"form-select",3,"value"]],template:function(i,r){1&i&&fe(0,$ce,25,14,"div",0),2&i&&$("ngIf",r.property&&r.data)},dependencies:[nr,Ir,Zd,ea,wl,Tl,Qs,bl,na,ru,Xs,Vd,fs,ta],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.chart-container[_ngcontent-%COMP%]{position:relative;resize:both;overflow:auto;padding:20px;border-radius:10px;margin:20px;box-shadow:0 4px 19px #0003,0 6px 20px #00000030}.view-container[_ngcontent-%COMP%]{overflow:auto;min-height:500px;width:100%}"]})}return e})();function Gce(e,t){if(1&e&&(z(0,"option",17),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function qce(e,t){if(1&e&&(z(0,"option",17),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function Wce(e,t){if(1&e){const n=di();z(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"label",5),re(5,"Height"),U(),Ge(6,"input",6),z(7,"label",5),re(8,"Width"),U(),Ge(9,"input",7),z(10,"label",5),re(11,"X"),U(),z(12,"select",8),fe(13,Gce,2,2,"option",9),U(),z(14,"label",5),re(15,"Y"),U(),z(16,"select",10),fe(17,qce,2,2,"option",9),U(),z(18,"label",5),re(19,"Radius"),U(),Ge(20,"input",11),z(21,"label",5),re(22,"FontSize"),U(),Ge(23,"input",12),z(24,"button",13)(25,"i",14),We("click",function(){return Yn(n),Qn(Ae().downloadSVG())}),U()()()(),z(26,"h3",15),re(27,"Pie Chart"),U()(),Ge(28,"div",16),U()}if(2&e){const n=Ae();G(3),$("formGroup",n.form),G(1),$("for","height_"+n.index),G(2),$("id","height_"+n.index),G(1),$("for","width_"+n.index),G(2),$("id","width_"+n.index),G(1),$("for","xAxis_"+n.index),G(2),$("id","xAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(1),$("for","yAxis_"+n.index),G(2),$("id","yAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(1),$("for","radius_"+n.index),G(2),$("id","radius_"+n.index),G(1),$("for","fontsize_"+n.index),G(2),$("id","fontsize_"+n.index),G(5),$("id","pieChart_"+n.index)}}let Zce=(()=>{class e{ngOnInit(){this.form=new hs({type:new rt,xAxis:new rt,yAxis:new rt,height:new rt("",Js.min(300)),width:new rt("",Js.min(300)),radius:new rt,fontsize:new rt}),this.form.valueChanges.subscribe(n=>{if("Pie"===n?.type&&this.form.dirty&&this.form.valid){let i=this.prepareData(this.data,n);i&&this.createChart("pieChart_"+this.index,n,i)}})}init(){let n={...this.property};if(this.form.patchValue(n),n&&this.data){let i=this.prepareData(this.data,n);i&&this.createChart("pieChart_"+this.index,n,i)}}prepareData(n,i){let r={};return n.forEach(o=>{o[i.xAxis]&&null!=o[i.xAxis]&&(r[o[i.xAxis]]||(r[o[i.xAxis]]=0),r[o[i.xAxis]]+=+o[i.yAxis])}),r}downloadSVG(){const i=document.querySelector("#pieChart_"+this.index),o=(new XMLSerializer).serializeToString(i),s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="pie_chart.svg",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}createChart(n,i,r){r={...r},du("#"+n).select("svg").remove(),Math.min(i.width,i.height);const l=du("#"+n).append("svg").attr("width",i.width).attr("height",i.height).append("g").attr("transform",`translate(${i.width/2}, ${i.height/2})`),c=f0().range(pce),g=function Pce(){var e=Nce,t=Rce,n=null,i=si(0),r=si(b0),o=si(0);function s(a){var l,h,g,S,B,c=(a=BU(a)).length,m=0,y=new Array(c),T=new Array(c),I=+i.apply(this,arguments),C=Math.min(b0,Math.max(-b0,r.apply(this,arguments)-I)),D=Math.min(Math.abs(C)/c,o.apply(this,arguments)),F=D*(C<0?-1:1);for(l=0;l<c;++l)(B=T[y[l]=l]=+e(a[l],l,a))>0&&(m+=B);for(null!=t?y.sort(function(W,te){return t(T[W],T[te])}):null!=n&&y.sort(function(W,te){return n(a[W],a[te])}),l=0,g=m?(C-c*F)/m:0;l<c;++l,I=S)T[h=y[l]]={data:a[h],index:l,value:B=T[h],startAngle:I,endAngle:S=I+(B>0?B*g:0)+F,padAngle:D};return T}return s.value=function(a){return arguments.length?(e="function"==typeof a?a:si(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(i="function"==typeof a?a:si(+a),s):i},s.endAngle=function(a){return arguments.length?(r="function"==typeof a?a:si(+a),s):r},s.padAngle=function(a){return arguments.length?(o="function"==typeof a?a:si(+a),s):o},s}().value(function(y){return y[1]})(Object.entries(r)),m=function Ice(){var e=bce,t=wce,n=si(0),i=null,r=Tce,o=Cce,s=Ece,a=null,l=VU(c);function c(){var h,g,m=+e.apply(this,arguments),y=+t.apply(this,arguments),T=r.apply(this,arguments)-v0,I=o.apply(this,arguments)-v0,C=kU(I-T),S=I>T;if(a||(a=h=l()),y<m&&(g=y,y=m,m=g),y>zr)if(C>b0-zr)a.moveTo(y*Hl(T),y*bs(T)),a.arc(0,0,y,T,I,!S),m>zr&&(a.moveTo(m*Hl(I),m*bs(I)),a.arc(0,0,m,I,T,S));else{var M,j,D=T,F=I,B=T,W=I,te=C,O=C,x=s.apply(this,arguments)/2,P=x>zr&&(i?+i.apply(this,arguments):fh(m*m+y*y)),k=FD(kU(y-m)/2,+n.apply(this,arguments)),N=k,V=k;if(P>zr){var ye=FU(P/m*bs(x)),ne=FU(P/y*bs(x));(te-=2*ye)>zr?(B+=ye*=S?1:-1,W-=ye):(te=0,B=W=(T+I)/2),(O-=2*ne)>zr?(D+=ne*=S?1:-1,F-=ne):(O=0,D=F=(T+I)/2)}var pe=y*Hl(D),Me=y*bs(D),Te=m*Hl(W),Pe=m*bs(W);if(k>zr){var lt,Be=y*Hl(F),ke=y*bs(F),ht=m*Hl(B),St=m*bs(B);if(C<Ig)if(lt=function Dce(e,t,n,i,r,o,s,a){var l=n-e,c=i-t,h=s-r,g=a-o,m=g*l-h*c;if(!(m*m<zr))return[e+(m=(h*(t-o)-g*(e-r))/m)*l,t+m*c]}(pe,Me,ht,St,Be,ke,Te,Pe)){var wn=pe-lt[0],ct=Me-lt[1],nn=Be-lt[0],cr=ke-lt[1],Ar=1/bs(function mce(e){return e>1?0:e<-1?Ig:Math.acos(e)}((wn*nn+ct*cr)/(fh(wn*wn+ct*ct)*fh(nn*nn+cr*cr)))/2),Wr=fh(lt[0]*lt[0]+lt[1]*lt[1]);N=FD(k,(m-Wr)/(Ar-1)),V=FD(k,(y-Wr)/(Ar+1))}else N=V=0}O>zr?V>zr?(M=T0(ht,St,pe,Me,y,V,S),j=T0(Be,ke,Te,Pe,y,V,S),a.moveTo(M.cx+M.x01,M.cy+M.y01),V<k?a.arc(M.cx,M.cy,V,or(M.y01,M.x01),or(j.y01,j.x01),!S):(a.arc(M.cx,M.cy,V,or(M.y01,M.x01),or(M.y11,M.x11),!S),a.arc(0,0,y,or(M.cy+M.y11,M.cx+M.x11),or(j.cy+j.y11,j.cx+j.x11),!S),a.arc(j.cx,j.cy,V,or(j.y11,j.x11),or(j.y01,j.x01),!S))):(a.moveTo(pe,Me),a.arc(0,0,y,D,F,!S)):a.moveTo(pe,Me),m>zr&&te>zr?N>zr?(M=T0(Te,Pe,Be,ke,m,-N,S),j=T0(pe,Me,ht,St,m,-N,S),a.lineTo(M.cx+M.x01,M.cy+M.y01),N<k?a.arc(M.cx,M.cy,N,or(M.y01,M.x01),or(j.y01,j.x01),!S):(a.arc(M.cx,M.cy,N,or(M.y01,M.x01),or(M.y11,M.x11),!S),a.arc(0,0,m,or(M.cy+M.y11,M.cx+M.x11),or(j.cy+j.y11,j.cx+j.x11),S),a.arc(j.cx,j.cy,N,or(j.y11,j.x11),or(j.y01,j.x01),!S))):a.arc(0,0,m,W,B,S):a.lineTo(Te,Pe)}else a.moveTo(0,0);if(a.closePath(),h)return a=null,h+""||null}return c.centroid=function(){var h=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,g=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Ig/2;return[Hl(g)*h,bs(g)*h]},c.innerRadius=function(h){return arguments.length?(e="function"==typeof h?h:si(+h),c):e},c.outerRadius=function(h){return arguments.length?(t="function"==typeof h?h:si(+h),c):t},c.cornerRadius=function(h){return arguments.length?(n="function"==typeof h?h:si(+h),c):n},c.padRadius=function(h){return arguments.length?(i=null==h?null:"function"==typeof h?h:si(+h),c):i},c.startAngle=function(h){return arguments.length?(r="function"==typeof h?h:si(+h),c):r},c.endAngle=function(h){return arguments.length?(o="function"==typeof h?h:si(+h),c):o},c.padAngle=function(h){return arguments.length?(s="function"==typeof h?h:si(+h),c):s},c.context=function(h){return arguments.length?(a=h??null,c):a},c}().innerRadius(0).outerRadius(i.radius);l.selectAll("mySlices").data(g).join("path").attr("d",m).attr("fill",function(y){return c(y.data[0])}).attr("stroke","black").style("stroke-width","2px").style("opacity",.7),l.selectAll("mySlices").data(g).join("text").text(function(y){return y.data[0]+" : "+y.data[1]}).attr("transform",function(y){return`translate(${m.centroid(y)})`}).style("text-anchor","middle").style("font-size",i.fontsize)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-pie-chart"]],decls:1,vars:1,consts:[["class","chart-container",4,"ngIf"],[1,"chart-container"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"d-flex","flex-row","w-75","align-items-center",3,"formGroup"],[1,"pe-2","ps-4",3,"for"],["type","number","placeholder","height","formControlName","height","min","300","ngbTooltip","Min:300",1,"form-control",3,"id"],["type","number","placeholder","width","formControlName","width","min","300","ngbTooltip","Min:300",1,"form-control",3,"id"],["aria-label",".form-select-lg example","formControlName","xAxis","ngbTooltip","Select Partition Column","placement","top",1,"form-select",3,"id"],["class","form-select",3,"value",4,"ngFor","ngForOf","ngForAs"],["aria-label",".form-select-lg example","formControlName","yAxis","ngbTooltip","Select Number Column","placement","top",1,"form-select",3,"id"],["type","number","placeholder","radius","formControlName","radius",1,"form-control",3,"id"],["type","number","placeholder","fontsize","formControlName","fontsize",1,"form-control",3,"id"],["type","button","ngbTooltip","Download","placement","right",1,"btn","btn-primary","ms-3"],[1,"bi","bi-download",3,"click"],[1,"text-nowrap"],[1,"view-container","mx-auto",2,"width","fit-content",3,"id"],[1,"form-select",3,"value"]],template:function(i,r){1&i&&fe(0,Wce,29,18,"div",0),2&i&&$("ngIf",r.property&&r.data)},dependencies:[nr,Ir,Zd,ea,wl,Tl,Qs,bl,na,ru,Xs,Vd,fs,ta],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.chart-container[_ngcontent-%COMP%]{position:relative;resize:both;padding:20px;border-radius:10px;margin:20px;box-shadow:0 4px 19px #0003,0 6px 20px #00000030}.view-container[_ngcontent-%COMP%]{overflow:auto;min-height:500px;width:100%}"]})}return e})();function Kce(e,t){if(1&e&&(z(0,"option",15),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function Yce(e,t){if(1&e&&(z(0,"option",15),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function Qce(e,t){if(1&e){const n=di();z(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"label",5),re(5,"Height"),U(),Ge(6,"input",6),z(7,"label",5),re(8,"Width"),U(),Ge(9,"input",7),z(10,"label",5),re(11,"X"),U(),z(12,"select",8),fe(13,Kce,2,2,"option",9),U(),z(14,"label",5),re(15,"Y"),U(),z(16,"select",10),fe(17,Yce,2,2,"option",9),U(),z(18,"button",11)(19,"i",12),We("click",function(){return Yn(n),Qn(Ae().downloadSVG())}),U()()()(),z(20,"h3",13),re(21,"Line Chart"),U()(),Ge(22,"div",14),U()}if(2&e){const n=Ae();G(3),$("formGroup",n.form),G(1),$("for","height_"+n.index),G(2),$("id","height_"+n.index),G(1),$("for","width_"+n.index),G(2),$("id","width_"+n.index),G(1),$("for","xAxis_"+n.index),G(2),$("id","xAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(1),$("for","yAxis_"+n.index),G(2),$("id","yAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(5),$("id","lineChart_"+n.index)}}let Jce=(()=>{class e{constructor(){this.index=0}ngOnInit(){this.form=new hs({type:new rt,xAxis:new rt,yAxis:new rt,height:new rt("",Js.min(300)),width:new rt("",Js.min(1e3))}),this.form.valueChanges.subscribe(n=>{if("Line"===n?.type&&this.form.dirty&&this.form.valid){let i=this.prepareChart(n,this.data);n={...n,...i},this.createChart("lineChart_"+this.index,n,this.data)}})}downloadSVG(){const i=document.querySelector("#lineChart_"+this.index),o=(new XMLSerializer).serializeToString(i),s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="line_chart.svg",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}prepareChart(n,i){let r={minXAxis:1/0,maxXAxis:0,minYAxis:1/0,maxYAxis:0};for(let o=0;o<i.length;o++)r.minXAxis>i[o][n.xAxis]&&(r.minXAxis=+i[o][n.xAxis]),r.maxXAxis<i[o][n.xAxis]&&(r.maxXAxis=+i[o][n.xAxis]),r.minYAxis>i[o][n.yAxis]&&(r.minYAxis=+i[o][n.yAxis]),r.maxYAxis<i[o][n.yAxis]&&(r.maxYAxis=+i[o][n.yAxis]);return r.minXAxis-=10,r.minXAxis<0&&(r.minXAxis=0),r.minYAxis-=10,r.minYAxis<0&&(r.minYAxis=0),r.maxYAxis+=10,r.maxXAxis+=10,r}init(){let n={...this.property};if(this.form.patchValue(n),n&&this.data){let i=this.prepareChart(n,this.data);n={...n,...i},this.createChart("lineChart_"+this.index,n,this.data)}}createChart(n,i,r){r=[...r],du("#"+n).select("svg").remove();var a=i.width-60-30,l=i.height-30-70;const c=du("#"+n).append("svg").attr("width",i.width+60+30).attr("height",i.height+30+70).append("g").attr("transform","translate(60,30)"),h=Dg().domain([i.minXAxis,i.maxXAxis]).range([0,a]),g=Dg().domain([i.minYAxis,i.maxYAxis]).range([l,0]);c.append("g").attr("transform",`translate(0, ${l})`).call(cD(h)),c.append("g").call(dD(g)),c.append("path").datum(r).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",function Mce(e,t){var n=si(!0),i=null,r=Sce,o=null,s=VU(a);function a(l){var c,g,y,h=(l=BU(l)).length,m=!1;for(null==i&&(o=r(y=s())),c=0;c<=h;++c)!(c<h&&n(g=l[c],c,l))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(g,c,l),+t(g,c,l));if(y)return o=null,y+""||null}return e="function"==typeof e?e:void 0===e?Ace:si(e),t="function"==typeof t?t:void 0===t?xce:si(t),a.x=function(l){return arguments.length?(e="function"==typeof l?l:si(+l),a):e},a.y=function(l){return arguments.length?(t="function"==typeof l?l:si(+l),a):t},a.defined=function(l){return arguments.length?(n="function"==typeof l?l:si(!!l),a):n},a.curve=function(l){return arguments.length?(r=l,null!=i&&(o=r(i)),a):r},a.context=function(l){return arguments.length?(null==l?i=o=null:o=r(i=l),a):i},a}().x(function(m){return h(m[i.xAxis])}).y(function(m){return g(m[i.yAxis])})),c.append("text").attr("x",a/2).attr("y",l+50).attr("text-anchor","middle").style("font-family","Helvetica").style("font-size",12).text(i.yAxis),c.append("text").attr("text-anchor","middle").attr("transform","translate(-40,"+l/2+")rotate(-90)").style("font-family","Helvetica").style("font-size",12).text(i.xAxis)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-line-chart"]],decls:1,vars:1,consts:[["class","chart-container",4,"ngIf"],[1,"chart-container"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"d-flex","flex-row","w-75","align-items-center","justify-content-center",3,"formGroup"],[1,"pe-2","ps-4",3,"for"],["type","number","placeholder","height","formControlName","height","min","300","ngbTooltip","Min:300",1,"form-control",3,"id"],["type","number","placeholder","width","formControlName","width","min","1000","ngbTooltip","Min:1000",1,"form-control",3,"id"],["aria-label",".form-select-lg example","formControlName","xAxis","ngbTooltip","Select X Axis Column","placement","top",1,"form-select",3,"id"],["class","form-select",3,"value",4,"ngFor","ngForOf","ngForAs"],["aria-label",".form-select-lg example","formControlName","yAxis","ngbTooltip","Select Y Axis Column","placement","top",1,"form-select",3,"id"],["type","button","ngbTooltip","Download","placement","right",1,"btn","btn-primary","ms-3"],[1,"bi","bi-download",3,"click"],[1,"text-nowrap"],[1,"view-container","mx-auto",2,"width","fit-content",3,"id"],[1,"form-select",3,"value"]],template:function(i,r){1&i&&fe(0,Qce,23,14,"div",0),2&i&&$("ngIf",r.property&&r.data)},dependencies:[nr,Ir,Zd,ea,wl,Tl,Qs,bl,na,ru,Xs,Vd,fs,ta],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.chart-container[_ngcontent-%COMP%]{position:relative;resize:both;padding:20px;border-radius:10px;margin:20px;box-shadow:0 4px 19px #0003,0 6px 20px #00000030}.view-container[_ngcontent-%COMP%]{overflow:auto;min-height:500px;width:100%}"]})}return e})();var Sg=ve(433);function Xce(e,t){if(1&e&&(z(0,"option",12),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function ede(e,t){if(1&e&&(z(0,"option",12),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function tde(e,t){if(1&e&&(z(0,"option",12),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}let nde=(()=>{class e{constructor(){this.lastZoom={latitude:0,longtude:0,zoom:0}}ngOnInit(){this.form=new hs({type:new rt,latitude:new rt,longitude:new rt,label:new rt}),this.form.valueChanges.subscribe(n=>{"Map"===n?.type&&this.form.dirty&&this.form.valid&&this.drawCharts(this.data,n)})}init(){this.map&&this.map.remove();let n=0,i=0;this.data&&void 0!==this.property&&(n=this.data[0][this.property.latitude],i=this.data[0][this.property.longitude],this.form.patchValue(this.property)),this.map=Sg.map("map_"+this.index).setView([n,i],10),Sg.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.drawCharts(this.data,this.property)}drawCharts(n,i){if(this.map){var r=Sg.icon({iconUrl:"assets/images/ic_exception.svg",iconSize:[38,95],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]});this.markers?this.markers.clearLayers():this.markers=Sg.layerGroup().addTo(this.map);try{n.forEach(o=>{if(!isNaN(o[i.latitude])&&!isNaN(o[i.longitude])){const s=Sg.marker([+o[i.latitude],+o[i.longitude]],{icon:r}).addTo(this.map);s.bindPopup(`${i.label} : ${o[i.label]}`),s.addTo(this.markers)}})}catch(o){console.log("Error occur while in map ",o)}}}downloadMapAsImage(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-map"]],decls:20,vars:14,consts:[[1,"map-container","d-flex","flex-column"],[1,"form-container"],[2,"float","inline-end"],[1,"d-flex","flex-row","w-50","align-items-center",3,"formGroup"],[1,"m-2",3,"for"],["aria-label",".form-select-lg example","formControlName","latitude","ngbTooltip","Select Latitude Column","placement","top",1,"form-select",3,"id"],["class","form-select",3,"value",4,"ngFor","ngForOf","ngForAs"],["aria-label",".form-select-lg example","formControlName","longitude","ngbTooltip","Select longitude Column","placement","top",1,"form-select",3,"id"],["aria-label",".form-select-lg example","formControlName","label","ngbTooltip","Select Label Column","placement","top",1,"form-select",3,"id"],["ngbTooltip","Refresh","placement","right",1,"btn","btn-primary","ms-2"],[1,"bi","bi-arrow-clockwise",3,"click"],[1,"map",3,"id"],[1,"form-select",3,"value"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1)(2,"h3",2),re(3,"Map"),U(),z(4,"form",3)(5,"label",4),re(6,"Latitude"),U(),z(7,"select",5),fe(8,Xce,2,2,"option",6),U(),z(9,"label",4),re(10,"Longitude"),U(),z(11,"select",7),fe(12,ede,2,2,"option",6),U(),z(13,"label",4),re(14,"Label"),U(),z(15,"select",8),fe(16,tde,2,2,"option",6),U(),z(17,"button",9)(18,"i",10),We("click",function(){return r.init()}),U()()()(),Ge(19,"div",11),U()),2&i&&(G(4),$("formGroup",r.form),G(1),$("for","Latitude_"+r.index),G(2),$("id","Latitude_"+r.index),G(1),$("ngForOf",r.headers)("ngForAs",r.index),G(1),$("for","Longitude_"+r.index),G(2),$("id","Longitude"+r.index),G(1),$("ngForOf",r.headers)("ngForAs",r.index),G(1),$("for","type_"+r.index),G(2),$("id","type"+r.index),G(1),$("ngForOf",r.headers)("ngForAs",r.index),G(3),$("id","map_"+r.index))},dependencies:[nr,Zd,ea,wl,Tl,na,ru,Xs,fs,ta],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.map-container[_ngcontent-%COMP%]{position:relative;resize:both;overflow:auto;padding:20px;border-radius:10px;margin:20px;box-shadow:0 4px 19px #0003,0 6px 20px #00000030;height:500px}.map[_ngcontent-%COMP%]{width:100%;height:100%}.form-container[_ngcontent-%COMP%]{margin:20px}"]})}return e})();function ide(e,t){if(1&e&&(z(0,"option",16),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function rde(e,t){if(1&e&&(z(0,"option",16),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function ode(e,t){if(1&e&&(z(0,"option",16),re(1),U()),2&e){const n=t.$implicit;$("value",n.key),G(1),Dn(" ",n.value," ")}}function sde(e,t){if(1&e){const n=di();z(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"label",5),re(5,"Height"),U(),Ge(6,"input",6),z(7,"label",5),re(8,"Width"),U(),Ge(9,"input",7),z(10,"label",5),re(11,"X"),U(),z(12,"select",8),fe(13,ide,2,2,"option",9),U(),z(14,"label",5),re(15,"Y"),U(),z(16,"select",10),fe(17,rde,2,2,"option",9),U(),z(18,"label",5),re(19,"GroupBy"),U(),z(20,"select",11),fe(21,ode,2,2,"option",9),U(),z(22,"button",12)(23,"i",13),We("click",function(){return Yn(n),Qn(Ae().downloadSVG())}),U()()()(),z(24,"h3",14),re(25,"Multi-Bar Chart"),U()(),Ge(26,"div",15),U()}if(2&e){const n=Ae();G(3),$("formGroup",n.form),G(1),$("for","height_"+n.index),G(2),$("id","height_"+n.index),G(1),$("for","width_"+n.index),G(2),$("id","width_"+n.index),G(1),$("for","xAxis_"+n.index),G(2),$("id","xAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(1),$("for","yAxis_"+n.index),G(2),$("id","yAxis"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(1),$("for","groupBy_"+n.index),G(2),$("id","groupBy"+n.index),G(1),$("ngForOf",n.headers)("ngForAs",n.index),G(5),$("id","multiBarChart_"+n.index)}}let ade=(()=>{class e{constructor(){this.index=0,this.property={}}ngOnInit(){this.form=new hs({type:new rt,xAxis:new rt,yAxis:new rt,groupBy:new rt,height:new rt("500",Js.min(300)),width:new rt("1500",Js.min(1e3))}),this.form.valueChanges.subscribe(n=>{if("MultiBar"===n?.type&&this.form.dirty&&this.form.valid){let i=this.prepareData(this.data,n);i&&this.createChart("multiBarChart_"+this.index,n,i)}})}downloadSVG(){const i=document.querySelector("#multiBarChart_"+this.index),o=(new XMLSerializer).serializeToString(i),s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="MultiBarChart.svg",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}init(){let n={...this.property};if(this.form.patchValue(n),n&&this.data){let i=this.prepareData(this.data,n);null!=i&&i.length>0&&void 0!==n&&this.createChart("multiBarChart_"+this.index,n,i)}}prepareData(n,i){let r={};n.forEach(a=>{if(a[i.xAxis]&&null!=a[i.xAxis]){const l=a[i.xAxis]+"_"+a[i.groupBy];r[l]||(r[l]=0),r[l]+=+a[i.yAxis]}});let o=[],s=0;return Object.keys(r).forEach(a=>{if(r[a]&&void 0!==r[a]){let l={};l[i.xAxis]=a.split("_")[0],l[i.yAxis]=r[a],l[i.groupBy]=a.split("_")[1],r[a]>s&&(s=r[a]),o.push(l)}}),i.yScale=s+10,o}getRandomColors(n){const i=[];for(let r=0;r<n;r++){const o=`#${Math.floor(16777215*Math.random()).toString(16)}`;i.push(o)}return i}createChart(n,i,r){du("#"+n).select("svg").remove();let a=i.width-40-10,l=i.height-10-20;var c=du("#"+n).append("svg").attr("width",i.width+40+10).attr("height",i.height+10+20).append("g").attr("transform","translate(40,10)");const h=Eg().rangeRound([40,a-10]).domain(new Set(r.map(D=>D[i.xAxis]))).paddingInner(.1),g=r.reduce((D,F)=>(D.includes(F[i.groupBy])||D.push(F[i.groupBy]),D),[]),m=Eg().rangeRound([0,h.bandwidth()]).domain(g).padding(.05),y=this.getRandomColors(g.length),T=f0().domain(g).range(y).unknown("#ccc");let I=0;r.forEach(D=>{+D[i.yAxis]>I&&(I=+D[i.yAxis])});const C=Dg().domain([0,I]).rangeRound([l-20,10]);c.append("g").selectAll().data(wB(r,D=>D[i.xAxis])).join("g").attr("transform",([D])=>`translate(${h(D)},0)`).selectAll().data(([,D])=>D).join("rect").attr("x",D=>m(D[i.groupBy])).attr("y",D=>C(+D[i.yAxis])).attr("width",m.bandwidth()).attr("height",D=>C(0)-C(+D[i.yAxis])).attr("fill",D=>T(D[i.groupBy])),c.append("g").attr("transform",`translate(0,${l-20})`).call(cD(h)),c.append("g").attr("transform","translate(40,0)").call(dD(C)),c.append("g").selectAll("g").data(wB(r,D=>D[i.xAxis])).join("g").attr("transform",([D])=>`translate(${h(D)},0)`).selectAll("text").data(([,D])=>D).join("text").attr("x",D=>m(D[i.groupBy])+m.bandwidth()/2).attr("y",D=>C(+D[i.yAxis])-10).attr("dy",".35em").attr("class","label").attr("text-anchor","middle").text(D=>D[i.yAxis]),c.append("text").attr("x",a/2).attr("y",l+50).attr("text-anchor","middle").style("font-family","Helvetica").style("font-size",20).text(i.xAxis),c.append("text").attr("text-anchor","middle").attr("transform","translate(-20,"+l/2+")rotate(-90)").style("font-family","Helvetica").style("font-size",20).text(i.yAxis);const S=c.append("g").attr("class","legend").attr("transform",`translate(${a+20}, 0)`);g.forEach((D,F)=>{const B=S.append("g").attr("transform",`translate(-500, ${20*F})`);B.append("rect").attr("width",18).attr("height",18).attr("fill",y[F]),B.append("text").attr("x",24).attr("y",9).attr("dy",".35em").style("font-family","Helvetica").style("font-size",12).text(D)})}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-multibar-chart"]],decls:1,vars:1,consts:[["class","chart-container",4,"ngIf"],[1,"chart-container"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"d-flex","flex-row","w-75","align-items-center",3,"formGroup"],[1,"pe-2","ps-4",3,"for"],["type","number","placeholder","height","formControlName","height","min","300","ngbTooltip","Min:300",1,"form-control",3,"id"],["type","number","placeholder","width","formControlName","width","min","1000","ngbTooltip","Min:1000",1,"form-control",3,"id"],["aria-label",".form-select-lg example","formControlName","xAxis","ngbTooltip","Select X Axis Column","placement","top",1,"form-select",3,"id"],["class","form-select",3,"value",4,"ngFor","ngForOf","ngForAs"],["aria-label",".form-select-lg example","formControlName","yAxis","ngbTooltip","Select Y Axis Column","placement","top",1,"form-select",3,"id"],["aria-label",".form-select-lg example","formControlName","groupBy","ngbTooltip","Select GroupBY Column","placement","top",1,"form-select",3,"id"],["type","button","ngbTooltip","Download","placement","right",1,"btn","btn-primary","ms-3"],[1,"bi","bi-download",3,"click"],[1,"text-nowrap"],[1,"view-container","mx-auto",2,"width","fit-content",3,"id"],[1,"form-select",3,"value"]],template:function(i,r){1&i&&fe(0,sde,27,18,"div",0),2&i&&$("ngIf",r.property&&r.data)},dependencies:[nr,Ir,Zd,ea,wl,Tl,Qs,bl,na,ru,Xs,Vd,fs,ta],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.chart-container[_ngcontent-%COMP%]{position:relative;resize:both;overflow:auto;padding:20px;border-radius:10px;margin:20px;box-shadow:0 4px 19px #0003,0 6px 20px #00000030}.view-container[_ngcontent-%COMP%]{overflow:auto;min-height:500px;width:100%}"]})}return e})();function ude(e,t){if(1&e&&(z(0,"option",12),re(1),U()),2&e){const n=t.$implicit;G(1),Dn(" ",n.value," ")}}function lde(e,t){1&e&&(z(0,"div",6)(1,"label",16),re(2,"Height"),U(),Ge(3,"input",17),U())}function cde(e,t){1&e&&(z(0,"div",6)(1,"label",18),re(2,"Width"),U(),Ge(3,"input",19),U())}function dde(e,t){if(1&e&&(z(0,"option",23),re(1),U()),2&e){const n=t.$implicit;$("id",n.key),G(1),Dn(" ",n.value," ")}}function hde(e,t){if(1&e&&(z(0,"div",6)(1,"label",20),re(2,"X"),U(),z(3,"select",21)(4,"option",9),re(5,"Select X Column"),U(),fe(6,dde,2,2,"option",22),U()()),2&e){const n=Ae(3);G(4),$("selected",!0),G(2),$("ngForOf",n.data.headers)}}function fde(e,t){if(1&e&&(z(0,"option",23),re(1),U()),2&e){const n=t.$implicit;$("id",n.key),G(1),Dn(" ",n.value," ")}}function pde(e,t){if(1&e&&(z(0,"div",6)(1,"label",24),re(2,"Y"),U(),z(3,"select",25)(4,"option",9),re(5,"Select Y Column"),U(),fe(6,fde,2,2,"option",22),U()()),2&e){const n=Ae(3);G(4),$("selected",!0),G(2),$("ngForOf",n.data.headers)}}function gde(e,t){if(1&e&&(z(0,"option",23),re(1),U()),2&e){const n=t.$implicit;$("id",n.key),G(1),Dn(" ",n.value," ")}}function mde(e,t){if(1&e&&(z(0,"div",6)(1,"label",26),re(2,"Select GroupBy"),U(),z(3,"select",27)(4,"option",9),re(5,"Select GroupBy Column"),U(),fe(6,gde,2,2,"option",22),U()()),2&e){const n=Ae(3);G(4),$("selected",!0),G(2),$("ngForOf",n.data.headers)}}function _de(e,t){if(1&e&&(z(0,"option",31),re(1),U()),2&e){const n=t.$implicit;$("id",n.key)("value",n.key),G(1),Dn(" ",n.value," ")}}function yde(e,t){if(1&e&&(z(0,"div",6)(1,"label",28),re(2,"Latitude"),U(),z(3,"select",29),fe(4,_de,2,3,"option",30),U()()),2&e){const n=Ae(3);G(4),$("ngForOf",n.data.headers)}}function vde(e,t){if(1&e&&(z(0,"option",31),re(1),U()),2&e){const n=t.$implicit;$("id",n.key)("value",n.key),G(1),Dn(" ",n.key," ")}}function bde(e,t){if(1&e&&(z(0,"div",6)(1,"label",32),re(2,"Longitude"),U(),z(3,"select",33),fe(4,vde,2,3,"option",30),U()()),2&e){const n=Ae(3);G(4),$("ngForOf",n.data.headers)}}function wde(e,t){if(1&e&&(z(0,"option",31),re(1),U()),2&e){const n=t.$implicit;$("id",n.key)("value",n.key),G(1),Dn(" ",n.value," ")}}function Tde(e,t){if(1&e&&(z(0,"div",6)(1,"label",34),re(2,"Label"),U(),z(3,"select",35),fe(4,wde,2,3,"option",30),U()()),2&e){const n=Ae(3);G(4),$("ngForOf",n.data.headers)}}function Cde(e,t){1&e&&(z(0,"div",6)(1,"label",36),re(2,"YScale"),U(),Ge(3,"input",37),U())}function Ede(e,t){1&e&&(z(0,"div",6)(1,"label",38),re(2,"Radius"),U(),Ge(3,"input",39),U())}function Dde(e,t){1&e&&(z(0,"div",6)(1,"label",40),re(2,"Font size"),U(),Ge(3,"input",41),U())}function Ide(e,t){if(1&e){const n=di();z(0,"div"),fe(1,lde,4,0,"div",13),fe(2,cde,4,0,"div",13),fe(3,hde,7,2,"div",13),fe(4,pde,7,2,"div",13),fe(5,mde,7,2,"div",13),fe(6,yde,5,1,"div",13),fe(7,bde,5,1,"div",13),fe(8,Tde,5,1,"div",13),fe(9,Cde,4,0,"div",13),fe(10,Ede,4,0,"div",13),fe(11,Dde,4,0,"div",13),z(12,"div",14)(13,"button",15),We("click",function(){return Yn(n),Qn(Ae(2).createChart())}),re(14,"Create Chart"),U()()()}if(2&e){const n=Ae(2);G(1),$("ngIf","Map"!==n.form.value.type),G(1),$("ngIf","Map"!==n.form.value.type),G(1),$("ngIf","Map"!==n.form.value.type),G(1),$("ngIf","Map"!==n.form.value.type),G(1),$("ngIf","MultiBar"==n.form.value.type),G(1),$("ngIf","Map"===n.form.value.type),G(1),$("ngIf","Map"===n.form.value.type),G(1),$("ngIf","Map"===n.form.value.type),G(1),$("ngIf","Bar"===n.form.value.type),G(1),$("ngIf","Pie"===n.form.value.type),G(1),$("ngIf","Pie"===n.form.value.type),G(2),$("disabled",!n.form.valid)}}function Sde(e,t){if(1&e&&(z(0,"div",2)(1,"div",3)(2,"form",4)(3,"div",5)(4,"p"),re(5,"Enter Chart Details"),U()(),Ge(6,"hr"),z(7,"div",6)(8,"label",7),re(9,"Type"),U(),z(10,"select",8)(11,"option",9),re(12,"Select Visualization Option"),U(),fe(13,ude,2,1,"option",10),U()(),fe(14,Ide,15,12,"div",11),U()()()),2&e){const n=Ae();G(2),$("formGroup",n.form),G(9),$("selected",!0),G(2),$("ngForOf",n.type)("ngForAs",n.index),G(1),$("ngIf",null!=n.form.value.type&&""!=n.form.value.type)}}let Ade=(()=>{class e{constructor(n,i){this.modalService=n,this.store=i,this.type=[{key:"bar",value:"Bar"},{key:"pie",value:"Pie"},{key:"line",value:"Line"},{key:"map",value:"Map"},{key:"multiBar",value:"MultiBar"}]}ngOnInit(){this.form=new hs({type:new rt,height:new rt("1500"),width:new rt("500"),xAxis:new rt,yAxis:new rt,groupBy:new rt,yScale:new rt,radius:new rt,fontsize:new rt,latitude:new rt,longitude:new rt,label:new rt})}createChart(){const n={...this.form.value};let i={};Object.keys(n).forEach(r=>{null!=n[r]&&(i[r]=n[r])}),this.store.dispatch(gB({id:this.data.id,property:i})),this.closeModal()}openModal(n){this.form.reset(),this.modalInstance=this.modalService.open(n,{backdrop:!0,centered:!0})}closeModal(){this.modalInstance.close()}static#e=this.\u0275fac=function(i){return new(i||e)(H(mL),H(uu))};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-modal"]],inputs:{data:"data"},decls:4,vars:0,consts:[["content",""],[1,"btn","btn-primary",3,"click"],[1,"row","p-5"],[1,"col-xs-6"],[1,"form-group",3,"formGroup"],[1,"d-flex","justify-content-center","align-items-center"],[1,"m-2"],["for","type",1,"m-2"],["id","type","aria-label",".form-select-lg example","formControlName","type",1,"form-select","mb-3"],["value","","disabled","",3,"selected"],["class","form-select",4,"ngFor","ngForOf","ngForAs"],[4,"ngIf"],[1,"form-select"],["class","m-2",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","m-2"],["type","button",1,"btn","btn-primary","ms-2",3,"disabled","click"],["for","height",1,"m-2"],["type","number","id","height","placeholder","Enter Height","formControlName","height",1,"form-control"],["for","width",1,"m-2"],["type","number","id","width","placeholder","Enter Width","formControlName","width",1,"form-control"],["for","xAxis",1,"m-2"],["id","xAxis","aria-label",".form-select-lg example","formControlName","xAxis",1,"form-select","mb-3"],["class","form-select",3,"id",4,"ngFor","ngForOf"],[1,"form-select",3,"id"],["for","yAxis",1,"m-2"],["id","yAxis","aria-label",".form-select-lg example","formControlName","yAxis",1,"form-select","mb-3"],["for","multiBar",1,"m-2"],["id","groupBy","aria-label",".form-select-lg example","formControlName","groupBy",1,"form-select","mb-3"],["for","latitude",1,"m-2"],["id","latitude","aria-label",".form-select-lg example","formControlName","latitude",1,"form-select","mb-3"],["class","form-select",3,"id","value",4,"ngFor","ngForOf"],[1,"form-select",3,"id","value"],["for","longitude",1,"m-2"],["id","longitude","aria-label",".form-select-lg example","formControlName","longitude",1,"form-select","mb-3"],["for","label",1,"m-2"],["id","label","aria-label",".form-select-lg example","formControlName","label",1,"form-select","mb-3"],["for","yScale",1,"m-2"],["type","number","id","yScale","placeholder","Enter Y Scale","formControlName","yScale",1,"form-control"],["for","radius",1,"m-2"],["type","number","id","radius","placeholder","Enter Radius","formControlName","radius",1,"form-control"],["for","fontsize",1,"m-2"],["type","number","id","fontsize","placeholder","Enter Font size","formControlName","fontsize",1,"form-control"]],template:function(i,r){if(1&i){const o=di();fe(0,Sde,15,5,"ng-template",null,0,So),z(2,"button",1),We("click",function(){Yn(o);const a=Io(1);return Qn(r.openModal(a))}),re(3,"Add Chart"),U()}},dependencies:[nr,Ir,ea,wl,Tl,Qs,bl,na,ru,Xs,fs,ta]})}return e})();const xde=["chartPlace"];let Mde=(()=>{class e{constructor(n){this.viewContainerRef=n}ngOnInit(){this.addCharts(this.data)}addCharts(n){if(n.charts){this.chartPlace.clear();for(let i=0;i<n.charts.length;i++){const r=this.getChart(n.charts[i].type);if(r){const o=this.viewContainerRef.createComponent(r);o.instance.data=n.data,o.instance.property=n.charts[i],o.instance.index=n.id+"_"+i,o.instance.headers=n.headers,setTimeout(()=>{o.instance.init()},0),this.chartPlace.insert(o.hostView)}}}}getChart(n){switch(n){case"Bar":return zce;case"Pie":return Zce;case"Line":return Jce;case"Map":return nde;case"MultiBar":return ade;default:return null}}static#e=this.\u0275fac=function(i){return new(i||e)(H(Er))};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-chart"]],viewQuery:function(i,r){if(1&i&&Qa(xde,7,Er),2&i){let o;Jt(o=Xt())&&(r.chartPlace=o.first)}},hostAttrs:[1,"mb-5","position-relative"],inputs:{data:"data"},decls:4,vars:1,consts:[[1,"button-container","d-flex","align-items-center","justify-content-center"],[3,"data"],["chartPlace",""]],template:function(i,r){1&i&&(z(0,"div",0),Ge(1,"app-modal",1),U(),Xw(2,null,2)),2&i&&(G(1),$("data",r.data))},dependencies:[Ade],styles:[".button-container[_ngcontent-%COMP%]{height:100px}"]})}return e})();function Rde(e,t){if(1&e){const n=di();z(0,"i",8),We("click",function(r){Yn(n);const o=Ae().$implicit;return Qn(Ae().close(r,o))}),U()}}function Nde(e,t){if(1&e&&(z(0,"section",9),Ge(1,"app-table-view",10)(2,"app-chart",10),U()),2&e){const n=Ae().$implicit;G(1),$("data",n),G(1),$("data",n)}}function Pde(e,t){if(1&e&&(z(0,"li",4)(1,"button",5),re(2),z(3,"span"),re(4,"\xa0\xa0"),U(),fe(5,Rde,1,0,"i",6),U(),fe(6,Nde,3,2,"ng-template",7),U()),2&e){const n=t.$implicit;$("ngbNavItem",t.index),G(2),io(n.name),G(3),$("ngIf","9876543210"!==n.id&&"8221465295"!==n.id)}}let Ode=(()=>{class e{constructor(n){this.store=n,this.active=0,this.data=[],this.chartObservable$=n.select("chartData")}ngOnInit(){this.chartObservable$.subscribe(n=>{this.data=n})}close(n,i){n.stopPropagation(),this.store.dispatch(mB({id:i.id})),this.active=0}static#e=this.\u0275fac=function(i){return new(i||e)(H(uu))};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-nav-tab"]],hostAttrs:[1,"position-relative",2,"top","80px"],decls:4,vars:4,consts:[["ngbNav","",1,"nav-tabs",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2","mb-5",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["class","bi bi-x-lg icon","style","color: red;",3,"click",4,"ngIf"],["ngbNavContent",""],[1,"bi","bi-x-lg","icon",2,"color","red",3,"click"],[2,"height","calc(100vh - 150px)","overflow","auto"],[3,"data"]],template:function(i,r){if(1&i&&(z(0,"ul",0,1),We("activeIdChange",function(s){return r.active=s}),fe(2,Pde,7,3,"li",2),U(),Ge(3,"div",3)),2&i){const o=Io(1);$("activeId",r.active)("destroyOnHide",!0),G(2),$("ngForOf",r.data),G(1),$("ngbNavOutlet",o)}},dependencies:[nr,Ir,gE,Nl,Wd,yL,vL,$p,bL,Qoe,Mde],styles:[".icon[_ngcontent-%COMP%]:hover{border:1px solid black}"]})}return e})();function HU(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function Se(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(l){HU(o,i,r,s,a,"next",l)}function a(l){HU(o,i,r,s,a,"throw",l)}s(void 0)})}}const $U=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},zU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],s=r+1<e.length,a=s?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0;let m=(15&a)<<2|c>>6,y=63&c;l||(y=64,s||(m=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[m],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($U(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==g)throw new Vde;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==g&&i.push(c<<6&192|g))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Vde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C0=function(e){return function(e){const t=$U(e);return zU.encodeByteArray(t,!0)}(e).replace(/\./g,"")},E0=()=>{try{return function jde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&function(e){try{return zU.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},qU=()=>{var e;return null===(e=E0())||void 0===e?void 0:e.config};class WU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,i))}}}class gh extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,gh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ZU.prototype.create)}}class ZU{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?function ehe(e,t){return e.replace(the,(n,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new gh(r,`${this.serviceName}: ${s} (${r}).`,i)}}const the=/\{\$([^}]+)}/g;function jD(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],s=t[r];if(YU(o)&&YU(s)){if(!jD(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function YU(e){return null!==e&&"object"==typeof e}function I0(e){return e&&e._delegate?e._delegate:e}class xg{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zl="[DEFAULT]";class lhe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new WU;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function dhe(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=zl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return Se(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=zl){return this.instances.has(t)}getOptions(t=zl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===zl?void 0:e),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var e;return i||null}normalizeInstanceIdentifier(t=zl){return this.component?this.component.multipleInstances?t:zl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hhe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lhe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const zD=[];var Lt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Lt||{});const QU={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},fhe=Lt.INFO,phe={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},ghe=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=phe[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class JU{constructor(t){this.name=t,this._logLevel=fhe,this._logHandler=ghe,this._userLogHandler=null,zD.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?QU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const mhe=(e,t)=>t.some(n=>e instanceof n);let XU,e3;const t3=new WeakMap,GD=new WeakMap,n3=new WeakMap,qD=new WeakMap,WD=new WeakMap;let ZD={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return GD.get(e);if("objectStoreNames"===t)return e.objectStoreNames||n3.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Che(e){return"function"==typeof e?function The(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yhe(){return e3||(e3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(KD(this),t),hu(t3.get(this))}:function(...t){return hu(e.apply(KD(this),t))}:function(t,...n){const i=e.call(KD(this),t,...n);return n3.set(i,t.sort?t.sort():[t]),hu(i)}}(e):(e instanceof IDBTransaction&&function bhe(e){if(GD.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});GD.set(e,t)}(e),mhe(e,function _he(){return XU||(XU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,ZD):e)}function hu(e){if(e instanceof IDBRequest)return function vhe(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(hu(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&t3.set(n,e)}).catch(()=>{}),WD.set(t,e),t}(e);if(qD.has(e))return qD.get(e);const t=Che(e);return t!==e&&(qD.set(e,t),WD.set(t,e)),t}const KD=e=>WD.get(e),Dhe=["get","getKey","getAll","getAllKeys","count"],Ihe=["put","add","delete","clear"],YD=new Map;function i3(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(YD.get(t))return YD.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Ihe.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Dhe.includes(n))return;const o=function(){var s=Se(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[n](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return YD.set(t,o),o}!function whe(e){ZD=e(ZD)}(e=>({...e,get:(t,n,i)=>i3(t,n)||e.get(t,n,i),has:(t,n)=>!!i3(t,n)||e.has(t,n)}));class She{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Ahe(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const S0="@firebase/app",Gl=new JU("@firebase/app"),A0="[DEFAULT]",tfe={[S0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ql=new Map,Mg=new Map,Rg=new Map;function r3(e,t){try{e.container.addComponent(t)}catch(n){Gl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function x0(e){const t=e.name;if(Rg.has(t))return Gl.debug(`There were multiple attempts to register component ${t}.`),!1;Rg.set(t,e);for(const n of ql.values())r3(n,e);for(const n of Mg.values())r3(n,e);return!0}const Po=new ZU("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rfe{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}function s3(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:A0,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Po.create("bad-app-name",{appName:String(r)});if(n||(n=qU()),!n)throw Po.create("no-options");const o=ql.get(r);if(o){if(jD(n,o.options)&&jD(i,o.config))return o;throw Po.create("duplicate-app",{appName:r})}const s=new hhe(r);for(const l of Rg.values())s.addComponent(l);const a=new rfe(n,i,s);return ql.set(r,a),a}function Wl(e,t,n){var i;let r=null!==(i=tfe[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${t}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Gl.warn(a.join(" "))}x0(new xg(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const lfe="firebase-heartbeat-database",cfe=1,Ng="firebase-heartbeat-store";let XD=null;function a3(){return XD||(XD=function Ehe(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=hu(s);return i&&s.addEventListener("upgradeneeded",l=>{i(hu(s.result),l.oldVersion,l.newVersion,hu(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(lfe,cfe,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ng)}catch(n){console.warn(n)}}}).catch(e=>{throw Po.create("idb-open",{originalErrorMessage:e.message})})),XD}function eI(){return(eI=Se(function*(e){try{const n=(yield a3()).transaction(Ng),i=yield n.objectStore(Ng).get(l3(e));return yield n.done,i}catch(t){if(t instanceof gh)Gl.warn(t.message);else{const n=Po.create("idb-get",{originalErrorMessage:t?.message});Gl.warn(n.message)}}})).apply(this,arguments)}function u3(e,t){return tI.apply(this,arguments)}function tI(){return(tI=Se(function*(e,t){try{const i=(yield a3()).transaction(Ng,"readwrite");yield i.objectStore(Ng).put(t,l3(e)),yield i.done}catch(n){if(n instanceof gh)Gl.warn(n.message);else{const i=Po.create("idb-set",{originalErrorMessage:n?.message});Gl.warn(i.message)}}})).apply(this,arguments)}function l3(e){return`${e.name}!${e.options.appId}`}class pfe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mfe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return Se(function*(){var n,i;const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c3();if((null!=(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==s&&!t._heartbeatsCache.heartbeats.some(a=>a.date===s))return t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return Se(function*(){var n;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=c3(),{heartbeatsToSend:r,unsentEntries:o}=function gfe(e,t=1024){const n=[];let i=e.slice();for(const r of e){const o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),d3(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),d3(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(t._heartbeatsCache.heartbeats),s=C0(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s})()}}function c3(){return(new Date).toISOString().substring(0,10)}class mfe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Se(function*(){return!!function Qde(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Jde(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return Se(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function dfe(e){return eI.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var n=this;return Se(function*(){var i;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return u3(n.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return Se(function*(){var i;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return u3(n.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function d3(e){return C0(JSON.stringify({version:2,heartbeats:e})).length}!function _fe(e){x0(new xg("platform-logger",t=>new She(t),"PRIVATE")),x0(new xg("heartbeat",t=>new pfe(t),"PRIVATE")),Wl(S0,"0.10.8",e),Wl(S0,"0.10.8","esm2017"),Wl("fire-js","")}(""),Wl("firebase","10.12.5","app");var Zl,p3,h3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f3={};(function(){var e;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(O,x,P){P||(P=0);var k=Array(16);if("string"==typeof x)for(var N=0;16>N;++N)k[N]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(N=0;16>N;++N)k[N]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;var V=O.g[3],M=(x=O.g[0])+(V^(P=O.g[1])&((N=O.g[2])^V))+k[0]+3614090360&4294967295;M=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=(P=(N=(V=(x=P+(M<<7&4294967295|M>>>25))+((M=V+(N^x&(P^N))+k[1]+3905402710&4294967295)<<12&4294967295|M>>>20))+((M=N+(P^V&(x^P))+k[2]+606105819&4294967295)<<17&4294967295|M>>>15))+((M=P+(x^N&(V^x))+k[3]+3250441966&4294967295)<<22&4294967295|M>>>10))+((M=x+(V^P&(N^V))+k[4]+4118548399&4294967295)<<7&4294967295|M>>>25))+((M=V+(N^x&(P^N))+k[5]+1200080426&4294967295)<<12&4294967295|M>>>20))+((M=N+(P^V&(x^P))+k[6]+2821735955&4294967295)<<17&4294967295|M>>>15))+((M=P+(x^N&(V^x))+k[7]+4249261313&4294967295)<<22&4294967295|M>>>10))+((M=x+(V^P&(N^V))+k[8]+1770035416&4294967295)<<7&4294967295|M>>>25))+((M=V+(N^x&(P^N))+k[9]+2336552879&4294967295)<<12&4294967295|M>>>20))+((M=N+(P^V&(x^P))+k[10]+4294925233&4294967295)<<17&4294967295|M>>>15))+((M=P+(x^N&(V^x))+k[11]+2304563134&4294967295)<<22&4294967295|M>>>10))+((M=x+(V^P&(N^V))+k[12]+1804603682&4294967295)<<7&4294967295|M>>>25))+((M=V+(N^x&(P^N))+k[13]+4254626195&4294967295)<<12&4294967295|M>>>20))+((M=N+(P^V&(x^P))+k[14]+2792965006&4294967295)<<17&4294967295|M>>>15))+((M=P+(x^N&(V^x))+k[15]+1236535329&4294967295)<<22&4294967295|M>>>10))+((M=x+(N^V&(P^N))+k[1]+4129170786&4294967295)<<5&4294967295|M>>>27))+((M=V+(P^N&(x^P))+k[6]+3225465664&4294967295)<<9&4294967295|M>>>23))+((M=N+(x^P&(V^x))+k[11]+643717713&4294967295)<<14&4294967295|M>>>18))+((M=P+(V^x&(N^V))+k[0]+3921069994&4294967295)<<20&4294967295|M>>>12))+((M=x+(N^V&(P^N))+k[5]+3593408605&4294967295)<<5&4294967295|M>>>27))+((M=V+(P^N&(x^P))+k[10]+38016083&4294967295)<<9&4294967295|M>>>23))+((M=N+(x^P&(V^x))+k[15]+3634488961&4294967295)<<14&4294967295|M>>>18))+((M=P+(V^x&(N^V))+k[4]+3889429448&4294967295)<<20&4294967295|M>>>12))+((M=x+(N^V&(P^N))+k[9]+568446438&4294967295)<<5&4294967295|M>>>27))+((M=V+(P^N&(x^P))+k[14]+3275163606&4294967295)<<9&4294967295|M>>>23))+((M=N+(x^P&(V^x))+k[3]+4107603335&4294967295)<<14&4294967295|M>>>18))+((M=P+(V^x&(N^V))+k[8]+1163531501&4294967295)<<20&4294967295|M>>>12))+((M=x+(N^V&(P^N))+k[13]+2850285829&4294967295)<<5&4294967295|M>>>27))+((M=V+(P^N&(x^P))+k[2]+4243563512&4294967295)<<9&4294967295|M>>>23))+((M=N+(x^P&(V^x))+k[7]+1735328473&4294967295)<<14&4294967295|M>>>18))+((M=P+(V^x&(N^V))+k[12]+2368359562&4294967295)<<20&4294967295|M>>>12))+((M=x+(P^N^V)+k[5]+4294588738&4294967295)<<4&4294967295|M>>>28))+((M=V+(x^P^N)+k[8]+2272392833&4294967295)<<11&4294967295|M>>>21))+((M=N+(V^x^P)+k[11]+1839030562&4294967295)<<16&4294967295|M>>>16))+((M=P+(N^V^x)+k[14]+4259657740&4294967295)<<23&4294967295|M>>>9))+((M=x+(P^N^V)+k[1]+2763975236&4294967295)<<4&4294967295|M>>>28))+((M=V+(x^P^N)+k[4]+1272893353&4294967295)<<11&4294967295|M>>>21))+((M=N+(V^x^P)+k[7]+4139469664&4294967295)<<16&4294967295|M>>>16))+((M=P+(N^V^x)+k[10]+3200236656&4294967295)<<23&4294967295|M>>>9))+((M=x+(P^N^V)+k[13]+681279174&4294967295)<<4&4294967295|M>>>28))+((M=V+(x^P^N)+k[0]+3936430074&4294967295)<<11&4294967295|M>>>21))+((M=N+(V^x^P)+k[3]+3572445317&4294967295)<<16&4294967295|M>>>16))+((M=P+(N^V^x)+k[6]+76029189&4294967295)<<23&4294967295|M>>>9))+((M=x+(P^N^V)+k[9]+3654602809&4294967295)<<4&4294967295|M>>>28))+((M=V+(x^P^N)+k[12]+3873151461&4294967295)<<11&4294967295|M>>>21))+((M=N+(V^x^P)+k[15]+530742520&4294967295)<<16&4294967295|M>>>16))+((M=P+(N^V^x)+k[2]+3299628645&4294967295)<<23&4294967295|M>>>9))+((M=x+(N^(P|~V))+k[0]+4096336452&4294967295)<<6&4294967295|M>>>26))+((M=V+(P^(x|~N))+k[7]+1126891415&4294967295)<<10&4294967295|M>>>22))+((M=N+(x^(V|~P))+k[14]+2878612391&4294967295)<<15&4294967295|M>>>17))+((M=P+(V^(N|~x))+k[5]+4237533241&4294967295)<<21&4294967295|M>>>11))+((M=x+(N^(P|~V))+k[12]+1700485571&4294967295)<<6&4294967295|M>>>26))+((M=V+(P^(x|~N))+k[3]+2399980690&4294967295)<<10&4294967295|M>>>22))+((M=N+(x^(V|~P))+k[10]+4293915773&4294967295)<<15&4294967295|M>>>17))+((M=P+(V^(N|~x))+k[1]+2240044497&4294967295)<<21&4294967295|M>>>11))+((M=x+(N^(P|~V))+k[8]+1873313359&4294967295)<<6&4294967295|M>>>26))+((M=V+(P^(x|~N))+k[15]+4264355552&4294967295)<<10&4294967295|M>>>22))+((M=N+(x^(V|~P))+k[6]+2734768916&4294967295)<<15&4294967295|M>>>17))+((M=P+(V^(N|~x))+k[13]+1309151649&4294967295)<<21&4294967295|M>>>11))+((V=(x=P+((M=x+(N^(P|~V))+k[4]+4149444226&4294967295)<<6&4294967295|M>>>26))+((M=V+(P^(x|~N))+k[11]+3174756917&4294967295)<<10&4294967295|M>>>22))^((N=V+((M=N+(x^(V|~P))+k[2]+718787259&4294967295)<<15&4294967295|M>>>17))|~x))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+V&4294967295}function s(O,x){this.h=x;for(var P=[],k=!0,N=O.length-1;0<=N;N--){var V=0|O[N];k&&V==x||(P[N]=V,k=!1)}this.g=P}(function t(O,x){function P(){}P.prototype=x.prototype,O.D=x.prototype,O.prototype=new P,O.prototype.constructor=O,O.C=function(k,N,V){for(var M=Array(arguments.length-2),j=2;j<arguments.length;j++)M[j-2]=arguments[j];return x.prototype[N].apply(k,M)}})(i,function n(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(O,x){void 0===x&&(x=O.length);for(var P=x-this.blockSize,k=this.B,N=this.h,V=0;V<x;){if(0==N)for(;V<=P;)r(this,O,V),V+=this.blockSize;if("string"==typeof O){for(;V<x;)if(k[N++]=O.charCodeAt(V++),N==this.blockSize){r(this,k),N=0;break}}else for(;V<x;)if(k[N++]=O[V++],N==this.blockSize){r(this,k),N=0;break}}this.h=N,this.o+=x},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var P=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=255&P,P/=256;for(this.u(O),O=Array(16),x=P=0;4>x;++x)for(var k=0;32>k;k+=8)O[P++]=this.g[x]>>>k&255;return O};var a={};function l(O){return-128<=O&&128>O?function o(O,x){var P=a;return Object.prototype.hasOwnProperty.call(P,O)?P[O]:P[O]=x(O)}(O,function(x){return new s([0|x],0>x?-1:0)}):new s([0|O],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return C(c(-O));for(var x=[],P=1,k=0;O>=P;k++)x[k]=O/P|0,P*=4294967296;return new s(x,0)}var g=l(0),m=l(1),y=l(16777216);function T(O){if(0!=O.h)return!1;for(var x=0;x<O.g.length;x++)if(0!=O.g[x])return!1;return!0}function I(O){return-1==O.h}function C(O){for(var x=O.g.length,P=[],k=0;k<x;k++)P[k]=~O.g[k];return new s(P,~O.h).add(m)}function S(O,x){return O.add(C(x))}function D(O,x){for(;(65535&O[x])!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function F(O,x){this.g=O,this.h=x}function B(O,x){if(T(x))throw Error("division by zero");if(T(O))return new F(g,g);if(I(O))return x=B(C(O),x),new F(C(x.g),C(x.h));if(I(x))return x=B(O,C(x)),new F(C(x.g),x.h);if(30<O.g.length){if(I(O)||I(x))throw Error("slowDivide_ only works with positive integers.");for(var P=m,k=x;0>=k.l(O);)P=W(P),k=W(k);var N=te(P,1),V=te(k,1);for(k=te(k,2),P=te(P,2);!T(k);){var M=V.add(k);0>=M.l(O)&&(N=N.add(P),V=M),k=te(k,1),P=te(P,1)}return x=S(O,N.j(x)),new F(N,x)}for(N=g;0<=O.l(x);){for(P=Math.max(1,Math.floor(O.m()/x.m())),k=48>=(k=Math.ceil(Math.log(P)/Math.LN2))?1:Math.pow(2,k-48),M=(V=c(P)).j(x);I(M)||0<M.l(O);)M=(V=c(P-=k)).j(x);T(V)&&(V=m),N=N.add(V),O=S(O,M)}return new F(N,O)}function W(O){for(var x=O.g.length+1,P=[],k=0;k<x;k++)P[k]=O.i(k)<<1|O.i(k-1)>>>31;return new s(P,O.h)}function te(O,x){var P=x>>5;x%=32;for(var k=O.g.length-P,N=[],V=0;V<k;V++)N[V]=0<x?O.i(V+P)>>>x|O.i(V+P+1)<<32-x:O.i(V+P);return new s(N,O.h)}(e=s.prototype).m=function(){if(I(this))return-C(this).m();for(var O=0,x=1,P=0;P<this.g.length;P++){var k=this.i(P);O+=(0<=k?k:4294967296+k)*x,x*=4294967296}return O},e.toString=function(O){if(2>(O=O||10)||36<O)throw Error("radix out of range: "+O);if(T(this))return"0";if(I(this))return"-"+C(this).toString(O);for(var x=c(Math.pow(O,6)),P=this,k="";;){var N=B(P,x).g,V=((0<(P=S(P,N.j(x))).g.length?P.g[0]:P.h)>>>0).toString(O);if(T(P=N))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},e.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h},e.l=function(O){return I(O=S(this,O))?-1:T(O)?0:1},e.abs=function(){return I(this)?C(this):this},e.add=function(O){for(var x=Math.max(this.g.length,O.g.length),P=[],k=0,N=0;N<=x;N++){var V=k+(65535&this.i(N))+(65535&O.i(N)),M=(V>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);k=M>>>16,P[N]=(M&=65535)<<16|(V&=65535)}return new s(P,-2147483648&P[P.length-1]?-1:0)},e.j=function(O){if(T(this)||T(O))return g;if(I(this))return I(O)?C(this).j(C(O)):C(C(this).j(O));if(I(O))return C(this.j(C(O)));if(0>this.l(y)&&0>O.l(y))return c(this.m()*O.m());for(var x=this.g.length+O.g.length,P=[],k=0;k<2*x;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<O.g.length;N++){var V=this.i(k)>>>16,M=65535&this.i(k),j=O.i(N)>>>16,ye=65535&O.i(N);P[2*k+2*N]+=M*ye,D(P,2*k+2*N),P[2*k+2*N+1]+=V*ye,D(P,2*k+2*N+1),P[2*k+2*N+1]+=M*j,D(P,2*k+2*N+1),P[2*k+2*N+2]+=V*j,D(P,2*k+2*N+2)}for(k=0;k<x;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=x;k<2*x;k++)P[k]=0;return new s(P,0)},e.A=function(O){return B(this,O).h},e.and=function(O){for(var x=Math.max(this.g.length,O.g.length),P=[],k=0;k<x;k++)P[k]=this.i(k)&O.i(k);return new s(P,this.h&O.h)},e.or=function(O){for(var x=Math.max(this.g.length,O.g.length),P=[],k=0;k<x;k++)P[k]=this.i(k)|O.i(k);return new s(P,this.h|O.h)},e.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),P=[],k=0;k<x;k++)P[k]=this.i(k)^O.i(k);return new s(P,this.h^O.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,p3=f3.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function h(O,x){if(0==O.length)throw Error("number format error: empty string");if(2>(x=x||10)||36<x)throw Error("radix out of range: "+x);if("-"==O.charAt(0))return C(h(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(x,8)),k=g,N=0;N<O.length;N+=8){var V=Math.min(8,O.length-N),M=parseInt(O.substring(N,N+V),x);8>V?(V=c(Math.pow(x,V)),k=k.j(V).add(c(M))):k=(k=k.j(P)).add(c(M))}return k},Zl=f3.Integer=s}).apply(typeof h3<"u"?h3:typeof self<"u"?self:typeof window<"u"?window:{});var g3,m3,Pg,_3,R0,nI,y3,v3,b3,M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},la={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,v,w){return f==Array.prototype||f==Object.prototype||(f[v]=w.value),f},i=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof M0&&M0];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}(this);!function r(f,v){if(v)e:{var w=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var K=f[A];if(!(K in w))break e;w=w[K]}(v=v(A=w[f=f[f.length-1]]))!=A&&null!=v&&t(w,f,{configurable:!0,writable:!0,value:v})}}("Array.prototype.values",function(f){return f||function(){return function o(f,v){f instanceof String&&(f+="");var w=0,A=!1,K={next:function(){if(!A&&w<f.length){var ee=w++;return{value:v(ee,f[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}(this,function(v,w){return w})}});var s=s||{},a=this||self;function l(f){var v=typeof f;return"array"==(v="object"!=v?v:f?Array.isArray(f)?"array":v:"null")||"object"==v&&"number"==typeof f.length}function c(f){var v=typeof f;return"object"==v&&null!=f||"function"==v}function h(f,v,w){return f.call.apply(f.bind,arguments)}function g(f,v,w){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,A),f.apply(v,K)}}return function(){return f.apply(v,arguments)}}function m(f,v,w){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:g).apply(null,arguments)}function y(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function T(f,v){function w(){}w.prototype=v.prototype,f.aa=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(A,K,ee){for(var Ce=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)Ce[fn-2]=arguments[fn];return v.prototype[K].apply(A,Ce)}}function I(f){const v=f.length;if(0<v){const w=Array(v);for(let A=0;A<v;A++)w[A]=f[A];return w}return[]}function C(f,v){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(l(A)){const K=f.length||0,ee=A.length||0;f.length=K+ee;for(let Ce=0;Ce<ee;Ce++)f[K+Ce]=A[Ce]}else f.push(A)}}function D(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var W=!(-1==F().indexOf("Gecko")||-1!=F().toLowerCase().indexOf("webkit")&&-1==F().indexOf("Edge")||-1!=F().indexOf("Trident")||-1!=F().indexOf("MSIE")||-1!=F().indexOf("Edge"));function te(f,v,w){for(const A in f)v.call(w,f[A],A,f)}function x(f){const v={};for(const w in f)v[w]=f[w];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,v){let w,A;for(let K=1;K<arguments.length;K++){for(w in A=arguments[K],A)f[w]=A[w];for(let ee=0;ee<P.length;ee++)w=P[ee],Object.prototype.hasOwnProperty.call(A,w)&&(f[w]=A[w])}}function N(f){var v=1;f=f.split(":");const w=[];for(;0<v&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function V(f){a.setTimeout(()=>{throw f},0)}function M(){var f=Te;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}var ye=new class S{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Me=!1,Te=new class j{constructor(){this.h=this.g=null}add(v,w){const A=ye.get();A.set(v,w),this.h?this.h.next=A:this.g=A,this.h=A}},Pe=()=>{const f=a.Promise.resolve(void 0);pe=()=>{f.then(Be)}};var Be=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(w){V(w)}var v=ye;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Me=!1};function ke(){this.s=this.s,this.C=this.C}function ht(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ht.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};a.addEventListener("test",w,v),a.removeEventListener("test",w,v)}catch{}return f}();function lt(f,v){if(ht.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(W){e:{try{B(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else"mouseover"==w?v=f.fromElement:"mouseout"==w&&(v=f.toElement);this.relatedTarget=v,A?(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:wn[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&lt.aa.h.call(this)}}T(lt,ht);var wn={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),nn=0;function cr(f,v,w,A,K){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!A,this.ha=K,this.key=++nn,this.da=this.fa=!1}function Ar(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Wr(f){this.src=f,this.g={},this.h=0}function Au(f,v){var w=v.type;if(w in f.g){var ee,A=f.g[w],K=Array.prototype.indexOf.call(A,v,void 0);(ee=0<=K)&&Array.prototype.splice.call(A,K,1),ee&&(Ar(v),0==f.g[w].length&&(delete f.g[w],f.h--))}}function Zr(f,v,w,A){for(var K=0;K<f.length;++K){var ee=f[K];if(!ee.da&&ee.listener==v&&ee.capture==!!w&&ee.ha==A)return K}return-1}Wr.prototype.add=function(f,v,w,A,K){var ee=f.toString();(f=this.g[ee])||(f=this.g[ee]=[],this.h++);var Ce=Zr(f,v,A,K);return-1<Ce?(v=f[Ce],w||(v.fa=!1)):((v=new cr(v,this.src,ee,!!A,K)).fa=w,f.push(v)),v};var xu="closure_lm_"+(1e6*Math.random()|0),fc={};function pc(f,v,w,A,K){if(A&&A.once)return Ss(f,v,w,A,K);if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)pc(f,v[ee],w,A,K);return null}return w=nf(w),f&&f[ct]?f.K(v,w,c(A)?!!A.capture:!!A,K):Qe(f,v,w,!1,A,K)}function Qe(f,v,w,A,K,ee){if(!v)throw Error("Invalid event type");var Ce=c(K)?!!K.capture:!!K,fn=gc(f);if(fn||(f[xu]=fn=new Wr(f)),(w=fn.add(v,w,A,Ce,ee)).proxy)return w;if(A=function $n(){const v=Ab;return function f(w){return v.call(f.src,f.listener,w)}}(),w.proxy=A,A.src=f,A.listener=w,f.addEventListener)St||(K=Ce),void 0===K&&(K=!1),f.addEventListener(v.toString(),A,K);else if(f.attachEvent)f.attachEvent(mm(v.toString()),A);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(A)}return w}function Ss(f,v,w,A,K){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Ss(f,v[ee],w,A,K);return null}return w=nf(w),f&&f[ct]?f.L(v,w,c(A)?!!A.capture:!!A,K):Qe(f,v,w,!0,A,K)}function Ci(f,v,w,A,K){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Ci(f,v[ee],w,A,K);else A=c(A)?!!A.capture:!!A,w=nf(w),f&&f[ct]?(f=f.i,(v=String(v).toString())in f.g&&-1<(w=Zr(ee=f.g[v],w,A,K))&&(Ar(ee[w]),Array.prototype.splice.call(ee,w,1),0==ee.length&&(delete f.g[v],f.h--))):f&&(f=gc(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Zr(v,w,A,K)),(w=-1<f?v[f]:null)&&Mu(w))}function Mu(f){if("number"!=typeof f&&f&&!f.da){var v=f.src;if(v&&v[ct])Au(v.i,f);else{var w=f.type,A=f.proxy;v.removeEventListener?v.removeEventListener(w,A,f.capture):v.detachEvent?v.detachEvent(mm(w),A):v.addListener&&v.removeListener&&v.removeListener(A),(w=gc(v))?(Au(w,f),0==w.h&&(w.src=null,v[xu]=null)):Ar(f)}}}function mm(f){return f in fc?fc[f]:fc[f]="on"+f}function Ab(f,v){if(f.da)f=!0;else{v=new lt(v,this);var w=f.listener,A=f.ha||f.src;f.fa&&Mu(f),f=w.call(A,v)}return f}function gc(f){return(f=f[xu])instanceof Wr?f:null}var tf="__closure_events_fn_"+(1e9*Math.random()>>>0);function nf(f){return"function"==typeof f?f:(f[tf]||(f[tf]=function(v){return f.handleEvent(v)}),f[tf])}function Ei(){ke.call(this),this.i=new Wr(this),this.M=this,this.F=null}function Oi(f,v){var w,A=f.F;if(A)for(w=[];A;A=A.F)w.push(A);if(f=f.M,A=v.type||v,"string"==typeof v)v=new ht(v,f);else if(v instanceof ht)v.target=v.target||f;else{var K=v;k(v=new ht(A,f),K)}if(K=!0,w)for(var ee=w.length-1;0<=ee;ee--){var Ce=v.g=w[ee];K=xb(Ce,A,!0,v)&&K}if(K=xb(Ce=v.g=f,A,!0,v)&&K,K=xb(Ce,A,!1,v)&&K,w)for(ee=0;ee<w.length;ee++)K=xb(Ce=v.g=w[ee],A,!1,v)&&K}function xb(f,v,w,A){if(!(v=f.i.g[String(v)]))return!0;v=v.concat();for(var K=!0,ee=0;ee<v.length;++ee){var Ce=v[ee];if(Ce&&!Ce.da&&Ce.capture==w){var fn=Ce.listener,Zi=Ce.ha||Ce.src;Ce.fa&&Au(f.i,Ce),K=!1!==fn.call(Zi,A)&&K}}return K&&!A.defaultPrevented}function Z$(f,v,w){if("function"==typeof f)w&&(f=m(f,w));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=m(f.handleEvent,f)}return 2147483647<Number(v)?-1:a.setTimeout(f,v||0)}function K$(f){f.g=Z$(()=>{f.g=null,f.i&&(f.i=!1,K$(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}T(Ei,ke),Ei.prototype[ct]=!0,Ei.prototype.removeEventListener=function(f,v,w,A){Ci(this,f,v,w,A)},Ei.prototype.N=function(){if(Ei.aa.N.call(this),this.i){var v,f=this.i;for(v in f.g){for(var w=f.g[v],A=0;A<w.length;A++)Ar(w[A]);delete f.g[v],f.h--}}this.F=null},Ei.prototype.K=function(f,v,w,A){return this.i.add(String(f),v,!1,w,A)},Ei.prototype.L=function(f,v,w,A){return this.i.add(String(f),v,!0,w,A)};class m_e extends ke{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:K$(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _m(f){ke.call(this),this.h=f,this.g={}}T(_m,ke);var Y$=[];function Q$(f){te(f.g,function(v,w){this.g.hasOwnProperty(w)&&Mu(v)},f),f.g={}}_m.prototype.N=function(){_m.aa.N.call(this),Q$(this)},_m.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vA=a.JSON.stringify,__e=a.JSON.parse,y_e=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function bA(){}function X$(){}bA.prototype.h=null;var ym={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wA(){ht.call(this,"d")}function TA(){ht.call(this,"c")}T(wA,ht),T(TA,ht);var mc={},e4=null;function Mb(){return e4=e4||new Ei}function t4(f){ht.call(this,mc.La,f)}function vm(f){const v=Mb();Oi(v,new t4(v))}function n4(f,v){ht.call(this,mc.STAT_EVENT,f),this.stat=v}function xr(f){const v=Mb();Oi(v,new n4(v,f))}function i4(f,v){ht.call(this,mc.Ma,f),this.size=v}function bm(f,v){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},v)}function wm(){this.g=!0}function rf(f,v,w,A){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+function T_e(f,v){if(!f.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w)for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var A=w[f];if(!(2>A.length)){var K=A[1];if(Array.isArray(K)&&!(1>K.length)){var ee=K[0];if("noop"!=ee&&"stop"!=ee&&"close"!=ee)for(var Ce=1;Ce<K.length;Ce++)K[Ce]=""}}}return vA(w)}catch{return v}}(f,w)+(A?" "+A:"")})}mc.La="serverreachability",T(t4,ht),mc.STAT_EVENT="statevent",T(n4,ht),mc.Ma="timingevent",T(i4,ht),wm.prototype.xa=function(){this.g=!1},wm.prototype.info=function(){};var CA,Rb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},r4={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nb(){}function Ru(f,v,w,A){this.j=f,this.i=v,this.l=w,this.R=A||1,this.U=new _m(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o4}function o4(){this.i=null,this.g="",this.h=!1}T(Nb,bA),Nb.prototype.g=function(){return new XMLHttpRequest},Nb.prototype.i=function(){return{}},CA=new Nb;var s4={},EA={};function DA(f,v,w){f.L=1,f.v=Fb(_a(v)),f.m=w,f.P=!0,a4(f,null)}function a4(f,v){f.F=Date.now(),Pb(f),f.A=_a(f.v);var w=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),w4(w.i,"t",A),f.C=0,w=f.j.J,f.h=new o4,f.g=B4(f.j,w?v:null,!f.m),0<f.O&&(f.M=new m_e(m(f.Y,f,f.g),f.O)),v=f.U,w=f.g,A=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Y$[0]=K.toString()),K=Y$);for(var ee=0;ee<K.length;ee++){var Ce=pc(w,K[ee],A||v.handleEvent,!1,v.h||v);if(!Ce)break;v.g[Ce.key]=Ce}v=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),vm(),function v_e(f,v,w,A,K,ee){f.info(function(){if(f.g)if(ee)for(var Ce="",fn=ee.split("&"),Zi=0;Zi<fn.length;Zi++){var Ut=fn[Zi].split("=");if(1<Ut.length){var dr=Ut[0];Ut=Ut[1];var hr=dr.split("_");Ce=2<=hr.length&&"type"==hr[1]?Ce+(dr+"=")+Ut+"&":Ce+(dr+"=redacted&")}}else Ce=null;else Ce=ee;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+v+"\n"+w+"\n"+Ce})}(f.i,f.u,f.A,f.l,f.R,f.m)}function u4(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function C_e(f,v){var w=f.C,A=v.indexOf("\n",w);return-1==A?EA:(w=Number(v.substring(w,A)),isNaN(w)?s4:(A+=1)+w>v.length?EA:(v=v.slice(A,A+w),f.C=A+w,v))}function Pb(f){f.S=Date.now()+f.I,l4(f,f.I)}function l4(f,v){if(null!=f.B)throw Error("WatchDog timer not null");f.B=bm(m(f.ba,f),v)}function IA(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function Tm(f){0==f.j.G||f.J||k4(f.j,f)}function _c(f){IA(f);var v=f.M;v&&"function"==typeof v.ma&&v.ma(),f.M=null,Q$(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function SA(f,v){try{var w=f.j;if(0!=w.G&&(w.g==f||AA(w.h,f)))if(!f.K&&AA(w.h,f)&&3==w.G){try{var A=w.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&3==A.length){var K=A;if(0==K[0]){e:if(!w.u){if(w.g){if(!(w.g.F+3e3<f.F))break e;jb(w),Bb(w)}NA(w),xr(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&0==w.v&&!w.C&&(w.C=bm(m(w.Za,w),6e3));if(1>=h4(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else vc(w,11)}else if((f.K||w.g==f)&&jb(w),!D(v))for(K=w.Da.g.parse(v),v=0;v<K.length;v++){let Ut=K[v];if(w.T=Ut[0],Ut=Ut[1],2==w.G)if("c"==Ut[0]){w.K=Ut[1],w.ia=Ut[2];const dr=Ut[3];null!=dr&&(w.la=dr,w.j.info("VER="+w.la));const hr=Ut[4];null!=hr&&(w.Aa=hr,w.j.info("SVER="+w.Aa));const uf=Ut[5];null!=uf&&"number"==typeof uf&&0<uf&&(w.L=A=1.5*uf,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Jo=f.g;if(Jo){const $b=Jo.g?Jo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($b){var ee=A.h;ee.g||-1==$b.indexOf("spdy")&&-1==$b.indexOf("quic")&&-1==$b.indexOf("h2")||(ee.j=ee.l,ee.g=new Set,ee.h&&(xA(ee,ee.h),ee.h=null))}if(A.D){const OA=Jo.g?Jo.g.getResponseHeader("X-HTTP-Session-Id"):null;OA&&(A.ya=OA,Sn(A.I,A.D,OA))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms"));var Ce=f;if((A=w).qa=V4(A,A.J?A.ia:null,A.W),Ce.K){f4(A.h,Ce);var fn=Ce,Zi=A.L;Zi&&(fn.I=Zi),fn.B&&(IA(fn),Pb(fn)),A.g=Ce}else P4(A);0<w.i.length&&Ub(w)}else"stop"!=Ut[0]&&"close"!=Ut[0]||vc(w,7);else 3==w.G&&("stop"==Ut[0]||"close"==Ut[0]?"stop"==Ut[0]?vc(w,7):RA(w):"noop"!=Ut[0]&&w.l&&w.l.ta(Ut),w.v=0)}vm()}catch{}}function c4(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function d4(f){return!!f.h||!!f.g&&f.g.size>=f.j}function h4(f){return f.h?1:f.g?f.g.size:0}function AA(f,v){return f.h?f.h==v:!!f.g&&f.g.has(v)}function xA(f,v){f.g?f.g.add(v):f.h=v}function f4(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}function p4(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let v=f.i;for(const w of f.g.values())v=v.concat(w.D);return v}return I(f.i)}function g4(f,v){if(f.forEach&&"function"==typeof f.forEach)f.forEach(v,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,v,void 0);else for(var w=function I_e(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var v=[];f=f.length;for(var w=0;w<f;w++)v.push(w);return v}v=[],w=0;for(const A in f)v[w++]=A;return v}}}(f),A=function D_e(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var v=[],w=f.length,A=0;A<w;A++)v.push(f[A]);return v}for(A in v=[],w=0,f)v[w++]=f[A];return v}(f),K=A.length,ee=0;ee<K;ee++)v.call(void 0,A[ee],w&&w[ee],f)}Ru.prototype.ca=function(f){f=f.target;const v=this.M;v&&3==ya(f)?v.j():this.Y(f)},Ru.prototype.Y=function(f){try{if(f==this.g)e:{const hr=ya(this.g);var v=this.g.Ba();if(this.g.Z(),!(3>hr)&&(3!=hr||this.g&&(this.h.h||this.g.oa()||A4(this.g)))){this.J||4!=hr||7==v||vm(),IA(this);var w=this.g.Z();this.X=w;t:if(u4(this)){var A=A4(this.g);f="";var K=A.length,ee=4==ya(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_c(this),Tm(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,f+=this.h.i.decode(A[v],{stream:!(ee&&v==K-1)});A.length=0,this.h.g+=f,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=200==w,function b_e(f,v,w,A,K,ee,Ce){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+v+"\n"+w+"\n"+ee+" "+Ce})}(this.i,this.u,this.A,this.l,this.R,hr,w),this.o){if(this.T&&!this.K){t:{if(this.g){var fn,Zi=this.g;if((fn=Zi.g?Zi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(fn)){var Ut=fn;break t}}Ut=null}if(!(w=Ut)){this.o=!1,this.s=3,xr(12),_c(this),Tm(this);break e}rf(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SA(this,w)}if(this.P){let Jo;for(w=!0;!this.J&&this.C<Ce.length;){if(Jo=C_e(this,Ce),Jo==EA){4==hr&&(this.s=4,xr(14),w=!1),rf(this.i,this.l,null,"[Incomplete Response]");break}if(Jo==s4){this.s=4,xr(15),rf(this.i,this.l,Ce,"[Invalid Chunk]"),w=!1;break}rf(this.i,this.l,Jo,null),SA(this,Jo)}if(u4(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=hr||0!=Ce.length||this.h.h||(this.s=1,xr(16),w=!1),this.o=this.o&&w,w){if(0<Ce.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),PA(dr),dr.M=!0,xr(11))}}else rf(this.i,this.l,Ce,"[Invalid Chunked Response]"),_c(this),Tm(this)}else rf(this.i,this.l,Ce,null),SA(this,Ce);4==hr&&_c(this),this.o&&!this.J&&(4==hr?k4(this.j,this):(this.o=!1,Pb(this)))}else(function U_e(f){const v={};f=(f.g&&2<=ya(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let A=0;A<f.length;A++){if(D(f[A]))continue;var w=N(f[A]);const K=w[0];if("string"!=typeof(w=w[1]))continue;w=w.trim();const ee=v[K]||[];v[K]=ee,ee.push(w)}!function O(f,v){for(const w in f)v.call(void 0,f[w],w,f)}(v,function(A){return A.join(", ")})})(this.g),400==w&&0<Ce.indexOf("Unknown SID")?(this.s=3,xr(12)):(this.s=0,xr(13)),_c(this),Tm(this)}}}catch{}},Ru.prototype.cancel=function(){this.J=!0,_c(this)},Ru.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function w_e(f,v){f.info(function(){return"TIMEOUT: "+v})}(this.i,this.A),2!=this.L&&(vm(),xr(17)),_c(this),this.s=2,Tm(this)):l4(this,this.S-f)},c4.prototype.cancel=function(){if(this.i=p4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var m4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof yc){this.h=f.h,Ob(this,f.j),this.o=f.o,this.g=f.g,kb(this,f.s),this.l=f.l;var v=f.i,w=new Dm;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),_4(this,w),this.m=f.m}else f&&(v=String(f).match(m4))?(this.h=!1,Ob(this,v[1]||"",!0),this.o=Cm(v[2]||""),this.g=Cm(v[3]||"",!0),kb(this,v[4]),this.l=Cm(v[5]||"",!0),_4(this,v[6]||"",!0),this.m=Cm(v[7]||"")):(this.h=!1,this.i=new Dm(null,this.h))}function _a(f){return new yc(f)}function Ob(f,v,w){f.j=w?Cm(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function kb(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function _4(f,v,w){v instanceof Dm?(f.i=v,function P_e(f,v){v&&!f.j&&(Nu(f),f.i=null,f.g.forEach(function(w,A){var K=A.toLowerCase();A!=K&&(v4(this,A),w4(this,K,w))},f)),f.j=v}(f.i,f.h)):(w||(v=Em(v,R_e)),f.i=new Dm(v,f.h))}function Sn(f,v,w){f.i.set(v,w)}function Fb(f){return Sn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Cm(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Em(f,v,w){return"string"==typeof f?(f=encodeURI(f).replace(v,A_e),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function A_e(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}yc.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Em(v,y4,!0),":");var w=this.g;return(w||"file"==v)&&(f.push("//"),(v=this.o)&&f.push(Em(v,y4,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.s)&&f.push(":",String(w))),(w=this.l)&&(this.g&&"/"!=w.charAt(0)&&f.push("/"),f.push(Em(w,"/"==w.charAt(0)?M_e:x_e,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Em(w,N_e)),f.join("")};var f,y4=/[#\/\?@]/g,x_e=/[#\?:]/g,M_e=/[#\?]/g,R_e=/[#\?@]/g,N_e=/#/g;function Dm(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Nu(f){f.g||(f.g=new Map,f.h=0,f.i&&function S_e(f,v){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var A=f[w].indexOf("="),K=null;if(0<=A){var ee=f[w].substring(0,A);K=f[w].substring(A+1)}else ee=f[w];v(ee,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}function v4(f,v){Nu(f),v=sf(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function b4(f,v){return Nu(f),v=sf(f,v),f.g.has(v)}function w4(f,v,w){v4(f,v),0<w.length&&(f.i=null,f.g.set(sf(f,v),I(w)),f.h+=w.length)}function sf(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Pu(f,v,w,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(w)}catch{}}function F_e(){this.g=new y_e}function L_e(f,v,w){const A=w||"";try{g4(f,function(K,ee){let Ce=K;c(K)&&(Ce=vA(K)),v.push(A+ee+"="+encodeURIComponent(Ce))})}catch(K){throw v.push(A+"type="+encodeURIComponent("_badmap")),K}}function Im(f){this.l=f.Ub||null,this.j=f.eb||!1}function Lb(f,v){Ei.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function T4(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Sm(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Am(f)}function Am(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function C4(f){let v="";return te(f,function(w,A){v+=A,v+=":",v+=w,v+="\r\n"}),v}function MA(f,v,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=C4(w),"string"==typeof f?null!=w&&encodeURIComponent(String(w)):Sn(f,v,w))}function ii(f){Ei.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Dm.prototype).add=function(f,v){Nu(this),this.i=null,f=sf(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this},e.forEach=function(f,v){Nu(this),this.g.forEach(function(w,A){w.forEach(function(K){f.call(v,K,A,this)},this)},this)},e.na=function(){Nu(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let A=0;A<v.length;A++){const K=f[A];for(let ee=0;ee<K.length;ee++)w.push(v[A])}return w},e.V=function(f){Nu(this);let v=[];if("string"==typeof f)b4(this,f)&&(v=v.concat(this.g.get(sf(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)v=v.concat(f[w])}return v},e.set=function(f,v){return Nu(this),this.i=null,b4(this,f=sf(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f&&0<(f=this.V(f)).length?String(f[0]):v},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var A=v[w];const ee=encodeURIComponent(String(A)),Ce=this.V(A);for(A=0;A<Ce.length;A++){var K=ee;""!==Ce[A]&&(K+="="+encodeURIComponent(String(Ce[A]))),f.push(K)}}return this.i=f.join("&")},T(Im,bA),Im.prototype.g=function(){return new Lb(this.l,this.j)},Im.prototype.i=(f={},function(){return f}),T(Lb,Ei),(e=Lb.prototype).open=function(f,v){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Am(this)},e.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sm(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Am(this)),this.g&&(this.readyState=3,Am(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T4(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Sm(this):Am(this),3==this.readyState&&T4(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Sm(this))},e.Qa=function(f){this.g&&(this.response=f,Sm(this))},e.ga=function(){this.g&&Sm(this)},e.setRequestHeader=function(f,v){this.u.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)f.push((w=w.value)[0]+": "+w[1]),w=v.next();return f.join("\r\n")},Object.defineProperty(Lb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),T(ii,Ei);var V_e=/^https?$/i,B_e=["POST","PUT"];function E4(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,D4(f),Vb(f)}function D4(f){f.A||(f.A=!0,Oi(f,"complete"),Oi(f,"error"))}function I4(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=ya(f)||2!=f.Z()))if(f.u&&4==ya(f))Z$(f.Ea,0,f);else if(Oi(f,"readystatechange"),4==ya(f)){f.h=!1;try{const Ce=f.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var A;if(A=0===Ce){var K=String(f.D).match(m4)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),A=!V_e.test(K?K.toLowerCase():"")}w=A}if(w)Oi(f,"complete"),Oi(f,"success");else{f.m=6;try{var ee=2<ya(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",D4(f)}}finally{Vb(f)}}}function Vb(f,v){if(f.g){S4(f);const w=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Oi(f,"ready");try{w.onreadystatechange=A}catch{}}}function S4(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function ya(f){return f.g?f.g.readyState:0}function A4(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xm(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function x4(f){this.Aa=0,this.i=[],this.j=new wm,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xm("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xm("baseRetryDelayMs",5e3,f),this.cb=xm("retryDelaySeedMs",1e4,f),this.Wa=xm("forwardChannelMaxRetries",2,f),this.wa=xm("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new c4(f&&f.concurrentRequestLimit),this.Da=new F_e,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function RA(f){if(M4(f),3==f.G){var v=f.U++,w=_a(f.I);if(Sn(w,"SID",f.K),Sn(w,"RID",v),Sn(w,"TYPE","terminate"),Mm(f,w),(v=new Ru(f,f.j,v)).L=2,v.v=Fb(_a(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&a.Image&&((new Image).src=v.v,w=!0),w||(v.g=B4(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Pb(v)}L4(f)}function Bb(f){f.g&&(PA(f),f.g.cancel(),f.g=null)}function M4(f){Bb(f),f.u&&(a.clearTimeout(f.u),f.u=null),jb(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function Ub(f){if(!d4(f.h)&&!f.s){f.s=!0;var v=f.Ga;pe||Pe(),Me||(pe(),Me=!0),Te.add(v,f),f.B=0}}function R4(f,v){var w;w=v?v.l:f.U++;const A=_a(f.I);Sn(A,"SID",f.K),Sn(A,"RID",w),Sn(A,"AID",f.T),Mm(f,A),f.m&&f.o&&MA(A,f.m,f.o),w=new Ru(f,f.j,w,f.B+1),null===f.m&&(w.H=f.o),v&&(f.i=v.D.concat(f.i)),v=N4(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xA(f.h,w),DA(w,A,v)}function Mm(f,v){f.H&&te(f.H,function(w,A){Sn(v,A,w)}),f.l&&g4({},function(w,A){Sn(v,A,w)})}function N4(f,v,w){w=Math.min(f.i.length,w);var A=f.l?m(f.l.Na,f.l,f):null;e:{var K=f.i;let ee=-1;for(;;){const Ce=["count="+w];-1==ee?0<w?(ee=K[0].g,Ce.push("ofs="+ee)):ee=0:Ce.push("ofs="+ee);let fn=!0;for(let Zi=0;Zi<w;Zi++){let Ut=K[Zi].g;const dr=K[Zi].map;if(Ut-=ee,0>Ut)ee=Math.max(0,K[Zi].g-100),fn=!1;else try{L_e(dr,Ce,"req"+Ut+"_")}catch{A&&A(dr)}}if(fn){A=Ce.join("&");break e}}}return f=f.i.splice(0,w),v.D=f,A}function P4(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;pe||Pe(),Me||(pe(),Me=!0),Te.add(v,f),f.v=0}}function NA(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=bm(m(f.Fa,f),F4(f,f.v)),f.v++,0))}function PA(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function O4(f){f.g=new Ru(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var v=_a(f.qa);Sn(v,"RID","rpc"),Sn(v,"SID",f.K),Sn(v,"AID",f.T),Sn(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Sn(v,"TO",f.ja),Sn(v,"TYPE","xmlhttp"),Mm(f,v),f.m&&f.o&&MA(v,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Fb(_a(v)),w.m=null,w.P=!0,a4(w,f)}function jb(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function k4(f,v){var w=null;if(f.g==v){jb(f),PA(f),f.g=null;var A=2}else{if(!AA(f.h,v))return;w=v.D,f4(f.h,v),A=1}if(0!=f.G)if(v.o)if(1==A){w=v.m?v.m.length:0,v=Date.now()-v.F;var K=f.B;Oi(A=Mb(),new i4(A,w)),Ub(f)}else P4(f);else if(3==(K=v.s)||0==K&&0<v.X||!(1==A&&function j_e(f,v){return!(h4(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=v.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=bm(m(f.Ga,f,v),F4(f,f.B)),f.B++,0)))}(f,v)||2==A&&NA(f)))switch(w&&0<w.length&&(v=f.h,v.i=v.i.concat(w)),K){case 1:vc(f,5);break;case 4:vc(f,10);break;case 3:vc(f,6);break;default:vc(f,2)}}function F4(f,v){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*v}function vc(f,v){if(f.j.info("Error code "+v),2==v){var w=m(f.fb,f),A=f.Xa;const K=!A;A=new yc(A||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ob(A,"https"),Fb(A),K?function O_e(f,v){const w=new wm;if(a.Image){const A=new Image;A.onload=y(Pu,w,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Pu,w,"TestLoadImage: error",!1,v,A),A.onabort=y(Pu,w,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Pu,w,"TestLoadImage: timeout",!1,v,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else v(!1)}(A.toString(),w):function k_e(f,v){new wm;const A=new AbortController,K=setTimeout(()=>{A.abort(),Pu(0,0,!1,v)},1e4);fetch(f,{signal:A.signal}).then(ee=>{clearTimeout(K),Pu(0,0,!!ee.ok,v)}).catch(()=>{clearTimeout(K),Pu(0,0,!1,v)})}(A.toString(),w)}else xr(2);f.G=0,f.l&&f.l.sa(v),L4(f),M4(f)}function L4(f){if(f.G=0,f.ka=[],f.l){const v=p4(f.h);(0!=v.length||0!=f.i.length)&&(C(f.ka,v),C(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function V4(f,v,w){var A=w instanceof yc?_a(w):new yc(w);if(""!=A.g)v&&(A.g=v+"."+A.g),kb(A,A.s);else{var K=a.location;A=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ee=new yc(null);A&&Ob(ee,A),v&&(ee.g=v),K&&kb(ee,K),w&&(ee.l=w),A=ee}return v=f.ya,(w=f.D)&&v&&Sn(A,w,v),Sn(A,"VER",f.la),Mm(f,A),A}function B4(f,v,w){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(v=new ii(f.Ca&&!f.pa?new Im({eb:w}):f.pa)).Ha(f.J),v}function U4(){}function Hb(){}function go(f,v){Ei.call(this),this.g=new x4(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!D(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.D=v,null!==(f=this.h)&&v in f&&v in(f=this.h)&&delete f[v]),this.j=new af(this)}function j4(f){wA.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const w in v){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,v=null!==v&&f in v?v[f]:void 0),this.data=v}else this.data=f}function H4(){TA.call(this),this.status=1}function af(f){this.g=f}(e=ii.prototype).Ha=function(f){this.J=f},e.ea=function(f,v,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():CA.g(),this.v=function J$(f){return f.h||(f.h=f.i())}(this.o?this.o:CA),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ee){return void E4(this,ee)}if(f=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)w.set(K,A[K]);else{if("function"!=typeof A.keys||"function"!=typeof A.get)throw Error("Unknown input type for opt_headers: "+String(A));for(const ee of A.keys())w.set(ee,A.get(ee))}A=Array.from(w.keys()).find(ee=>"content-type"==ee.toLowerCase()),K=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(B_e,v,void 0))||A||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ce]of w)this.g.setRequestHeader(ee,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S4(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){E4(this,ee)}},e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Oi(this,"complete"),Oi(this,"abort"),Vb(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vb(this,!0)),ii.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?I4(this):this.bb())},e.bb=function(){I4(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<ya(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&0==v.indexOf(f)&&(v=v.substring(f.length)),__e(v)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=x4.prototype).la=8,e.G=1,e.connect=function(f,v,w,A){xr(0),this.W=f,this.H=v||{},w&&void 0!==A&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=V4(this,null,this.W),Ub(this)},e.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Ru(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=x(ee),k(ee,this.S)):ee=this.S),null!==this.m||this.O||(K.H=ee,ee=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){var A=this.i[w];if(void 0===(A="__data__"in A.map&&"string"==typeof(A=A.map.__data__)?A.length:void 0))break;if(4096<(v+=A)){v=w;break e}if(4096===v||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=N4(this,K,v),Sn(w=_a(this.I),"RID",f),Sn(w,"CVER",22),this.D&&Sn(w,"X-HTTP-Session-Id",this.D),Mm(this,w),ee&&(this.O?v="headers="+encodeURIComponent(String(C4(ee)))+"&"+v:this.m&&MA(w,this.m,ee)),xA(this.h,K),this.Ua&&Sn(w,"TYPE","init"),this.P?(Sn(w,"$req",v),Sn(w,"SID","null"),K.T=!0,DA(K,w,null)):DA(K,w,v),this.G=2}}else 3==this.G&&(f?R4(this,f):0==this.i.length||d4(this.h)||R4(this))},e.Fa=function(){if(this.u=null,O4(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=bm(m(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xr(10),Bb(this),O4(this))},e.Za=function(){null!=this.C&&(this.C=null,Bb(this),NA(this),xr(19))},e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),xr(2)):(this.j.info("Failed to ping google.com"),xr(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=U4.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Hb.prototype.g=function(f,v){return new go(f,v)},T(go,Ei),go.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},go.prototype.close=function(){RA(this.g)},go.prototype.o=function(f){var v=this.g;if("string"==typeof f){var w={};w.__data__=f,f=w}else this.u&&((w={}).__data__=vA(f),f=w);v.i.push(new class{constructor(f,v){this.g=f,this.map=v}}(v.Ya++,f)),3==v.G&&Ub(v)},go.prototype.N=function(){this.g.l=null,delete this.j,RA(this.g),delete this.g,go.aa.N.call(this)},T(j4,wA),T(H4,TA),T(af,U4),af.prototype.ua=function(){Oi(this.g,"a")},af.prototype.ta=function(f){Oi(this.g,new j4(f))},af.prototype.sa=function(f){Oi(this.g,new H4)},af.prototype.ra=function(){Oi(this.g,"b")},Hb.prototype.createWebChannel=Hb.prototype.g,go.prototype.send=go.prototype.o,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,b3=la.createWebChannelTransport=function(){return new Hb},v3=la.getStatEventTarget=function(){return Mb()},y3=la.Event=mc,nI=la.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rb.NO_ERROR=0,Rb.TIMEOUT=8,Rb.HTTP_ERROR=6,R0=la.ErrorCode=Rb,r4.COMPLETE="complete",_3=la.EventType=r4,X$.EventType=ym,ym.OPEN="a",ym.CLOSE="b",ym.ERROR="c",ym.MESSAGE="d",Ei.prototype.listen=Ei.prototype.K,Pg=la.WebChannel=X$,m3=la.FetchXmlHttpFactory=Im,ii.prototype.listenOnce=ii.prototype.L,ii.prototype.getLastError=ii.prototype.Ka,ii.prototype.getLastErrorCode=ii.prototype.Ba,ii.prototype.getStatus=ii.prototype.Z,ii.prototype.getResponseJson=ii.prototype.Oa,ii.prototype.getResponseText=ii.prototype.oa,ii.prototype.send=ii.prototype.ea,ii.prototype.setWithCredentials=ii.prototype.Ha,g3=la.XhrIo=ii}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});const w3="@firebase/firestore";class Ni{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let mh="10.12.5";const fu=new JU("@firebase/firestore");function _h(){return fu.logLevel}function de(e,...t){if(fu.logLevel<=Lt.DEBUG){const n=t.map(iI);fu.debug(`Firestore (${mh}): ${e}`,...n)}}function ai(e,...t){if(fu.logLevel<=Lt.ERROR){const n=t.map(iI);fu.error(`Firestore (${mh}): ${e}`,...n)}}function ho(e,...t){if(fu.logLevel<=Lt.WARN){const n=t.map(iI);fu.warn(`Firestore (${mh}): ${e}`,...n)}}function iI(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function Ne(e="Unexpected state"){const t=`FIRESTORE (${mh}) INTERNAL ASSERTION FAILED: `+e;throw ai(t),new Error(t)}function Oe(e,t){e||Ne()}function we(e,t){return e}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends gh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}class T3{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ni.UNAUTHENTICATED))}shutdown(){}}class wfe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tfe{constructor(t){this.t=t,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable(Se(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe("string"==typeof i.accessToken),new T3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Oe(null===t||"string"==typeof t),new Ni(t)}}class Cfe{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Efe{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new Cfe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dfe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=o=>{null!=o.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Oe("string"==typeof n.token),this.R=n.token,new C3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ife(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class E3{static newId(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Ife(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Xe(e,t){return e<t?-1:e>t?1:0}function yh(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}class jn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return jn.fromMillis(Date.now())}static fromDate(t){return jn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new jn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xe(this.nanoseconds,t.nanoseconds):Xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ve(t)}static min(){return new Ve(new jn(0,0))}static max(){return new Ve(new jn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Og{constructor(t,n,i){void 0===n?n=0:n>t.length&&Ne(),void 0===i?i=t.length-n:i>t.length-n&&Ne(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return 0===Og.comparator(this,t)}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Og?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const o=t.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ct extends Og{construct(t,n,i){return new Ct(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const Sfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Og{construct(t,n,i){return new Pn(t,n,i)}static isValidIdentifier(t){return Sfe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pn(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const o=()=>{if(0===i.length)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pn(n)}static emptyPath(){return new Pn([])}}class De{constructor(t){this.path=t}static fromPath(t){return new De(Ct.fromString(t))}static fromName(t){return new De(Ct.fromString(t).popFirst(5))}static empty(){return new De(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ct.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,n){return Ct.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new De(new Ct(t.slice()))}}class fo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new fo(Ve.min(),De.empty(),-1)}static max(){return new fo(Ve.max(),De.empty(),-1)}}function oI(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=De.comparator(e.documentKey,t.documentKey),0!==n?n:Xe(e.largestBatchId,t.largestBatchId))}const A3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function pu(e){return sI.apply(this,arguments)}function sI(){return(sI=Se(function*(e){if(e.code!==X.FAILED_PRECONDITION||e.message!==A3)throw e;de("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,i)=>{n(t)})}static reject(t){return new Y((n,i)=>{i(t)})}static waitFor(t){return new Y((n,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},l=>i(l))}),s=!0,o===r&&n()})}static or(t){let n=Y.resolve(!1);for(const i of t)n=n.next(r=>r?Y.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(t,n){return new Y((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(t[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(t,n){return new Y((i,r)=>{const o=()=>{!0===t()?n().next(()=>{o()},r):i()};o()})}}function gu(e){return"IndexedDbTransactionError"===e.name}let po=(()=>{class e{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return e.oe=-1,e})();function Fg(e){return null==e}function Lg(e){return 0===e&&1/e==-1/0}function B3(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function j3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bn{constructor(t,n){this.comparator=t,this.root=n||Gi.EMPTY}insert(t,n){return new bn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(t){return new bn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new O0(this.root,t,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new O0(this.root,t,this.comparator,!0)}}class O0{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gi{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=i??Gi.RED,this.left=r??Gi.EMPTY,this.right=o??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,o){return new Gi(t??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,n,i),null):0===o?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(t,r.key)){if(r.right.isEmpty())return Gi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const t=this.left.check();if(t!==this.right.check())throw Ne();return t+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1,Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(t,n,i,r,o){return this}insert(t,n,i){return new Gi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(t){this.comparator=t,this.data=new bn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H3(this.data.getIterator())}getIteratorFrom(t){return new H3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof an)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new an(this.comparator);return n.data=t,n}}class H3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gr{constructor(t){this.fields=t,t.sort(Pn.comparator)}static empty(){return new Gr([])}unionWith(t){let n=new an(Pn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Gr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return yh(this.fields,t.fields,(n,i)=>n.isEqual(i))}}class $3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $3("Invalid base64 string: "+o):o}}(t);return new ti(n)}static fromUint8Array(t){const n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new ti(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const epe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(e){if(Oe(!!e),"string"==typeof e){let t=0;const n=epe.exec(e);if(Oe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ni(e.seconds),nanos:ni(e.nanos)}}function ni(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function da(e){return"string"==typeof e?ti.fromBase64String(e):ti.fromUint8Array(e)}function k0(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=e?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function F0(e){const t=e.mapValue.fields.__previous_value__;return k0(t)?F0(t):t}function Vg(e){const t=ca(e.mapValue.fields.__local_write_time__.timestampValue);return new jn(t.seconds,t.nanos)}class tpe{constructor(t,n,i,r,o,s,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Jl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Jl&&t.projectId===this.projectId&&t.database===this.database}}const _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?k0(e)?4:W3(e)?9007199254740991:10:Ne()}function Cs(e,t){if(e===t)return!0;const n=yu(e);if(n!==yu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vg(e).isEqual(Vg(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=ca(r.timestampValue),a=ca(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return o=t,da(e.bytesValue).isEqual(da(o.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return ni(r.geoPointValue.latitude)===ni(o.geoPointValue.latitude)&&ni(r.geoPointValue.longitude)===ni(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ni(r.integerValue)===ni(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=ni(r.doubleValue),a=ni(o.doubleValue);return s===a?Lg(s)===Lg(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return yh(e.arrayValue.values||[],t.arrayValue.values||[],Cs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(B3(s)!==B3(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Cs(s[l],a[l])))return!1;return!0}(e,t);default:return Ne()}var o}function Bg(e,t){return void 0!==(e.values||[]).find(n=>Cs(n,t))}function vu(e,t){if(e===t)return 0;const n=yu(e),i=yu(t);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=ni(o.integerValue||o.doubleValue),l=ni(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return z3(e.timestampValue,t.timestampValue);case 4:return z3(Vg(e),Vg(t));case 5:return Xe(e.stringValue,t.stringValue);case 6:return function(o,s){const a=da(o),l=da(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Xe(a[c],l[c]);if(0!==h)return h}return Xe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Xe(ni(o.latitude),ni(s.latitude));return 0!==a?a:Xe(ni(o.longitude),ni(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=vu(a[c],l[c]);if(h)return h}return Xe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===_u.mapValue&&s===_u.mapValue)return 0;if(o===_u.mapValue)return 1;if(s===_u.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const m=Xe(l[g],h[g]);if(0!==m)return m;const y=vu(a[l[g]],c[h[g]]);if(0!==y)return y}return Xe(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Ne()}}function z3(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xe(e,t);const n=ca(e),i=ca(t),r=Xe(n.seconds,i.seconds);return 0!==r?r:Xe(n.nanos,i.nanos)}function Th(e){return lI(e)}function lI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ca(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?da(e.bytesValue).toBase64():"referenceValue"in e?De.fromName(e.referenceValue).toString():"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=lI(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${lI(n.fields[s])}`;return r+"}"}(e.mapValue):Ne()}function cI(e){return!!e&&"integerValue"in e}function Ug(e){return!!e&&"arrayValue"in e}function G3(e){return!!e&&"nullValue"in e}function q3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function B0(e){return!!e&&"mapValue"in e}function jg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mu(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=jg(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function W3(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class qi{constructor(t){this.value=t}static empty(){return new qi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!B0(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jg(n)}setAll(t){let n=Pn.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=jg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(t){const n=this.field(t.popLast());B0(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Cs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];B0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){mu(n,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new qi(jg(this.value))}}function Y3(e){const t=[];return mu(e.fields,(n,i)=>{const r=new Pn([n]);if(B0(i)){const o=Y3(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Gr(t)}class In{constructor(t,n,i,r,o,s,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new In(t,0,Ve.min(),Ve.min(),Ve.min(),qi.empty(),0)}static newFoundDocument(t,n,i,r){return new In(t,1,n,Ve.min(),i,r,0)}static newNoDocument(t,n){return new In(t,2,n,Ve.min(),Ve.min(),qi.empty(),0)}static newUnknownDocument(t,n){return new In(t,3,n,Ve.min(),Ve.min(),qi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof In&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bu{constructor(t,n){this.position=t,this.inclusive=n}}function Q3(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],s=e.position[r];if(i=o.field.isKeyField()?De.comparator(De.fromName(s.referenceValue),n.key):vu(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function J3(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cs(e.position[n],t.position[n]))return!1;return!0}class Hg{constructor(t,n="asc"){this.field=t,this.dir=n}}function rpe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class X3{}class Et extends X3{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(t,n,i):new ope(t,n,i):"array-contains"===n?new upe(t,i):"in"===n?new oj(t,i):"not-in"===n?new lpe(t,i):"array-contains-any"===n?new cpe(t,i):new Et(t,n,i)}static createKeyFieldInFilter(t,n,i){return"in"===n?new spe(t,i):new ape(t,i)}matches(t){const n=t.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(vu(n,this.value)):null!==n&&yu(this.value)===yu(n)&&this.matchesComparison(vu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends X3{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new tn(t,n)}matches(t){return Ch(this)?void 0===this.filters.find(n=>!n.matches(t)):void 0!==this.filters.find(n=>n.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ch(e){return"and"===e.op}function hI(e){return function ej(e){for(const t of e.filters)if(t instanceof tn)return!1;return!0}(e)&&Ch(e)}function fI(e){if(e instanceof Et)return e.field.canonicalString()+e.op.toString()+Th(e.value);if(hI(e))return e.filters.map(t=>fI(t)).join(",");{const t=e.filters.map(n=>fI(n)).join(",");return`${e.op}(${t})`}}function tj(e,t){return e instanceof Et?(i=e,(r=t)instanceof Et&&i.op===r.op&&i.field.isEqual(r.field)&&Cs(i.value,r.value)):e instanceof tn?function(i,r){return r instanceof tn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&tj(s,r.filters[a]),!0)}(e,t):void Ne();var i,r}function ij(e){return e instanceof Et?`${(n=e).field.canonicalString()} ${n.op} ${Th(n.value)}`:e instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(ij).join(" ,")+"}"}(e):"Filter";var n}class ope extends Et{constructor(t,n,i){super(t,n,i),this.key=De.fromName(i.referenceValue)}matches(t){const n=De.comparator(t.key,this.key);return this.matchesComparison(n)}}class spe extends Et{constructor(t,n){super(t,"in",n),this.keys=rj(0,n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ape extends Et{constructor(t,n){super(t,"not-in",n),this.keys=rj(0,n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function rj(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>De.fromName(i.referenceValue))}class upe extends Et{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ug(n)&&Bg(n.arrayValue,this.value)}}class oj extends Et{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return null!==n&&Bg(this.value.arrayValue,n)}}class lpe extends Et{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return null!==n&&!Bg(this.value.arrayValue,n)}}class cpe extends Et{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Bg(this.value.arrayValue,i))}}class dpe{constructor(t,n=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function pI(e,t=null,n=[],i=[],r=null,o=null,s=null){return new dpe(e,t,n,i,r,o,s)}function ec(e){const t=we(e);if(null===t.ue){let n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>fI(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Fg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Th(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Th(i)).join(",")),t.ue=n}return t.ue}function $g(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rpe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!J3(e.startAt,t.startAt)&&J3(e.endAt,t.endAt)}function U0(e){return De.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ha{constructor(t,n=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function Eh(e){return new ha(e)}function lj(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dh(e){const t=we(e);if(null===t.ce){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new an(Pn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Hg(o,i))}),n.has(Pn.keyField().canonicalString())||t.ce.push(new Hg(Pn.keyField(),i))}return t.ce}function ar(e){const t=we(e);return t.le||(t.le=function dj(e,t){if("F"===e.limitType)return pI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>new Hg(r.field,"desc"===r.dir?"asc":"desc"));const n=e.endAt?new bu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bu(e.startAt.position,e.startAt.inclusive):null;return pI(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}(t,Dh(e))),t.le}function H0(e,t,n){return new ha(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zg(e,t){return $g(ar(e),ar(t))&&e.limitType===t.limitType}function hj(e){return`${ec(ar(e))}|lt:${e.limitType}`}function Ih(e){return`Query(target=${function(n){let i=n.path.canonicalString();return null!==n.collectionGroup&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>ij(r)).join(", ")}]`),Fg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Th(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Th(r)).join(",")),`Target(${i})`}(ar(e))}; limitType=${e.limitType})`}function Gg(e,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):De.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,r){for(const o of Dh(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(e,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(e,t)&&(r=t,!((i=e).startAt&&!function(s,a,l){const c=Q3(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Dh(i),r)||i.endAt&&!function(s,a,l){const c=Q3(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Dh(i),r)));var i,r}function pj(e){return(t,n)=>{let i=!1;for(const r of Dh(e)){const o=hpe(r,t,n);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function hpe(e,t,n){const i=e.field.isKeyField()?De.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?vu(l,c):Ne()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}class fa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){mu(this.inner,(n,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return j3(this.inner)}size(){return this.innerSize}}const fpe=new bn(De.comparator);function qr(){return fpe}const gj=new bn(De.comparator);function qg(...e){let t=gj;for(const n of e)t=t.insert(n.key,n);return t}function mj(e){let t=gj;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Es(){return Wg()}function _j(){return Wg()}function Wg(){return new fa(e=>e.toString(),(e,t)=>e.isEqual(t))}const ppe=new bn(De.comparator),gpe=new an(De.comparator);function st(...e){let t=gpe;for(const n of e)t=t.add(n);return t}const mpe=new an(Xe);function yj(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(t)?"-0":t}}function vj(e){return{integerValue:""+e}}function bj(e,t){return function R3(e){return"number"==typeof e&&Number.isInteger(e)&&!Lg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?vj(t):yj(e,t)}class $0{constructor(){this._=void 0}}function _pe(e,t,n){return e instanceof Sh?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&k0(o)&&(o=F0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof tc?Tj(e,t):e instanceof nc?Cj(e,t):function(r,o){const s=wj(r,o),a=Ej(s)+Ej(r.Pe);return cI(s)&&cI(r.Pe)?vj(a):yj(r.serializer,a)}(e,t)}function ype(e,t,n){return e instanceof tc?Tj(e,t):e instanceof nc?Cj(e,t):n}function wj(e,t){return e instanceof Ah?cI(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class Sh extends $0{}class tc extends $0{constructor(t){super(),this.elements=t}}function Tj(e,t){const n=Dj(t);for(const i of e.elements)n.some(r=>Cs(r,i))||n.push(i);return{arrayValue:{values:n}}}class nc extends $0{constructor(t){super(),this.elements=t}}function Cj(e,t){let n=Dj(t);for(const i of e.elements)n=n.filter(r=>!Cs(r,i));return{arrayValue:{values:n}}}class Ah extends $0{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Ej(e){return ni(e.integerValue||e.doubleValue)}function Dj(e){return Ug(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bpe{constructor(t,n){this.version=t,this.transformResults=n}}class On{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function z0(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class G0{}function Ij(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mh(e.key,On.none()):new xh(e.key,e.data,On.none());{const n=e.data,i=qi.empty();let r=new an(Pn.comparator);for(let o of t.fields)if(!r.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new pa(e.key,i,new Gr(r.toArray()),On.none())}}function wpe(e,t,n){e instanceof xh?function(r,o,s){const a=r.value.clone(),l=xj(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof pa?function(r,o,s){if(!z0(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=xj(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Aj(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function Kg(e,t,n,i){return e instanceof xh?function(o,s,a,l){if(!z0(o.precondition,s))return a;const c=o.value.clone(),h=Mj(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof pa?function(o,s,a,l){if(!z0(o.precondition,s))return a;const c=Mj(o.fieldTransforms,l,s),h=s.data;return h.setAll(Aj(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(e,t,n,i):(a=n,z0(e.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Tpe(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),o=wj(i.transform,r||null);null!=o&&(null===n&&(n=qi.empty()),n.set(i.field,o))}return n||null}function Sj(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=e.fieldTransforms)&&void 0===r||i&&r&&yh(i,r,(o,s)=>function vpe(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(i=e.transform)instanceof tc&&r instanceof tc||i instanceof nc&&r instanceof nc?yh(i.elements,r.elements,Cs):i instanceof Ah&&r instanceof Ah?Cs(i.Pe,r.Pe):i instanceof Sh&&r instanceof Sh);var i,r}(o,s))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var i,r}class xh extends G0{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pa extends G0{constructor(t,n,i,r,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Aj(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function xj(e,t,n){const i=new Map;Oe(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,ype(s,a,n[r]))}return i}function Mj(e,t,n){const i=new Map;for(const r of e){const o=r.transform,s=n.data.field(r.field);i.set(r.field,_pe(o,s,t))}return i}class Mh extends G0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends G0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&wpe(o,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Kg(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Kg(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=_j();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;const l=Ij(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&yh(this.mutations,t.mutations,(n,i)=>Sj(n,i))&&yh(this.baseMutations,t.baseMutations,(n,i)=>Sj(n,i))}}class bI{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Oe(t.mutations.length===i.length);let r=ppe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new bI(t,n,i,r)}}class wI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cpe{constructor(t,n){this.count=t,this.unchangedNames=n}}var pi,Pt;function Pj(e){if(void 0===e)return ai("GRPC error has no .code"),X.UNKNOWN;switch(e){case pi.OK:return X.OK;case pi.CANCELLED:return X.CANCELLED;case pi.UNKNOWN:return X.UNKNOWN;case pi.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pi.INTERNAL:return X.INTERNAL;case pi.UNAVAILABLE:return X.UNAVAILABLE;case pi.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pi.NOT_FOUND:return X.NOT_FOUND;case pi.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pi.ABORTED:return X.ABORTED;case pi.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pi.DATA_LOSS:return X.DATA_LOSS;default:return Ne()}}(Pt=pi||(pi={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";const Epe=new Zl([4294967295,4294967295],0);function kj(e){const t=function Oj(){return new TextEncoder}().encode(e),n=new p3;return n.update(t),new Uint8Array(n.digest())}function Fj(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Zl([n,i],0),new Zl([r,o],0)]}class TI{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yg(`Invalid padding: ${n}`);if(i<0)throw new Yg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Yg(`Invalid hash count: ${i}`);if(0===t.length&&0!==n)throw new Yg(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Zl.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(Zl.fromNumber(i)));return 1===r.compare(Epe)&&(r=new Zl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const n=kj(t),[i,r]=Fj(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new TI(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const n=kj(t),[i,r]=Fj(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8);this.bitmap[n]|=1<<t%8}}class Yg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qg{constructor(t,n,i,r,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Jg.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Qg(Ve.min(),r,new bn(Xe),qr(),st())}}class Jg{constructor(t,n,i,r,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Jg(i,n,st(),st(),st())}}class W0{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class Lj{constructor(t,n){this.targetId=t,this.me=n}}class Vj{constructor(t,n,i=ti.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Bj{constructor(){this.fe=0,this.ge=jj(),this.pe=ti.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=st(),n=st(),i=st();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ne()}}),new Jg(this.pe,this.ye,t,n,i)}ve(){this.we=!1,this.ge=jj()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dpe{constructor(t){this.Le=t,this.Be=new Map,this.ke=qr(),this.qe=Uj(),this.Qe=new bn(Xe)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:Ne()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const o=r.target;if(U0(o))if(0===i){const s=new De(o.path);this.Ue(n,s,In.newNoDocument(s,Ve.min()))}else Oe(1===i);else{const s=this.Ye(n);if(s!==i){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;0!==l&&(this.je(n),this.Qe=this.Qe.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let s,a;try{s=da(i).toUint8Array()}catch(l){if(l instanceof $3)return ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TI(s,r,o)}catch(l){return ho(l instanceof Yg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,o,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&U0(a.target)){const l=new De(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,In.newNoDocument(l,t))}o.be&&(n.set(s,o.Ce()),o.ve())}});let i=st();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new Qg(t,n,this.Qe,this.ke,i);return this.ke=qr(),this.qe=Uj(),this.Qe=new bn(Xe),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Bj,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new an(Xe),this.qe=this.qe.insert(t,n)),n}ze(t){const n=null!==this.Je(t);return n||de("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Bj),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Uj(){return new bn(De.comparator)}function jj(){return new bn(De.comparator)}const Ipe={asc:"ASCENDING",desc:"DESCENDING"},Spe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ape={and:"AND",or:"OR"};class xpe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function CI(e,t){return e.useProto3Json||Fg(t)?t:{value:t}}function Rh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mpe(e,t){return Rh(e,t.toTimestamp())}function ui(e){return Oe(!!e),Ve.fromTimestamp(function(n){const i=ca(n);return new jn(i.seconds,i.nanos)}(e))}function EI(e,t){return DI(e,t).canonicalString()}function DI(e,t){const n=(r=e,new Ct(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function $j(e){const t=Ct.fromString(e);return Oe(eH(t)),t}function Xg(e,t){return EI(e.databaseId,t.path)}function Ds(e,t){const n=$j(t);if(n.get(1)!==e.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new De(qj(n))}function zj(e,t){return EI(e.databaseId,t)}function II(e){return new Ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qj(e){return Oe(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Wj(e,t,n){return{name:Xg(e,t),fields:n.value.mapValue.fields}}function Kj(e,t){return{documents:[zj(e,t.path)]}}function Z0(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zj(e,r);const o=function(c){if(0!==c.length)return Xj(tn.create(c,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(h=>{return{field:wu((m=h).field),direction:kpe(m.dir)};var m})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=CI(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:r};var c}function Qj(e){let t=function Gj(e){const t=$j(e);return 4===t.length?Ct.emptyPath():qj(t)}(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Oe(1===i);const h=n.from[0];h.allDescendants?r=h.collectionId:t=t.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=Jj(g);return m instanceof tn&&hI(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new Hg(Nh((T=m).field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Fg(m)?null:m}(n.limit));let l=null;var g;n.startAt&&(l=new bu((g=n.startAt).values||[],!!g.before));let c=null;return n.endAt&&(c=function(g){return new bu(g.values||[],!g.before)}(n.endAt)),function uj(e,t,n,i,r,o,s,a){return new ha(e,t,n,i,r,o,s,a)}(t,r,s,o,a,"F",l,c)}function Jj(e){return void 0!==e.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Nh(n.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Nh(n.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nh(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nh(n.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(e):void 0!==e.fieldFilter?Et.create(Nh((n=e).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==e.compositeFilter?function(n){return tn.create(n.compositeFilter.filters.map(i=>Jj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(e):Ne();var n}function kpe(e){return Ipe[e]}function Fpe(e){return Spe[e]}function Lpe(e){return Ape[e]}function wu(e){return{fieldPath:e.canonicalString()}}function Nh(e){return Pn.fromServerFormat(e.fieldPath)}function Xj(e){return e instanceof Et?function(n){if("=="===n.op){if(q3(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(G3(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(q3(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(G3(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:Fpe(n.op),value:n.value}}}(e):e instanceof tn?function(n){const i=n.getFilters().map(r=>Xj(r));return 1===i.length?i[0]:{compositeFilter:{op:Lpe(n.op),filters:i}}}(e):Ne()}function Vpe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function eH(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ga{constructor(t,n,i,r,o=Ve.min(),s=Ve.min(),a=ti.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new ga(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tH{constructor(t){this.ct=t}}function AI(e){const t=Qj({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?H0(t,t.limit,"L"):t}class sc{constructor(){}It(t,n){this.Tt(t,n),n.Et()}Tt(t,n){if("nullValue"in t)this.dt(n,5);else if("booleanValue"in t)this.dt(n,10),n.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(n,15),n.At(ni(t.integerValue));else if("doubleValue"in t){const i=ni(t.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),Lg(i)?n.At(0):n.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(n,20),"string"==typeof i&&(i=ca(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,n),this.ft(n);else if("bytesValue"in t)this.dt(n,30),n.gt(da(t.bytesValue)),this.ft(n);else if("referenceValue"in t)this.yt(t.referenceValue,n);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in t?W3(t)?this.dt(n,Number.MAX_SAFE_INTEGER):(this.wt(t.mapValue,n),this.ft(n)):"arrayValue"in t?(this.St(t.arrayValue,n),this.ft(n)):Ne()}Vt(t,n){this.dt(n,25),this.bt(t,n)}bt(t,n){n.Rt(t)}wt(t,n){const i=t.fields||{};this.dt(n,55);for(const r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}St(t,n){const i=t.values||[];this.dt(n,50);for(const r of i)this.Tt(r,n)}yt(t,n){this.dt(n,37),De.fromName(t).path.forEach(i=>{this.dt(n,60),this.bt(i,n)})}dt(t,n){t.At(n)}ft(t){t.At(2)}}sc.Dt=new sc;class Wpe{constructor(){this.an=new OI}addToCollectionParentIndex(t,n){return this.an.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.an.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(fo.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(fo.min())}updateCollectionGroup(t,n,i){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class OI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new an(Ct.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new an(Ct.comparator)).toArray()}}new Uint8Array(0);class ur{constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ur(t,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);class uc{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Ln(){return new uc(0)}static Bn(){return new uc(-1)}}class Xpe{constructor(){this.changes=new fa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,In.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?Y.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nge{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class AH{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(null!==i&&Kg(i.mutation,r,Gr.empty(),jn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const r=Es();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(o=>{let s=qg();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=Es();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,i,r){let o=qr();const s=Wg(),a=Wg();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof pa)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),Kg(h.mutation,c,h.mutation.getFieldMask(),jn.now())):s.set(c.key,Gr.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var g;return a.set(c,new nge(h,null!==(g=s.get(c))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Wg();let r=new bn((s,a)=>s-a),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(null===c)return;let h=i.get(l)||Gr.empty();h=a.applyToLocalView(c,h),i.set(l,h);const g=(r.get(a.batchId)||st()).add(l);r=r.insert(a.batchId,g)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,g=_j();h.forEach(m=>{if(!o.has(m)){const y=Ij(n.get(m),i.get(m));null!==y&&g.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,g))}return Y.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return De.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,n.path):function gI(e){return null!==e.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r);var s}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-o.size):Y.resolve(Es());let a=-1,l=o;return s.next(c=>Y.forEach(c,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?Y.resolve():this.remoteDocumentCache.getEntry(t,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,st())).next(h=>({batchId:a,changes:mj(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new De(n)).next(i=>{let r=qg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const o=n.collectionGroup;let s=qg();return this.indexManager.getCollectionParents(t,o).next(a=>Y.forEach(a,l=>{const c=(g=n,m=l.child(o),new ha(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,In.newInvalidDocument(h)))});let a=qg();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&Kg(h.mutation,c,Gr.empty(),jn.now()),Gg(n,c)&&(a=a.insert(l,c))}),a})}}class ige{constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,n){return Y.resolve(this.lr.get(n))}saveBundleMetadata(t,n){return this.lr.set(n.id,{id:(r=n).id,version:r.version,createTime:ui(r.createTime)}),Y.resolve();var r}getNamedQuery(t,n){return Y.resolve(this.hr.get(n))}saveNamedQuery(t,n){return this.hr.set(n.name,{name:(r=n).name,query:AI(r.bundledQuery),readTime:ui(r.readTime)}),Y.resolve();var r}}class rge{constructor(){this.overlays=new bn(De.comparator),this.Pr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Es();return Y.forEach(n,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,o)=>{this.ht(t,n,o)}),Y.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Pr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(i)),Y.resolve()}getOverlaysForCollection(t,n,i){const r=Es(),o=n.length+1,s=new De(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Y.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let o=new bn((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=Es(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Es(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return Y.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new wI(n,i));let o=this.Pr.get(n);void 0===o&&(o=st(),this.Pr.set(n,o)),this.Pr.set(n,o.add(i.key))}}class oge{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}class kI{constructor(){this.Ir=new an(Pi.Tr),this.Er=new an(Pi.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(t,n){const i=new Pi(t,n);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Rr(new Pi(t,n))}Vr(t,n){t.forEach(i=>this.removeReference(i,n))}mr(t){const n=new De(new Ct([])),i=new Pi(n,t),r=new Pi(n,t+1),o=[];return this.Er.forEachInRange([i,r],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Er=this.Er.delete(t)}pr(t){const n=new De(new Ct([])),i=new Pi(n,t),r=new Pi(n,t+1);let o=st();return this.Er.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Pi(t,0),i=this.Ir.firstAfterOrEqual(n);return null!==i&&t.isEqual(i.key)}}class Pi{constructor(t,n){this.key=t,this.yr=n}static Tr(t,n){return De.comparator(t.key,n.key)||Xe(t.yr,n.yr)}static dr(t,n){return Xe(t.yr,n.yr)||De.comparator(t.key,n.key)}}class sge{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new an(Pi.Tr)}checkEmpty(t){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(t,n,i,r){const o=this.wr;this.wr++;const s=new vI(o,n,i,r);this.mutationQueue.push(s);for(const a of r)this.Sr=this.Sr.add(new Pi(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Y.resolve(s)}lookupMutationBatch(t,n){return Y.resolve(this.br(n))}getNextMutationBatchAfterBatchId(t,n){const r=this.Dr(n+1),o=r<0?0:r;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Pi(n,0),r=new Pi(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([i,r],s=>{const a=this.br(s.yr);o.push(a)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new an(Xe);return n.forEach(r=>{const o=new Pi(r,0),s=new Pi(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],a=>{i=i.add(a.yr)})}),Y.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let o=i;De.isDocumentKey(o)||(o=o.child(""));const s=new Pi(new De(o),0);let a=new an(Xe);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.yr)),!0)},s),Y.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.br(i);null!==r&&n.push(r)}),n}removeMutationBatch(t,n){Oe(0===this.vr(n.batchId,"removed")),this.mutationQueue.shift();let i=this.Sr;return Y.forEach(n.mutations,r=>{const o=new Pi(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Sr=i})}xn(t){}containsKey(t,n){const i=new Pi(n,0),r=this.Sr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return Y.resolve()}vr(t,n){return this.Dr(t)}Dr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}br(t){const n=this.Dr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class age{constructor(t){this.Fr=t,this.docs=new bn(De.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Fr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():In.newInvalidDocument(n))}getEntries(t,n){let i=qr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():In.newInvalidDocument(r))}),Y.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let o=qr();const s=n.path,a=new De(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||oI(new fo((e=h).readTime,e.key,-1),i)<=0||(r.has(h.key)||Gg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}var e;return Y.resolve(o)}getAllFromCollectionGroup(t,n,i,r){Ne()}Mr(t,n){return Y.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new uge(this)}getSize(t){return Y.resolve(this.size)}}class uge extends Xpe{constructor(t){super(),this.ur=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ur.addEntry(t,r)):this.ur.removeEntry(i)}),Y.waitFor(n)}getFromCache(t,n){return this.ur.getEntry(t,n)}getAllFromCache(t,n){return this.ur.getEntries(t,n)}}class lge{constructor(t){this.persistence=t,this.Or=new fa(n=>ec(n),$g),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new kI,this.targetCount=0,this.Br=uc.Ln()}forEachTarget(t,n){return this.Or.forEach((i,r)=>n(r)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Nr&&(this.Nr=n),Y.resolve()}Qn(t){this.Or.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new uc(n),this.highestTargetId=n),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,n){return this.Qn(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.Qn(n),Y.resolve()}removeTargetData(t,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,i){let r=0;const o=[];return this.Or.forEach((s,a)=>{a.sequenceNumber<=n&&null===i.get(a.targetId)&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Y.waitFor(o).next(()=>r)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const i=this.Or.get(n)||null;return Y.resolve(i)}addMatchingKeys(t,n,i){return this.Lr.Ar(n,i),Y.resolve()}removeMatchingKeys(t,n,i){this.Lr.Vr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),Y.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Lr.mr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Lr.pr(n);return Y.resolve(i)}containsKey(t,n){return Y.resolve(this.Lr.containsKey(n))}}class FI{constructor(t,n){this.kr={},this.overlays={},this.qr=new po(0),this.Qr=!1,this.Qr=!0,this.Kr=new oge,this.referenceDelegate=t(this),this.$r=new lge(this),this.indexManager=new Wpe,this.remoteDocumentCache=new age(i=>this.referenceDelegate.Ur(i)),this.serializer=new tH(n),this.Wr=new ige(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new rge,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.kr[t.toKey()];return i||(i=new sge(n,this.referenceDelegate),this.kr[t.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(t,n,i){de("MemoryPersistence","Starting transaction:",t);const r=new cge(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(o=>this.referenceDelegate.zr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}jr(t,n){return Y.or(Object.values(this.kr).map(i=>()=>i.containsKey(t,n)))}}class cge extends Mfe{constructor(t){super(),this.currentSequenceNumber=t}}class nb{constructor(t){this.persistence=t,this.Hr=new kI,this.Jr=null}static Yr(t){return new nb(t)}get Zr(){if(this.Jr)return this.Jr;throw Ne()}addReference(t,n,i){return this.Hr.addReference(i,n),this.Zr.delete(i.toString()),Y.resolve()}removeReference(t,n,i){return this.Hr.removeReference(i,n),this.Zr.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.Zr.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Hr.mr(n.targetId).forEach(r=>this.Zr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(o=>this.Zr.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Gr(){this.Jr=new Set}zr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Zr,i=>{const r=De.fromPath(i);return this.Xr(t,r).next(o=>{o||n.removeEntry(r,Ve.min())})}).next(()=>(this.Jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Xr(t,n).next(i=>{i?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(t){return 0}Xr(t,n){return Y.or([()=>Y.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.jr(t,n)])}}class UI{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Ki=i,this.$i=r}static Ui(t,n){let i=st(),r=st();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new UI(t,n.fromCache,i,r)}}class hge{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MH{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function Yde(){return!function Zde(){var e;const t=null===(e=E0())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function x3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(function Ag(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(t,n){this.Hi=t,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(t,n,i,r){const o={result:null};return this.Ji(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Yi(t,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hge;return this.Zi(t,n,s).next(a=>{if(o.result=a,this.Gi)return this.Xi(t,n,s,a.size)})}).next(()=>o.result)}Xi(t,n,i,r){return i.documentReadCount<this.zi?(_h()<=Lt.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ih(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),Y.resolve()):(_h()<=Lt.DEBUG&&de("QueryEngine","Query:",Ih(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(_h()<=Lt.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ih(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ar(n))):Y.resolve())}Ji(t,n){if(lj(n))return Y.resolve(null);let i=ar(n);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=H0(n,null,"F"),i=ar(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=st(...o);return this.Hi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.es(n,a);return this.ts(n,c,s,l.readTime)?this.Ji(t,H0(n,null,"F")):this.ns(t,c,n,l)}))})))}Yi(t,n,i,r){return lj(n)||r.isEqual(Ve.min())?Y.resolve(null):this.Hi.getDocuments(t,i).next(o=>{const s=this.es(n,o);return this.ts(n,s,i,r)?Y.resolve(null):(_h()<=Lt.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ih(n)),this.ns(t,s,n,function I3(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Ve.fromTimestamp(1e9===i?new jn(n+1,0):new jn(n,i));return new fo(r,De.empty(),t)}(r,-1)).next(a=>a))})}es(t,n){let i=new an(pj(t));return n.forEach((r,o)=>{Gg(t,o)&&(i=i.add(o))}),i}ts(t,n,i,r){if(null===t.limit)return!1;if(i.size!==n.size)return!0;const o="F"===t.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zi(t,n,i){return _h()<=Lt.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ih(n)),this.Hi.getDocumentsMatchingQuery(t,n,fo.min(),i)}ns(t,n,i,r){return this.Hi.getDocumentsMatchingQuery(t,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class fge{constructor(t,n,i,r){this.persistence=t,this.rs=n,this.serializer=r,this.ss=new bn(Xe),this.os=new fa(o=>ec(o),$g),this._s=new Map,this.us=t.getRemoteDocumentCache(),this.$r=t.getTargetCache(),this.Wr=t.getBundleCache(),this.cs(i)}cs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AH(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ss))}}function NH(e,t){return jI.apply(this,arguments)}function jI(){return(jI=Se(function*(e,t){const n=we(e);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.cs(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=st();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ls:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function PH(e){const t=we(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.$r.getLastRemoteSnapshotVersion(n))}function mge(e,t){const n=we(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Vh(e,t,n){return HI.apply(this,arguments)}function HI(){return(HI=Se(function*(e,t,n){const i=we(e),r=i.ss.get(t),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!gu(s))throw s;de("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ss=i.ss.remove(t),i.os.delete(r.target)})).apply(this,arguments)}function ob(e,t,n){const i=we(e);let r=Ve.min(),o=st();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const g=we(l),m=g.os.get(h);return void 0!==m?Y.resolve(g.ss.get(m)):g.$r.getTargetData(c,h)}(i,s,ar(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.rs.getDocumentsMatchingQuery(s,t,n?r:Ve.min(),n?o:st())).next(a=>(function LH(e,t,n){let i=e._s.get(t)||Ve.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e._s.set(t,i)}(i,function fj(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),a),{documents:a,Is:o})))}class WI{constructor(){this.activeTargetIds=function _I(){return mpe}()}Vs(t){this.activeTargetIds=this.activeTargetIds.add(t)}fs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Rs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UH{constructor(){this.io=new WI,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.io.Vs(t),this.so[t]||"not-current"}updateQueryState(t,n,i){this.so[t]=n}removeLocalQueryTarget(t){this.io.fs(t)}isLocalQueryTarget(t){return this.io.activeTargetIds.has(t)}clearQueryState(t){delete this.so[t]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(t){return this.io.activeTargetIds.has(t)}start(){return this.io=new WI,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vge{oo(t){}shutdown(){}}class jH{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(t){this.lo.push(t)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.lo)t(0)}co(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.lo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ub=null;function KI(){return null===ub?ub=268435456+Math.round(2147483648*Math.random()):ub++,"0x"+ub.toString(16)}const bge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wge{constructor(t){this.Po=t.Po,this.Io=t.Io}To(t){this.Eo=t}Ao(t){this.Ro=t}Vo(t){this.mo=t}onMessage(t){this.fo=t}close(){this.Io()}send(t){this.Po(t)}po(){this.Eo()}yo(){this.Ro()}wo(t){this.mo(t)}So(t){this.fo(t)}}const lr="WebChannelConnection";class Tge extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+n.host,this.Do=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get vo(){return!1}Fo(n,i,r,o,s){const a=KI(),l=this.Mo(n,i.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,o,s),this.Oo(n,l,c,r).then(h=>(de("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ho("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}No(n,i,r,o,s,a){return this.Fo(n,i,r,o,s)}xo(n,i,r){n["X-Goog-Api-Client"]="gl-js/ fire/"+mh,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}Mo(n,i){return`${this.bo}/v1/${i}:${bge[n]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Oo(t,n,i,r){const o=KI();return new Promise((s,a)=>{const l=new g3;l.setWithCredentials(!0),l.listenOnce(_3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case R0.NO_ERROR:const h=l.getResponseJson();de(lr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case R0.TIMEOUT:de(lr,`RPC '${t}' ${o} timed out`),a(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case R0.HTTP_ERROR:const g=l.getStatus();if(de(lr,`RPC '${t}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const T=function(C){const S=C.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(S)>=0?S:X.UNKNOWN}(y.status);a(new he(T,y.message))}else a(new he(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(X.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{de(lr,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);de(lr,`RPC '${t}' ${o} sending request:`,r),l.send(n,"POST",c,i,15)})}Lo(t,n,i){const r=KI(),o=[this.bo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=b3(),a=v3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new m3({})),this.xo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=o.join("");de(lr,`Creating RPC '${t}' stream ${r}: ${h}`,l);const g=s.createWebChannel(h,l);let m=!1,y=!1;const T=new wge({Po:C=>{y?de(lr,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(m||(de(lr,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),de(lr,`RPC '${t}' stream ${r} sending:`,C),g.send(C))},Io:()=>g.close()}),I=(C,S,D)=>{C.listen(S,F=>{try{D(F)}catch(B){setTimeout(()=>{throw B},0)}})};return I(g,Pg.EventType.OPEN,()=>{y||(de(lr,`RPC '${t}' stream ${r} transport opened.`),T.po())}),I(g,Pg.EventType.CLOSE,()=>{y||(y=!0,de(lr,`RPC '${t}' stream ${r} transport closed`),T.wo())}),I(g,Pg.EventType.ERROR,C=>{y||(y=!0,ho(lr,`RPC '${t}' stream ${r} transport errored:`,C),T.wo(new he(X.UNAVAILABLE,"The operation could not be completed")))}),I(g,Pg.EventType.MESSAGE,C=>{var S;if(!y){const D=C.data[0];Oe(!!D);const B=D.error||(null===(S=D[0])||void 0===S?void 0:S.error);if(B){de(lr,`RPC '${t}' stream ${r} received error:`,B);const W=B.status;let te=function(P){const k=pi[P];if(void 0!==k)return Pj(k)}(W),O=B.message;void 0===te&&(te=X.INTERNAL,O="Unknown error status: "+W+" with message "+B.message),y=!0,T.wo(new he(te,O)),g.close()}else de(lr,`RPC '${t}' stream ${r} received:`,D),T.So(D)}}),I(a,y3.STAT_EVENT,C=>{C.stat===nI.PROXY?de(lr,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===nI.NOPROXY&&de(lr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.yo()},0),T}}function lb(){return typeof document<"u"?document:null}function um(e){return new xpe(e,!0)}class YI{constructor(t,n,i=1e3,r=1.5,o=6e4){this.ai=t,this.timerId=n,this.Bo=i,this.ko=r,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(t){this.cancel();const n=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,n-i);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),t())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){null!==this.Ko&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){null!==this.Ko&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}class $H{constructor(t,n,i,r,o,s,a,l){this.ai=t,this.jo=i,this.Ho=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new YI(t,n)}t_(){return 1===this.state||5===this.state||this.n_()}n_(){return 2===this.state||3===this.state}start(){this.Xo=0,4!==this.state?this.auth():this.r_()}stop(){var t=this;return Se(function*(){t.t_()&&(yield t.close(0))})()}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&null===this.Yo&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(t){this.a_(),this.stream.send(t)}o_(){var t=this;return Se(function*(){if(t.n_())return t.close(0)})()}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(t,n){var i=this;return Se(function*(){i.a_(),i.u_(),i.e_.cancel(),i.Jo++,4!==t?i.e_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),i.e_.Uo()):n&&n.code===X.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.c_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Vo(n)})()}c_(){}auth(){this.state=1;const t=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===n&&this.h_(i,r)},i=>{t(()=>{const r=new he(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(t,n){const i=this.l_(this.Jo);this.stream=this.I_(t,n),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.Xo?this.T_(r):this.onNext(r))})}r_(){var t=this;this.state=5,this.e_.Wo(Se(function*(){t.state=0,t.start()}))}P_(t){return de("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}l_(t){return n=>{this.ai.enqueueAndForget(()=>this.Jo===t?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cge extends $H{constructor(t,n,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}I_(t,n){return this.connection.Lo("Listen",t,n)}T_(t){return this.onNext(t)}onNext(t){this.e_.reset();const n=function Npe(e,t){let n;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Ne(),r=t.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Oe(void 0===h||"string"==typeof h),ti.fromBase64String(h||"")):(Oe(void 0===h||h instanceof Buffer||h instanceof Uint8Array),ti.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const h=void 0===c.code?X.UNKNOWN:Pj(c.code);return new he(h,c.message||"")}(s);n=new Vj(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Ds(e,i.document.name),o=ui(i.document.updateTime),s=i.document.createTime?ui(i.document.createTime):Ve.min(),a=new qi({mapValue:{fields:i.document.fields}}),l=In.newFoundDocument(r,o,s,a);n=new W0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Ds(e,i.document),o=i.readTime?ui(i.readTime):Ve.min(),s=In.newNoDocument(r,o);n=new W0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Ds(e,i.document);n=new W0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ne();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new Cpe(r,o);n=new Lj(i.targetId,s)}}var c;return n}(this.serializer,t),i=function(o){if(!("targetChange"in o))return Ve.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ve.min():s.readTime?ui(s.readTime):Ve.min()}(t);return this.listener.E_(n,i)}d_(t){const n={};n.database=II(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=U0(l)?{documents:Kj(o,l)}:{query:Z0(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Hj(o,s.resumeToken);const c=CI(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ve.min())>0){a.readTime=Rh(o,s.snapshotVersion.toTimestamp());const c=CI(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function Ope(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);i&&(n.labels=i),this.__(n)}A_(t){const n={};n.database=II(this.serializer),n.removeTarget=t,this.__(n)}}class Ege extends $H{constructor(t,n,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(t,n){return this.connection.Lo("Write",t,n)}T_(t){return Oe(!!t.streamToken),this.lastStreamToken=t.streamToken,Oe(!t.writeResults||0===t.writeResults.length),this.listener.m_()}onNext(t){Oe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.e_.reset();const n=function Ppe(e,t){return e&&e.length>0?(Oe(void 0!==t),e.map(n=>function(r,o){let s=ui(r.updateTime?r.updateTime:o);return s.isEqual(Ve.min())&&(s=ui(o)),new bpe(s,r.transformResults||[])}(n,t))):[]}(t.writeResults,t.commitTime),i=ui(t.commitTime);return this.listener.f_(i,n)}g_(){const t={};t.database=II(this.serializer),this.__(t)}V_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>function em(e,t){let n;if(t instanceof xh)n={update:Wj(e,t.key,t.value)};else if(t instanceof Mh)n={delete:Xg(e,t.key)};else if(t instanceof pa)n={update:Wj(e,t.key,t.data),updateMask:Vpe(t.fieldMask)};else{if(!(t instanceof yI))return Ne();n={verify:Xg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Sh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ne()}(0,i))),t.precondition.isNone||(n.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:Mpe(e,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ne()),n;var o}(this.serializer,i))};this.__(n)}}class Dge extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(t,n,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(t,DI(n,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(X.UNKNOWN,o.toString())})}No(t,n,i,r,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.No(t,DI(n,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(X.UNKNOWN,s.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class Ige{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){0===this.w_&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(t){"Online"===this.state?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.M_(),this.w_=0,"Online"===t&&(this.b_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}v_(t){const n=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(ai(n),this.b_=!1):de("OnlineStateTracker",n)}M_(){null!==this.S_&&(this.S_.cancel(),this.S_=null)}}class Sge{constructor(t,n,i,r,o){var s=this;this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(a=>{i.enqueueAndForget(Se(function*(){var l;Du(s)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(l=Se(function*(h){const g=we(h);g.N_.add(4),yield Bh(g),g.k_.set("Unknown"),g.N_.delete(4),yield lm(g)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.k_=new Ige(i,r)}}function lm(e){return QI.apply(this,arguments)}function QI(){return(QI=Se(function*(e){if(Du(e))for(const t of e.L_)yield t(!0)})).apply(this,arguments)}function Bh(e){return JI.apply(this,arguments)}function JI(){return(JI=Se(function*(e){for(const t of e.L_)yield t(!1)})).apply(this,arguments)}function cb(e,t){const n=we(e);n.O_.has(t.targetId)||(n.O_.set(t.targetId,t),tS(n)?eS(n):Hh(n).n_()&&XI(n,t))}function Uh(e,t){const n=we(e),i=Hh(n);n.O_.delete(t),i.n_()&&zH(n,t),0===n.O_.size&&(i.n_()?i.s_():Du(n)&&n.k_.set("Unknown"))}function XI(e,t){if(e.q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ve.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hh(e).d_(t)}function zH(e,t){e.q_.xe(t),Hh(e).A_(t)}function eS(e){e.q_=new Dpe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.O_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Hh(e).start(),e.k_.D_()}function tS(e){return Du(e)&&!Hh(e).t_()&&e.O_.size>0}function Du(e){return 0===we(e).N_.size}function GH(e){e.q_=void 0}function Age(e){return nS.apply(this,arguments)}function nS(){return(nS=Se(function*(e){e.k_.set("Online")})).apply(this,arguments)}function xge(e){return iS.apply(this,arguments)}function iS(){return(iS=Se(function*(e){e.O_.forEach((t,n)=>{XI(e,t)})})).apply(this,arguments)}function Mge(e,t){return rS.apply(this,arguments)}function rS(){return(rS=Se(function*(e,t){GH(e),tS(e)?(e.k_.F_(t),eS(e)):e.k_.set("Unknown")})).apply(this,arguments)}function Rge(e,t,n){return oS.apply(this,arguments)}function oS(){return oS=Se(function*(e,t,n){if(e.k_.set("Online"),t instanceof Vj&&2===t.state&&t.cause)try{yield(i=Se(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.O_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.O_.delete(l),o.q_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(e,t)}catch(i){de("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield db(e,i)}else if(t instanceof W0?e.q_.Ke(t):t instanceof Lj?e.q_.He(t):e.q_.We(t),!n.isEqual(Ve.min()))try{const i=yield PH(e.localStore);n.compareTo(i)>=0&&(yield function(o,s){const a=o.q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.O_.get(c);h&&o.O_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.O_.get(l);if(!h)return;o.O_.set(l,h.withResumeToken(ti.EMPTY_BYTE_STRING,h.snapshotVersion)),zH(o,l);const g=new ga(h.target,l,c,h.sequenceNumber);XI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n))}catch(i){de("RemoteStore","Failed to raise snapshot:",i),yield db(e,i)}var i}),oS.apply(this,arguments)}function db(e,t,n){return sS.apply(this,arguments)}function sS(){return(sS=Se(function*(e,t,n){if(!gu(t))throw t;e.N_.add(1),yield Bh(e),e.k_.set("Offline"),n||(n=()=>PH(e.localStore)),e.asyncQueue.enqueueRetryable(Se(function*(){de("RemoteStore","Retrying IndexedDB access"),yield n(),e.N_.delete(1),yield lm(e)}))})).apply(this,arguments)}function qH(e,t){return t().catch(n=>db(e,n,t))}function jh(e){return aS.apply(this,arguments)}function aS(){return(aS=Se(function*(e){const t=we(e),n=Iu(t);let i=t.x_.length>0?t.x_[t.x_.length-1].batchId:-1;for(;Nge(t);)try{const r=yield mge(t.localStore,i);if(null===r){0===t.x_.length&&n.s_();break}i=r.batchId,Pge(t,r)}catch(r){yield db(t,r)}WH(t)&&ZH(t)})).apply(this,arguments)}function Nge(e){return Du(e)&&e.x_.length<10}function Pge(e,t){e.x_.push(t);const n=Iu(e);n.n_()&&n.R_&&n.V_(t.mutations)}function WH(e){return Du(e)&&!Iu(e).t_()&&e.x_.length>0}function ZH(e){Iu(e).start()}function Oge(e){return uS.apply(this,arguments)}function uS(){return(uS=Se(function*(e){Iu(e).g_()})).apply(this,arguments)}function kge(e){return lS.apply(this,arguments)}function lS(){return(lS=Se(function*(e){const t=Iu(e);for(const n of e.x_)t.V_(n.mutations)})).apply(this,arguments)}function Fge(e,t,n){return cS.apply(this,arguments)}function cS(){return(cS=Se(function*(e,t,n){const i=e.x_.shift(),r=bI.from(i,t,n);yield qH(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield jh(e)})).apply(this,arguments)}function Lge(e,t){return dS.apply(this,arguments)}function dS(){return dS=Se(function*(e,t){var n;t&&Iu(e).R_&&(yield(n=Se(function*(r,o){if(function Nj(e){switch(e){default:return Ne();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}(a=o.code)&&a!==X.ABORTED){const s=r.x_.shift();Iu(r).i_(),yield qH(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield jh(r)}var a}),function i(r,o){return n.apply(this,arguments)})(e,t)),WH(e)&&ZH(e)}),dS.apply(this,arguments)}function KH(e,t){return hS.apply(this,arguments)}function hS(){return(hS=Se(function*(e,t){const n=we(e);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const i=Du(n);n.N_.add(3),yield Bh(n),i&&n.k_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.N_.delete(3),yield lm(n)})).apply(this,arguments)}function fS(e,t){return pS.apply(this,arguments)}function pS(){return(pS=Se(function*(e,t){const n=we(e);t?(n.N_.delete(2),yield lm(n)):t||(n.N_.add(2),yield Bh(n),n.k_.set("Unknown"))})).apply(this,arguments)}function Hh(e){return e.Q_||(e.Q_=function(n,i,r){const o=we(n);return o.y_(),new Cge(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{To:Age.bind(null,e),Ao:xge.bind(null,e),Vo:Mge.bind(null,e),E_:Rge.bind(null,e)}),e.L_.push(function(){var t=Se(function*(n){n?(e.Q_.i_(),tS(e)?eS(e):e.k_.set("Unknown")):(yield e.Q_.stop(),GH(e))});return function(n){return t.apply(this,arguments)}}())),e.Q_}function Iu(e){return e.K_||(e.K_=function(n,i,r){const o=we(n);return o.y_(),new Ege(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{To:()=>Promise.resolve(),Ao:Oge.bind(null,e),Vo:Lge.bind(null,e),m_:kge.bind(null,e),f_:Fge.bind(null,e)}),e.L_.push(function(){var t=Se(function*(n){n?(e.K_.i_(),yield jh(e)):(yield e.K_.stop(),e.x_.length>0&&(de("RemoteStore",`Stopping write stream with ${e.x_.length} pending writes`),e.x_=[]))});return function(n){return t.apply(this,arguments)}}())),e.K_}class gS{constructor(t,n,i,r,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,o){const s=Date.now()+i,a=new gS(t,n,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $h(e,t){if(ai("AsyncQueue",`${t}: ${e}`),gu(e))return new he(X.UNAVAILABLE,`${t}: ${e}`);throw e}class zh{constructor(t){this.comparator=t?(n,i)=>t(n,i)||De.comparator(n.key,i.key):(n,i)=>De.comparator(n.key,i.key),this.keyedMap=qg(),this.sortedSet=new bn(this.comparator)}static emptySet(t){return new zh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zh)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,n){const i=new zh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}class YH{constructor(){this.U_=new bn(De.comparator)}track(t){const n=t.doc.key,i=this.U_.get(n);i?0!==t.type&&3===i.type?this.U_=this.U_.insert(n,t):3===t.type&&1!==i.type?this.U_=this.U_.insert(n,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.U_=this.U_.insert(n,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.U_=this.U_.insert(n,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.U_=this.U_.remove(n):1===t.type&&2===i.type?this.U_=this.U_.insert(n,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.U_=this.U_.insert(n,{type:2,doc:t.doc}):Ne():this.U_=this.U_.insert(n,t)}W_(){const t=[];return this.U_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Gh{constructor(t,n,i,r,o,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Gh(t,n,zh.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class Vge{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(t=>t.H_())}}class Bge{constructor(){this.queries=QH(),this.onlineState="Unknown",this.J_=new Set}terminate(){!function(n,i){const r=we(n),o=r.queries;r.queries=QH(),o.forEach((s,a)=>{for(const l of a.z_)l.onError(i)})}(this,new he(X.ABORTED,"Firestore shutting down"))}}function QH(){return new fa(e=>hj(e),zg)}function _S(){return(_S=Se(function*(e,t){const n=we(e);let i=3;const r=t.query;let o=n.queries.get(r);o?!o.j_()&&t.H_()&&(i=2):(o=new Vge,i=t.H_()?0:1);try{switch(i){case 0:o.G_=yield n.onListen(r,!0);break;case 1:o.G_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){const a=$h(s,`Initialization of query '${Ih(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.z_.push(t),t.Y_(n.onlineState),o.G_&&t.Z_(o.G_)&&bS(n)})).apply(this,arguments)}function vS(){return(vS=Se(function*(e,t){const n=we(e),i=t.query;let r=3;const o=n.queries.get(i);if(o){const s=o.z_.indexOf(t);s>=0&&(o.z_.splice(s,1),0===o.z_.length?r=t.H_()?0:1:!o.j_()&&t.H_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function Uge(e,t){const n=we(e);let i=!1;for(const r of t){const s=n.queries.get(r.query);if(s){for(const a of s.z_)a.Z_(r)&&(i=!0);s.G_=r}}i&&bS(n)}function jge(e,t,n){const i=we(e),r=i.queries.get(t);if(r)for(const o of r.z_)o.onError(n);i.queries.delete(t)}function bS(e){e.J_.forEach(t=>{t.next()})}var wS,JH;(JH=wS||(wS={})).X_="default",JH.Cache="cache";class TS{constructor(t,n,i){this.query=t,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Gh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ta?this.ra(t)&&(this.ea.next(t),n=!0):this.ia(t,this.onlineState)&&(this.sa(t),n=!0),this.na=t,n}onError(t){this.ea.error(t)}Y_(t){this.onlineState=t;let n=!1;return this.na&&!this.ta&&this.ia(this.na,t)&&(this.sa(this.na),n=!0),n}ia(t,n){return!t.fromCache||!this.H_()||(!this.options.oa||!("Offline"!==n))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===n)}ra(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}sa(t){t=Gh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ta=!0,this.ea.next(t)}H_(){return this.options.source!==wS.Cache}}class t${constructor(t){this.key=t}}class n${constructor(t){this.key=t}}class i${constructor(t,n){this.query=t,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=st(),this.mutatedKeys=st(),this.da=pj(t),this.Aa=new zh(this.da)}get Ra(){return this.Ia}Va(t,n){const i=n?n.ma:new YH,r=n?n.Aa:this.Aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((h,g)=>{const m=r.get(h),y=Gg(this.query,g)?g:null,T=!!m&&this.mutatedKeys.has(m.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;m&&y?m.data.isEqual(y.data)?T!==I&&(i.track({type:3,doc:y}),C=!0):this.fa(m,y)||(i.track({type:2,doc:y}),C=!0,(l&&this.da(y,l)>0||c&&this.da(y,c)<0)&&(a=!0)):!m&&y?(i.track({type:0,doc:y}),C=!0):m&&!y&&(i.track({type:1,doc:m}),C=!0,(l||c)&&(a=!0)),C&&(y?(s=s.add(y),o=I?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Aa:s,ma:i,ts:a,mutatedKeys:o}}fa(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const o=this.Aa;this.Aa=t.Aa,this.mutatedKeys=t.mutatedKeys;const s=t.ma.W_();s.sort((h,g)=>function(y,T){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return I(y)-I(T)}(h.type,g.type)||this.da(h.doc,g.doc)),this.ga(i),r=null!=r&&r;const a=n&&!r?this.pa():[],l=0===this.Ea.size&&this.current&&!r?1:0,c=l!==this.Ta;return this.Ta=l,0!==s.length||c?{snapshot:new Gh(this.query,t.Aa,o,s,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new YH,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(t){return!this.Ia.has(t)&&!!this.Aa.has(t)&&!this.Aa.get(t).hasLocalMutations}ga(t){t&&(t.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=t.current)}pa(){if(!this.current)return[];const t=this.Ea;this.Ea=st(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});const n=[];return t.forEach(i=>{this.Ea.has(i)||n.push(new n$(i))}),this.Ea.forEach(i=>{t.has(i)||n.push(new t$(i))}),n}Sa(t){this.Ia=t.Is,this.Ea=st();const n=this.Va(t.documents);return this.applyChanges(n,!0)}ba(){return Gh.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,0===this.Ta,this.hasCachedResults)}}class zge{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Gge{constructor(t){this.key=t,this.Da=!1}}class qge{constructor(t,n,i,r,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new fa(a=>hj(a),zg),this.Fa=new Map,this.Ma=new Set,this.xa=new bn(De.comparator),this.Oa=new Map,this.Na=new kI,this.La={},this.Ba=new Map,this.ka=uc.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return!0===this.qa}}function Wge(e,t){return CS.apply(this,arguments)}function CS(){return(CS=Se(function*(e,t,n=!0){const i=hb(e);let r;const o=i.va.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ba()):r=yield r$(i,t,n,!0),r})).apply(this,arguments)}function Zge(e,t){return ES.apply(this,arguments)}function ES(){return(ES=Se(function*(e,t){const n=hb(e);yield r$(n,t,!0,!1)})).apply(this,arguments)}function r$(e,t,n,i){return DS.apply(this,arguments)}function DS(){return(DS=Se(function*(e,t,n,i){const r=yield function Lh(e,t){const n=we(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.$r.getTargetData(i,t).next(o=>o?(r=o,Y.resolve(r)):n.$r.allocateTargetId(i).next(s=>(r=new ga(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ss.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ss=n.ss.insert(i.targetId,i),n.os.set(t,i.targetId)),i})}(e.localStore,ar(t)),o=r.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return i&&(a=yield function IS(e,t,n,i,r){return SS.apply(this,arguments)}(e,t,o,"current"===s,r.resumeToken)),e.isPrimaryClient&&n&&cb(e.remoteStore,r),a})).apply(this,arguments)}function SS(){return SS=Se(function*(e,t,n,i,r){e.Qa=(g,m,y)=>{return(T=Se(function*(C,S,D,F){let B=S.view.Va(D);B.ts&&(B=yield ob(C.localStore,S.query,!1).then(({documents:x})=>S.view.Va(x,B)));const W=F&&F.targetChanges.get(S.targetId),te=F&&null!=F.targetMismatches.get(S.targetId),O=S.view.applyChanges(B,C.isPrimaryClient,W,te);return VS(C,S.targetId,O.ya),O.snapshot}),function I(C,S,D,F){return T.apply(this,arguments)})(e,g,m,y);var T};const o=yield ob(e.localStore,t,!0),s=new i$(t,o.Is),a=s.Va(o.documents),l=Jg.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=s.applyChanges(a,e.isPrimaryClient,l);VS(e,n,c.ya);const h=new zge(t,n,s);return e.va.set(t,h),e.Fa.has(n)?e.Fa.get(n).push(t):e.Fa.set(n,[t]),c.snapshot}),SS.apply(this,arguments)}function Kge(e,t,n){return AS.apply(this,arguments)}function AS(){return(AS=Se(function*(e,t,n){const i=we(e),r=i.va.get(t),o=i.Fa.get(r.targetId);if(o.length>1)return i.Fa.set(r.targetId,o.filter(s=>!zg(s,t))),void i.va.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vh(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Uh(i.remoteStore,r.targetId),qh(i,r.targetId)}).catch(pu))):(qh(i,r.targetId),yield Vh(i.localStore,r.targetId,!0))})).apply(this,arguments)}function Yge(e,t){return xS.apply(this,arguments)}function xS(){return(xS=Se(function*(e,t){const n=we(e),i=n.va.get(t),r=n.Fa.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Uh(n.remoteStore,i.targetId))})).apply(this,arguments)}function MS(){return(MS=Se(function*(e,t,n){const i=function KS(e){const t=we(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xge.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eme.bind(null,t),t}(e);try{const r=yield function(s,a){const l=we(s),c=jn.now(),h=a.reduce((y,T)=>y.add(T.key),st());let g,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=qr(),I=st();return l.us.getEntries(y,h).next(C=>{T=C,T.forEach((S,D)=>{D.isValidDocument()||(I=I.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(C=>{g=C;const S=[];for(const D of a){const F=Tpe(D,g.get(D.key).overlayedDocument);null!=F&&S.push(new pa(D.key,F,Y3(F.value.mapValue),On.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,S,a)}).next(C=>{m=C;const S=C.applyToLocalDocumentSet(g,I);return l.documentOverlayCache.saveOverlays(y,C.batchId,S)})}).then(()=>({batchId:m.batchId,changes:mj(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.La[s.currentUser.toKey()];c||(c=new bn(Xe)),c=c.insert(a,l),s.La[s.currentUser.toKey()]=c}(i,r.batchId,n),yield ma(i,r.changes),yield jh(i.remoteStore)}catch(r){const o=$h(r,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function o$(e,t){return RS.apply(this,arguments)}function RS(){return(RS=Se(function*(e,t){const n=we(e);try{const i=yield function gge(e,t){const n=we(e),i=t.snapshotVersion;let r=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.us.newChangeBuffer({trackRemovals:!0});r=n.ss;const a=[];t.targetChanges.forEach((h,g)=>{const m=r.get(g);if(!m)return;a.push(n.$r.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.$r.addMatchingKeys(o,h.addedDocuments,g)));let y=m.withSequenceNumber(o.currentSequenceNumber);var I,C,S;null!==t.targetMismatches.get(g)?y=y.withResumeToken(ti.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(g,y),C=y,S=h,(0===(I=m).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.$r.updateTargetData(o,y))});let l=qr(),c=st();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(function OH(e,t,n){let i=st(),r=st();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let s=qr();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ve.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{hs:s,Ps:r}})}(o,s,t.documentUpdates).next(h=>{l=h.hs,c=h.Ps})),!i.isEqual(Ve.min())){const h=n.$r.getLastRemoteSnapshotVersion(o).next(g=>n.$r.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return Y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ss=r,o))}(n.localStore,t);t.targetChanges.forEach((r,o)=>{const s=n.Oa.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Da=!0:r.modifiedDocuments.size>0?Oe(s.Da):r.removedDocuments.size>0&&(Oe(s.Da),s.Da=!1))}),yield ma(n,i,t)}catch(i){yield pu(i)}})).apply(this,arguments)}function s$(e,t,n){const i=we(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const r=[];i.va.forEach((o,s)=>{const a=s.view.Y_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=we(s);l.onlineState=a;let c=!1;l.queries.forEach((h,g)=>{for(const m of g.z_)m.Y_(a)&&(c=!0)}),c&&bS(l)}(i.eventManager,t),r.length&&i.Ca.E_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Jge(e,t,n){return NS.apply(this,arguments)}function NS(){return(NS=Se(function*(e,t,n){const i=we(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Oa.get(t),o=r&&r.key;if(o){let s=new bn(De.comparator);s=s.insert(o,In.newNoDocument(o,Ve.min()));const a=st().add(o),l=new Qg(Ve.min(),new Map,new bn(Xe),s,a);yield o$(i,l),i.xa=i.xa.remove(o),i.Oa.delete(t),BS(i)}else yield Vh(i.localStore,t,!1).then(()=>qh(i,t,n)).catch(pu)})).apply(this,arguments)}function Xge(e,t){return PS.apply(this,arguments)}function PS(){return(PS=Se(function*(e,t){const n=we(e),i=t.batch.batchId;try{const r=yield function pge(e,t){const n=we(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=n.us.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const g=c.batch,m=g.keys();let y=Y.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(l,T)).next(I=>{const C=c.docVersions.get(T);Oe(null!==C),I.version.compareTo(C)<0&&(g.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=st();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}(n.localStore,t);LS(n,i,null),FS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield ma(n,r)}catch(r){yield pu(r)}})).apply(this,arguments)}function eme(e,t,n){return OS.apply(this,arguments)}function OS(){return(OS=Se(function*(e,t,n){const i=we(e);try{const r=yield function(s,a){const l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(g=>(Oe(null!==g),h=g.keys(),l.mutationQueue.removeMutationBatch(c,g))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,t);LS(i,t,n),FS(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),yield ma(i,r)}catch(r){yield pu(r)}})).apply(this,arguments)}function FS(e,t){(e.Ba.get(t)||[]).forEach(n=>{n.resolve()}),e.Ba.delete(t)}function LS(e,t,n){const i=we(e);let r=i.La[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(n?o.reject(n):o.resolve(),r=r.remove(t)),i.La[i.currentUser.toKey()]=r}}function qh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Fa.get(t))e.va.delete(i),n&&e.Ca.Ka(i,n);e.Fa.delete(t),e.isPrimaryClient&&e.Na.mr(t).forEach(i=>{e.Na.containsKey(i)||a$(e,i)})}function a$(e,t){e.Ma.delete(t.path.canonicalString());const n=e.xa.get(t);null!==n&&(Uh(e.remoteStore,n),e.xa=e.xa.remove(t),e.Oa.delete(n),BS(e))}function VS(e,t,n){for(const i of n)i instanceof t$?(e.Na.addReference(i.key,t),nme(e,i)):i instanceof n$?(de("SyncEngine","Document no longer in limbo: "+i.key),e.Na.removeReference(i.key,t),e.Na.containsKey(i.key)||a$(e,i.key)):Ne()}function nme(e,t){const n=t.key,i=n.path.canonicalString();e.xa.get(n)||e.Ma.has(i)||(de("SyncEngine","New document in limbo: "+n),e.Ma.add(i),BS(e))}function BS(e){for(;e.Ma.size>0&&e.xa.size<e.maxConcurrentLimboResolutions;){const t=e.Ma.values().next().value;e.Ma.delete(t);const n=new De(Ct.fromString(t)),i=e.ka.next();e.Oa.set(i,new Gge(n)),e.xa=e.xa.insert(n,i),cb(e.remoteStore,new ga(ar(Eh(n.path)),i,"TargetPurposeLimboResolution",po.oe))}}function ma(e,t,n){return US.apply(this,arguments)}function US(){return US=Se(function*(e,t,n){const i=we(e),r=[],o=[],s=[];var a;i.va.isEmpty()||(i.va.forEach((a,l)=>{s.push(i.Qa(l,t,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const g=c?!c.fromCache:null===(h=n?.targetChanges.get(l.targetId))||void 0===h?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(c){r.push(c);const g=UI.Ui(l.targetId,c);o.push(g)}}))}),yield Promise.all(s),i.Ca.E_(r),yield(a=Se(function*(c,h){const g=we(c);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Y.forEach(h,y=>Y.forEach(y.Ki,T=>g.persistence.referenceDelegate.addReference(m,y.targetId,T)).next(()=>Y.forEach(y.$i,T=>g.persistence.referenceDelegate.removeReference(m,y.targetId,T)))))}catch(m){if(!gu(m))throw m;de("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const T=g.ss.get(y),C=T.withLastLimboFreeSnapshotVersion(T.snapshotVersion);g.ss=g.ss.insert(y,C)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),US.apply(this,arguments)}function ime(e,t){return jS.apply(this,arguments)}function jS(){return(jS=Se(function*(e,t){const n=we(e);if(!n.currentUser.isEqual(t)){de("SyncEngine","User change. New user:",t.toKey());const i=yield NH(n.localStore,t);n.currentUser=t,(o=n).Ba.forEach(a=>{a.forEach(l=>{l.reject(new he(X.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ba.clear(),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ma(n,i.ls)}var o})).apply(this,arguments)}function rme(e,t){const n=we(e),i=n.Oa.get(t);if(i&&i.Da)return st().add(i.key);{let r=st();const o=n.Fa.get(t);if(!o)return r;for(const s of o){const a=n.va.get(s);r=r.unionWith(a.view.Ra)}return r}}function hb(e){const t=we(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=o$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rme.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jge.bind(null,t),t.Ca.E_=Uge.bind(null,t.eventManager),t.Ca.Ka=jge.bind(null,t.eventManager),t}class fb{constructor(){this.synchronizeTabs=!1}initialize(t){var n=this;return Se(function*(){n.serializer=um(t.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(t),n.persistence=n.createPersistence(t),yield n.persistence.start(),n.localStore=n.createLocalStore(t),n.gcScheduler=n.createGarbageCollectionScheduler(t,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(t,n.localStore)})()}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return function RH(e,t,n,i){return new fge(e,t,n,i)}(this.persistence,new MH,t.initialUser,this.serializer)}createPersistence(t){return new FI(nb.Yr,this.serializer)}createSharedClientState(t){return new UH}terminate(){var t=this;return Se(function*(){var n,i;null===(n=t.gcScheduler)||void 0===n||n.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Wh{initialize(t,n){var i=this;return Se(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(n),i.remoteStore=i.createRemoteStore(n),i.eventManager=i.createEventManager(n),i.syncEngine=i.createSyncEngine(n,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>s$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ime.bind(null,i.syncEngine),yield fS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Bge}createDatastore(t){const n=um(t.databaseInfo.databaseId),i=new Tge(t.databaseInfo);return new Dge(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=n=>s$(this.syncEngine,n,0),a=jH.D()?new jH:new vge,new Sge(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,n){return function(r,o,s,a,l,c,h){const g=new qge(r,o,s,a,l,c);return h&&(g.qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){var t=this;return Se(function*(){var n,i,r;yield(r=Se(function*(s){const a=we(s);de("RemoteStore","RemoteStore shutting down."),a.N_.add(5),yield Bh(a),a.B_.shutdown(),a.k_.set("Unknown")}),function o(s){return r.apply(this,arguments)})(t.remoteStore),null===(n=t.datastore)||void 0===n||n.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}class pb{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Wa(this.observer.next,t)}error(t){this.observer.error?this.Wa(this.observer.error,t):ai("Uncaught Error in snapshot listener:",t.toString())}Ga(){this.muted=!0}Wa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}class _me{constructor(t,n,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ni.UNAUTHENTICATED,this.clientId=E3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=Se(function*(a){de("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const n=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Se(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),n.resolve()}catch(i){const r=$h(i,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function gb(e,t){return YS.apply(this,arguments)}function YS(){return YS=Se(function*(e,t){e.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;yield t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(function(){var r=Se(function*(o){i.isEqual(o)||(yield NH(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}),YS.apply(this,arguments)}function QS(e,t){return JS.apply(this,arguments)}function JS(){return(JS=Se(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield function XS(e){return eA.apply(this,arguments)}(e);de("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>KH(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>KH(t.remoteStore,r)),e._onlineComponents=t})).apply(this,arguments)}function eA(){return(eA=Se(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function f$(e){return"FirebaseError"===e.name?e.code===X.FAILED_PRECONDITION||e.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),yield gb(e,new fb)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield gb(e,new fb);return e._offlineComponents})).apply(this,arguments)}function mb(e){return tA.apply(this,arguments)}function tA(){return(tA=Se(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield QS(e,e._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield QS(e,new Wh))),e._onlineComponents})).apply(this,arguments)}function iA(){return(iA=Se(function*(e){const t=yield mb(e),n=t.eventManager;return n.onListen=Wge.bind(null,t.syncEngine),n.onUnlisten=Kge.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Zge.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yge.bind(null,t.syncEngine),n})).apply(this,arguments)}function _$(e,t,n={}){const i=new wi;return e.asyncQueue.enqueueAndForget(Se(function*(){return function(o,s,a,l,c){const h=new pb({next:m=>{s.enqueueAndForget(()=>function yS(e,t){return vS.apply(this,arguments)}(o,g));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&"server"===l.source?c.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new TS(Eh(a.path),h,{includeMetadataChanges:!0,oa:!0});return function mS(e,t){return _S.apply(this,arguments)}(o,g)}(yield function Kh(e){return iA.apply(this,arguments)}(e),e.asyncQueue,t,n,i)})),i.promise}function v$(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const b$=new Map;function w$(e){if(!De.isDocumentKey(e))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _b(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=(i=e).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof e?"a function":Ne()}function _t(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_b(e);throw new he(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class E${constructor(t){var n,i;if(void 0===t.host){if(void 0!==t.ssl)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function xme(e,t,n,i){if(!0===t&&!0===i)throw new he(X.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=v$(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cm{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E$(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new bfe;switch(i.type){case"firstParty":return new Efe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=b$.get(n);i&&(de("ComponentProvider","Removing Datastore"),b$.delete(n),i.terminate())}(this),Promise.resolve()}}class Wi{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Wi(this.firestore,t,this._query)}}class li{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new li(this.firestore,t,this._key)}}class Is extends Wi{constructor(t,n,i){super(t,n,Eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new li(this.firestore,null,new De(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function oA(e,t,...n){if(e=I0(e),1===arguments.length&&(t=E3.newId()),function rA(e,t,n){if(!n)throw new he(X.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}("doc","path",t),e instanceof cm){const i=Ct.fromString(t,...n);return w$(i),new li(e,null,new De(i))}{if(!(e instanceof li||e instanceof Is))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ct.fromString(t,...n));return w$(i),new li(e.firestore,e instanceof Is?e.converter:null,new De(i))}}class Rme{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new YI(this,"async_queue_retry"),this.Tu=()=>{const n=lb();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const t=lb();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Eu(),this.du(t)}enterRestrictedMode(t){if(!this.uu){this.uu=!0,this.Pu=t||!1;const n=lb();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(t){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new wi;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.au.push(t),this.Au()))}Au(){var t=this;return Se(function*(){if(0!==t.au.length){try{yield t.au[0](),t.au.shift(),t.e_.reset()}catch(n){if(!gu(n))throw n;de("AsyncQueue","Operation failed with retryable error: "+n)}t.au.length>0&&t.e_.Wo(()=>t.Au())}})()}du(t){const n=this._u.then(()=>(this.hu=!0,t().catch(i=>{throw this.lu=i,this.hu=!1,ai("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.hu=!1,i))));return this._u=n,n}enqueueAfterDelay(t,n,i){this.Eu(),this.Iu.indexOf(t)>-1&&(n=0);const r=gS.createAndSchedule(this,t,n,i,o=>this.Ru(o));return this.cu.push(r),r}Eu(){this.lu&&Ne()}verifyOperationInProgress(){}Vu(){var t=this;return Se(function*(){let n;do{n=t._u,yield n}while(n!==t._u)})()}mu(t){for(const n of this.cu)if(n.timerId===t)return!0;return!1}fu(t){return this.Vu().then(()=>{this.cu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),"all"!==t&&n.timerId===t)break;return this.Vu()})}gu(t){this.Iu.push(t)}Ru(t){const n=this.cu.indexOf(t);this.cu.splice(n,1)}}class un extends cm{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new Rme,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||I$(this),this._firestoreClient.terminate()}}function Pme(e,t){const n="object"==typeof e?e:function afe(e=A0){const t=ql.get(e);if(!t&&e===A0&&qU())return s3();if(!t)throw Po.create("no-app",{appName:e});return t}(),i="string"==typeof e?e:t||"(default)",r=function o3(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=E0())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]})("firestore");o&&function Mme(e,t,n,i={}){var r;const o=(e=_t(e,cm))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Ni.MOCK_USER;else{a=function Wde(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[C0(JSON.stringify({alg:"none",type:"JWT"})),C0(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ni(c)}e._authCredentials=new wfe(new T3(a,l))}}(r,...o)}return r}function Hn(e){return e._firestoreClient||I$(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function I$(e){var t,n,i;const r=e._freezeSettings(),o=(l=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new tpe(e._databaseId,l,e._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,v$(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;e._firestoreClient=new _me(e._authCredentials,e._appCheckCredentials,e._queue,o),null!==(n=r.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class cc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cc(ti.fromBase64String(t))}catch(n){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cc(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Yh{constructor(...t){for(let n=0;n<t.length;++n)if(0===t[n].length)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class x${constructor(t){this._methodName=t}}class aA{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xe(this._lat,t._lat)||Xe(this._long,t._long)}}const kme=/^__.*__$/;class Fme{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return null!==this.fieldMask?new pa(t,this.data,this.fieldMask,n,this.fieldTransforms):new xh(t,this.data,n,this.fieldTransforms)}}function R$(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class yb{constructor(t,n,i,r,o,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(t){return new yb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(t){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(t),r=this.wu({path:i,bu:!1});return r.Du(t),r}Cu(t){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(t),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(t){return this.wu({path:void 0,bu:!0})}Fu(t){return bb(t,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(t){return void 0!==this.fieldMask.find(n=>t.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>t.isPrefixOf(n.field))}pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Du(this.path.get(t))}Du(t){if(0===t.length)throw this.Fu("Document fields must not be empty");if(R$(this.yu)&&kme.test(t))throw this.Fu('Document fields cannot begin and end with "__"')}}class Lme{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||um(t)}Ou(t,n,i,r=!1){return new yb({yu:t,methodName:n,xu:i,path:Pn.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(e){const t=e._freezeSettings(),n=um(e._databaseId);return new Lme(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uA(e,t,n,i,r,o={}){const s=e.Ou(o.merge||o.mergeFields?2:0,t,n,r);fA("Data must be an object, but it was:",s,i);const a=F$(i,s);let l,c;if(o.merge)l=new Gr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const m=fm(t,g,n);if(!s.contains(m))throw new he(X.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);V$(h,m)||h.push(m)}l=new Gr(h),c=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,c=s.fieldTransforms;return new Fme(new qi(a),l,c)}function dc(e,t){if(L$(e=I0(e)))return fA("Unsupported field value:",t,e),F$(e,t);if(e instanceof x$)return function(i,r){if(!R$(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.bu&&4!==t.yu)throw t.Fu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=dc(a,r.vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(i,r){if(null===(i=I0(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return bj(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=jn.fromDate(i);return{timestampValue:Rh(r.serializer,o)}}if(i instanceof jn){const o=new jn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rh(r.serializer,o)}}if(i instanceof aA)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cc)return{bytesValue:Hj(r.serializer,i._byteString)};if(i instanceof li){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:EI(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${_b(i)}`)}(e,t)}function F$(e,t){const n={};return j3(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mu(e,(i,r)=>{const o=dc(r,t.Su(i));null!=o&&(n[i]=o)}),{mapValue:{fields:n}}}function L$(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jn||e instanceof aA||e instanceof cc||e instanceof li||e instanceof x$)}function fA(e,t,n){if(!L$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=_b(n);throw t.Fu("an object"===i?e+" a custom object":e+" "+i)}var r}function fm(e,t,n){if((t=I0(t))instanceof Yh)return t._internalPath;if("string"==typeof t)return vb(e,t);throw bb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Vme=new RegExp("[~\\*/\\[\\]]");function vb(e,t,n){if(t.search(Vme)>=0)throw bb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Yh(...t.split("."))._internalPath}catch{throw bb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bb(e,t,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new he(X.INVALID_ARGUMENT,a+e+l)}function V$(e,t){return e.some(n=>n.isEqual(t))}class pA{constructor(t,n,i,r,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Bme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Bme extends pA{data(){return super.data()}}function wb(e,t){return"string"==typeof t?vb(e,t):t instanceof Yh?t._internalPath:t._delegate._internalPath}class jme{convertValue(t,n="none"){switch(yu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ni(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ne()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return mu(t,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(t){return new aA(ni(t.latitude),ni(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=F0(t);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vg(t));default:return null}}convertTimestamp(t){const n=ca(t);return new jn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ct.fromString(t);Oe(eH(i));const r=new Jl(i.get(1),i.get(3)),o=new De(i.popFirst(5));return r.isEqual(n)||ai(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xh extends pA{constructor(t,n,i,r,o,s){super(t,n,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(wb("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Db extends Xh{data(t={}){return super.data(t)}}class Su extends jme{constructor(t){super(),this.firestore=t}convertBytes(t){return new cc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new li(this.firestore,null,n)}}function gm(e,t){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget(Se(function*(){return function Qge(e,t,n){return MS.apply(this,arguments)}(yield function nA(e){return mb(e).then(t=>t.syncEngine)}(i),r,o)})),o.promise}(Hn(e),t)}!function(t,n=!0){mh="10.12.5",x0(new xg("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new un(new Tfe(i.getProvider("auth-internal")),new Dfe(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Wl(w3,"4.6.5",t),Wl(w3,"4.6.5","esm2017")}();const r_e={apiKey:"AIzaSyAB6s5nxloM8jX6Hn_H20BaAyscZ5mnl64",authDomain:"charts-e32e0.firebaseapp.com",projectId:"charts-e32e0",storageBucket:"charts-e32e0.appspot.com",messagingSenderId:"371199598163",appId:"1:371199598163:web:45f04a6c7a16dd71f170a6",databaseURL:"https://charts-e32e0.firebaseio.com"};let o_e=(()=>{class e{constructor(n,i){this.store=n,this.router=i}initFirebase(){this.app=s3(r_e),this.db=Pme(this.app)}addClient(n,i){var r=this;return Se(function*(){!r.app&&!r.db&&r.initFirebase();try{yield function Gme(e,t,n){e=_t(e,li);const i=_t(e.firestore,un),r=function mA(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}(e.converter,t,n);return gm(i,[uA(Qh(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,On.none())])}(oA(r.db,"users",n),i),console.log("Users data added successfully!")}catch(o){console.error("Error adding user data: ",o)}})()}getClientData(n){var i=this;return Se(function*(){if(i.data&&i.data.cliendId===n)i.router.navigate(["/visualize"]);else{!i.app&&!i.db&&i.initFirebase();try{const r=oA(i.db,"users",n),o=yield function zme(e){e=_t(e,li);const t=_t(e.firestore,un);return _$(Hn(t),e._key).then(n=>function _A(e,t,n){const i=n.docs.get(t._key),r=new Su(e);return new Xh(e,r,t._key,i,new hc(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n))}(r);o.exists()?(i.data={cliendId:n,data:o.data()},i.store.dispatch(pB({csvData:i.data.data})),i.router.navigate(["/visualize"])):console.log("No such document!")}catch(r){console.error("Error retrieving user data: ",r)}}})()}static#e=this.\u0275fac=function(i){return new(i||e)(le(uu),le(Hr))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const s_e=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:qoe,pathMatch:"full"},{path:"visualize",component:Ode},{path:"userselection",component:(()=>{class e{constructor(n){this.firebaseService=n}ngOnInit(){this.form=new hs({user:new rt("",{validators:[Js.required]})})}getFirebaseData(){const n={...this.form.value};this.firebaseService.getClientData(n.user)}static#e=this.\u0275fac=function(i){return new(i||e)(H(o_e))};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-user-selection"]],decls:13,vars:2,consts:[[1,"row","d-flex","align-items-center","justify-content-center",2,"height","500px"],[1,"d-flex","justify-content-center","align-items-center"],[1,"cols-xs-3","col-md-3","col-md-offset-3"],[1,"form-group",3,"formGroup"],[1,"m-2"],["for","user",1,"m-2"],["type","text","id","yScale","placeholder","Enter User","formControlName","user",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center","m-2"],["type","button",1,"btn","btn-primary","ms-2",3,"disabled","click"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1)(2,"span"),re(3,"This login is for those companies who gave their data to visulaize on this project"),U()(),z(4,"div",2)(5,"form",3)(6,"div",4)(7,"label",5),re(8,"User"),U(),Ge(9,"input",6),U(),z(10,"div",7)(11,"button",8),We("click",function(){return r.getFirebaseData()}),re(12,"Get My Data"),U()()()()()),2&i&&(G(5),$("formGroup",r.form),G(6),$("disabled",!r.form.valid))},dependencies:[ea,Qs,ru,Xs,fs,ta]})}return e})()}];let a_e=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e});static#n=this.\u0275inj=wt({imports:[dB.forRoot(s_e,{useHash:!0}),dB]})}return e})();function u_e(e,t){if(1&e){const n=di();z(0,"div")(1,"button",4),We("click",function(){return Yn(n),Qn(Ae().loginUser())}),re(2,"User Login"),U()()}}function l_e(e,t){1&e&&(z(0,"div")(1,"button",5),re(2,"Home"),U()())}function c_e(e,t){if(1&e){const n=di();z(0,"div")(1,"form",6)(2,"input",7),We("change",function(r){return Yn(n),Qn(Ae().onAddData(r))}),U()()()}}function d_e(e,t){if(1&e){const n=di();z(0,"div")(1,"button",8),We("click",function(){return Yn(n),Qn(Ae().scrollToLast())}),re(2,"Contact Me"),U()()}}let h_e=(()=>{class e{constructor(n,i){this.router=n,this.store=i,this.visualizeMode="home"}ngOnInit(){this.router.events.subscribe(n=>{n instanceof rg&&(this.visualizeMode="/visualize"===n.url?"visualize":"/userselection"===n.url?"userselection":"home")})}loginUser(){}scrollToLast(){const n=document.querySelector("footer");n&&n.scrollIntoView({behavior:"smooth"})}saveData(n){this.store.dispatch(fB({csvData:n}))}parseCSV(n,i){let r=(n=n.replace("\r","")).split("\n"),o=r[0].split(","),s=[];var a=[];return r.slice(1).forEach(l=>{if(l.length>0){let c=l.split(","),h={};o.forEach((g,m)=>{h[g]=c[m]}),a.push(h)}}),o.forEach(l=>{s.push({key:l,value:l})}),{id:Math.floor(1e10*Math.random()).toString(),charts:[],data:a,headers:s,name:i}}onAddData(n){const i=n.target.files[0];if(i){var r=new FileReader;r.onload=o=>{const s=o?.target?.result,a=this.parseCSV(s,i.name.split(".")[0]);console.log(a),this.saveData(a),n.target.value=""},r.onerror=function(o){console.log("Error in reading file ",o)},r.readAsText(i)}else console.log("Uable to read file..")}static#e=this.\u0275fac=function(i){return new(i||e)(H(Hr),H(uu))};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-header"]],decls:9,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-light","head-conatiner"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],[4,"ngIf"],["routerLink","/userselection",1,"btn","btn-tertiary","text-nowrap",3,"click"],["routerLink","/home",1,"btn","btn-tertiary","text-nowrap"],["enctype","multipart/form-data",1,"d-flex"],["type","file","aria-label","Search","accept",".csv",1,"form-control","me-2",3,"change"],[1,"btn","btn-tertiary","text-nowrap",3,"click"]],template:function(i,r){1&i&&(z(0,"nav",0)(1,"div",1)(2,"a",2)(3,"h2"),re(4,"Data Visualization"),U()()(),fe(5,u_e,3,0,"div",3),fe(6,l_e,3,0,"div",3),fe(7,c_e,3,0,"div",3),fe(8,d_e,3,0,"div",3),U()),2&i&&(G(5),$("ngIf","userselection"!==r.visualizeMode),G(1),$("ngIf","userselection"===r.visualizeMode),G(1),$("ngIf","visualize"===r.visualizeMode),G(1),$("ngIf","home"===r.visualizeMode))},dependencies:[Ir,fg,ea,Xs,nv],styles:[".head-conatiner[_ngcontent-%COMP%]{position:fixed;z-index:9;width:100%;height:56px}"]})}return e})(),f_e=(()=>{class e{constructor(){this.title="data-visualization"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=zt({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"main"],[2,"position","absolute","height","56px","width","100%","background-color","#5676eb94"]],template:function(i,r){1&i&&(z(0,"div",0),Ge(1,"app-header",1)(2,"router-outlet"),U())},dependencies:[JE,h_e],styles:[".main[_ngcontent-%COMP%]{padding:0;margin:0;height:100vh;width:100vw}"]})}return e})();const p_e=function Cie(e,...t){const n=new Map;for(const i of t)for(const r of i.types){const o=n.get(r);n.set(r,o?(a,l)=>i.reducer(o(a,l),l):i.reducer)}return function(i=e,r){const o=n.get(r.type);return o?o(i,r):i}}([{id:"9876543210",data:[{Level:"India",Name:"India",TRU:"Total",Population:"17"},{Level:"India",Name:"JAMMU & KASHMIR",TRU:"Rural",Population:"14"},{Level:"India",Name:"HIMACHAL PRADESH",TRU:"Urban",Population:"10"},{Level:"STATE",Name:"PUNJAB",TRU:"Total",Population:"19"},{Level:"STATE",Name:"CHANDIGARH",TRU:"Rural",Population:"10"},{Level:"STATE",Name:"UTTARAKHAND",TRU:"Urban",Population:"17"},{Level:"STATE",Name:"HARYANA",TRU:"Total",Population:"16"},{Level:"STATE",Name:"NCT OF DELHI",TRU:"Rural",Population:"12"},{Level:"STATE",Name:"RAJASTHAN",TRU:"Urban",Population:"20"},{Level:"STATE",Name:"UTTAR PRADESH",TRU:"Total",Population:"19"},{Level:"STATE",Name:"BIHAR",TRU:"Rural",Population:"12"},{Level:"STATE",Name:"SIKKIM",TRU:"Urban",Population:"13"},{Level:"STATE",Name:"ARUNACHAL PRADESH",TRU:"Total",Population:"16"},{Level:"STATE",Name:"NAGALAND",TRU:"Rural",Population:"17"},{Level:"STATE",Name:"MANIPUR",TRU:"Urban",Population:"18"},{Level:"STATE",Name:"MIZORAM",TRU:"Total",Population:"16"},{Level:"STATE",Name:"TRIPURA",TRU:"Rural",Population:"13"},{Level:"STATE",Name:"MEGHALAYA",TRU:"Urban",Population:"15"},{Level:"STATE",Name:"ASSAM",TRU:"Total",Population:"20"},{Level:"STATE",Name:"WEST BENGAL",TRU:"Rural",Population:"20"},{Level:"STATE",Name:"JHARKHAND",TRU:"Urban",Population:"13"},{Level:"STATE",Name:"ODISHA",TRU:"Total",Population:"14"},{Level:"STATE",Name:"CHHATTISGARH",TRU:"Rural",Population:"18"},{Level:"STATE",Name:"MADHYA PRADESH",TRU:"Urban",Population:"14"},{Level:"STATE",Name:"GUJARAT",TRU:"Total",Population:"11"},{Level:"STATE",Name:"DAMAN & DIU",TRU:"Rural",Population:"16"},{Level:"STATE",Name:"DADRA & NAGAR HAVELI",TRU:"Urban",Population:"12"},{Level:"STATE",Name:"MAHARASHTRA",TRU:"Total",Population:"14"},{Level:"STATE",Name:"ANDHRA PRADESH",TRU:"Rural",Population:"20"},{Level:"STATE",Name:"KARNATAKA",TRU:"Urban",Population:"15"},{Level:"STATE",Name:"GOA",TRU:"Total",Population:"16"},{Level:"STATE",Name:"LAKSHADWEEP",TRU:"Rural",Population:"16"},{Level:"STATE",Name:"KERALA",TRU:"Urban",Population:"15"},{Level:"STATE",Name:"TAMIL NADU",TRU:"Total",Population:"12"},{Level:"STATE",Name:"PUDUCHERRY",TRU:"Rural",Population:"20"},{Level:"STATE",Name:"ANDAMAN & NICOBAR ISLANDS",TRU:"Urban",Population:"17"}],headers:[{key:"Level",value:"Level"},{key:"Name",value:"Name"},{key:"TRU",value:"TRU"},{key:"Population",value:"Population"}],name:"Charts Demo",charts:[{type:"Bar",xAxis:"Name",yAxis:"Population",height:400,width:1560,yScale:25},{type:"MultiBar",height:500,width:1500,xAxis:"TRU",yAxis:"Population",groupBy:"Level"},{type:"Pie",xAxis:"TRU",yAxis:"Population",height:500,width:450,radius:220,fontsize:20},{type:"Line",xAxis:"Population",yAxis:"Population",height:400,width:1560}]},{data:[{State:"Karnataka",City:"Nanjangud Mysore",Latitude:"12.12",Longitude:"76.68"},{State:"Rajasthan",City:"Chittorgarh",Latitude:"24.879999",Longitude:"74.629997"},{State:"Maharashtra",City:"Ratnagiri",Latitude:"16.994444",Longitude:"73.300003"},{State:"Maharashtra",City:"Goregaon Mumbai",Latitude:"19.155001",Longitude:"72.849998"},{State:"Rajasthan",City:"Pindwara",Latitude:"24.7945",Longitude:"73.055"},{State:"Chhattisgarh",City:"Raipur",Latitude:"21.25",Longitude:"81.629997"},{State:"Karnataka",City:"Gokak",Latitude:"16.1667",Longitude:"74.833298"},{State:"Uttar Pradesh",City:"Lucknow",Latitude:"26.85",Longitude:"80.949997"},{State:"Delhi",City:"Delhi",Latitude:"28.679079",Longitude:"77.06971"},{State:"Maharashtra",City:"Mumbai",Latitude:"19.07609",Longitude:"72.877426"},{State:"Karnataka",City:"Sagar",Latitude:"14.16704",Longitude:"75.040298"},{State:"West Bengal",City:"Jalpaiguri",Latitude:"26.540457",Longitude:"88.719391"},{State:"Jharkhand",City:"Pakur",Latitude:"24.633568",Longitude:"87.849251"},{State:"Rajasthan",City:"Sardarshahar",Latitude:"28.440554",Longitude:"74.493011"},{State:"Rajasthan",City:"Sirohi",Latitude:"24.882618",Longitude:"72.858894"},{State:"Maharashtra",City:"Jaysingpur",Latitude:"16.779877",Longitude:"74.556374"},{State:"Karnataka",City:"Ramanagara",Latitude:"12.715035",Longitude:"77.281296"},{State:"Karnataka",City:"Chikkaballapura",Latitude:"13.432515",Longitude:"77.727478"},{State:"Karnataka",City:"Channapatna",Latitude:"12.651805",Longitude:"77.208946"},{State:"Gujarat",City:"Surendranagar",Latitude:"22.728392",Longitude:"71.637077"},{State:"Kerala",City:"Thiruvalla",Latitude:"9.383452",Longitude:"76.574059"},{State:"Karnataka",City:"Ranebennur",Latitude:"14.623801",Longitude:"75.621788"},{State:"Puducherry",City:"Karaikal",Latitude:"10.92544",Longitude:"79.838005"},{State:"Karnataka",City:"Belgaum",Latitude:"15.852792",Longitude:"74.498703"},{State:"Odisha",City:"Chatrapur",Latitude:"19.354979",Longitude:"84.986732"},{State:"West Bengal",City:"Suri",Latitude:"23.905445",Longitude:"87.52462"},{State:"Odisha",City:"Bhubaneswar",Latitude:"20.296059",Longitude:"85.824539"},{State:"Gujarat",City:"Mahuva",Latitude:"21.105001",Longitude:"71.771645"},{State:"Haryana",City:"Jagadhri",Latitude:"30.172716",Longitude:"77.299492"},{State:"Bihar",City:"Barh",Latitude:"25.477585",Longitude:"85.709091"},{State:"Maharashtra",City:"Bhusawal",Latitude:"21.045521",Longitude:"75.801094"},{State:"West Bengal",City:"Alipurduar",Latitude:"26.49189",Longitude:"89.5271"},{State:"Kerala",City:"Kollam",Latitude:"8.893212",Longitude:"76.614143"},{State:"West Bengal",City:"Medinipur",Latitude:"22.430889",Longitude:"87.321487"},{State:"Gujarat",City:"Patan",Latitude:"23.849325",Longitude:"72.126625"},{State:"Tamil Nadu",City:"Mettur",Latitude:"11.786253",Longitude:"77.800781"},{State:"Karnataka",City:"Huliyar",Latitude:"13.583274",Longitude:"76.540154"},{State:"Karnataka",City:"Harihar",Latitude:"14.530457",Longitude:"75.801094"},{State:"Maharashtra",City:"Rasayani",Latitude:"18.901457",Longitude:"73.176132"},{State:"West Bengal",City:"Haringhata",Latitude:"22.96051",Longitude:"88.567406"},{State:"Karnataka",City:"Kushtagi",Latitude:"15.756595",Longitude:"76.192696"},{State:"Jharkhand",City:"Jadugora",Latitude:"22.656015",Longitude:"86.352882"},{State:"Uttar Pradesh",City:"Orai",Latitude:"25.989836",Longitude:"79.450035"},{State:"Chhattisgarh",City:"Surajpur",Latitude:"23.223047",Longitude:"82.87056"},{State:"Maharashtra",City:"Ambernath",Latitude:"19.186354",Longitude:"73.191948"},{State:"Punjab",City:"Malerkotla",Latitude:"30.525005",Longitude:"75.890121"},{State:"Jharkhand",City:"Jorapokhar",Latitude:"22.422455",Longitude:"85.760651"},{State:"Andhra Pradesh",City:"Vizianagaram",Latitude:"18.106659",Longitude:"83.395554"},{State:"Chhattisgarh",City:"Durg",Latitude:"21.190449",Longitude:"81.28492"},{State:"Gujarat",City:"Himmatnagar",Latitude:"23.597969",Longitude:"72.969818"},{State:"Uttar Pradesh",City:"Sambhal",Latitude:"28.590361",Longitude:"78.571762"},{State:"Bihar",City:"Harnaut",Latitude:"25.369179",Longitude:"85.53006"},{State:"Andaman and Nicobar Islands",City:"Port Blair",Latitude:"11.623377",Longitude:"92.726486"},{State:"West Bengal",City:"Suti",Latitude:"24.618393",Longitude:"88.024338"},{State:"Rajasthan",City:"Banswara",Latitude:"23.546757",Longitude:"74.43383"},{State:"West Bengal",City:"Manikchak",Latitude:"25.077787",Longitude:"87.900375"},{State:"Uttarakhand",City:"Roorkee",Latitude:"29.854263",Longitude:"77.888"},{State:"Andhra Pradesh",City:"Kavali",Latitude:"14.913181",Longitude:"79.992981"},{State:"Andhra Pradesh",City:"Dharmavaram",Latitude:"14.413745",Longitude:"77.712616"},{State:"Telangana",City:"Siddipet",Latitude:"18.101904",Longitude:"78.852074"},{State:"Madhya Pradesh",City:"Dhanpuri",Latitude:"23.173939",Longitude:"81.565125"},{State:"Andhra Pradesh",City:"Chirala",Latitude:"15.812074",Longitude:"80.355377"},{State:"Andhra Pradesh",City:"Markapur",Latitude:"15.764501",Longitude:"79.259491"},{State:"Kerala",City:"Chalakudy",Latitude:"10.311879",Longitude:"76.331978"},{State:"Gujarat",City:"Gondal",Latitude:"21.961946",Longitude:"70.792297"},{State:"Andhra Pradesh",City:"Bhimavaram",Latitude:"16.544893",Longitude:"81.52124"},{State:"Maharashtra",City:"Jalgaon Jamod",Latitude:"21.04954",Longitude:"76.532028"},{State:"Guwahati Assam",City:"Paltan Bazaar",Latitude:"26.182245",Longitude:"91.754723"},{State:"Haryana",City:"Hodal",Latitude:"27.897551",Longitude:"77.384117"},{State:"Maharashtra",City:"Ausa",Latitude:"18.245655",Longitude:"76.505356"},{State:"Madhya Pradesh",City:"Mahidpur",Latitude:"23.486839",Longitude:"75.659157"},{State:"Punjab",City:"Gurdaspur",Latitude:"32.041943",Longitude:"75.405334"},{State:"Jharkhand",City:"Domchanch",Latitude:"24.47438",Longitude:"85.688744"},{State:"West Bengal",City:"Barjora",Latitude:"23.427221",Longitude:"87.287018"},{State:"Paithen Maharashtra",City:"Saint Dnyaneshwar Garden and Paithan park",Latitude:"19.487707",Longitude:"75.380768"},{State:"Maharashtra",City:"Sinnar",Latitude:"19.85306",Longitude:"74.000633"},{State:"Andhra Pradesh",City:"Guntakal",Latitude:"15.167409",Longitude:"77.373627"},{State:"West Bengal",City:"Lalgola",Latitude:"24.417534",Longitude:"88.250343"},{State:"Madhya Pradesh",City:"Hoshangabad",Latitude:"22.744108",Longitude:"77.736969"},{State:"Andhra Pradesh",City:"Proddatur",Latitude:"14.752805",Longitude:"78.552757"},{State:"Durgapur",City:"RL Infotechh & Solutions",Latitude:"23.520399",Longitude:"87.311897"},{State:"Rajasthan",City:"Pali",Latitude:"25.771315",Longitude:"73.323685"},{State:"Haryana",City:"Palwal",Latitude:"28.148735",Longitude:"77.332024"},{State:"Haryana",City:"Gohana",Latitude:"29.138407",Longitude:"76.693245"},{State:"Bihar",City:"Munger",Latitude:"25.37571",Longitude:"86.474373"},{State:"Maharashtra",City:"Yavatmal",Latitude:"20.388794",Longitude:"78.120407"},{State:"Jharkhand",City:"Bokaro Steel City",Latitude:"23.669296",Longitude:"86.151115"},{State:"Gujarat",City:"Jetpur",Latitude:"21.761524",Longitude:"70.627625"},{State:"West Bengal",City:"Basirhat",Latitude:"22.657402",Longitude:"88.86718"},{State:"West Bengal",City:"Konnagar Mirpur",Latitude:"22.700474",Longitude:"88.319069"},{State:"Jharkhand",City:"Ranchi",Latitude:"23.344315",Longitude:"85.296013"},{State:"Andhra Pradesh",City:"Gudur",Latitude:"14.146319",Longitude:"79.850388"},{State:"Uttar Pradesh",City:"Gola Gokarannath",Latitude:"28.078636",Longitude:"80.471588"},{State:"Uttar Pradesh",City:"Shikohabad",Latitude:"27.108416",Longitude:"78.584602"},{State:"Tamil Nadu",City:"Tirumangalam",Latitude:"9.823619",Longitude:"77.986565"},{State:"Tamil Nadu",City:"Anakaputhur Sriperumbudur",Latitude:"12.946366",Longitude:"79.959244"},{State:"Telangana",City:"Suryapet",Latitude:"17.143908",Longitude:"79.623924"},{State:"Karnataka",City:"Udupi",Latitude:"13.340881",Longitude:"74.742142"}],headers:[{key:"State",value:"State"},{key:"City",value:"City"},{key:"Latitude",value:"Latitude"},{key:"Longitude",value:"Longitude"}],name:"Map Demo",id:"8221465295",charts:[{latitude:"Latitude",longitude:"Longitude",label:"City",type:"Map"}]}],Iv(fB,(e,t)=>{let n=[...e];return n.push(t.csvData),[...n]}),Iv(gB,(e,t)=>{let n=JSON.parse(JSON.stringify(e));return n&&n.forEach(i=>{i.id===t.id&&(void 0===i.charts&&(i.charts=[]),i.charts.push(t.property))}),[...n]}),Iv(mB,(e,t)=>{let n=[...e];return n=n.filter(i=>i.id!==t.id),[...n]}),Iv(pB,(e,t)=>{let n=[...e];return n.push(...t.csvData.data),[...n]}));let g_e=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Rt({type:e,bootstrap:[f_e]});static#n=this.\u0275inj=wt({imports:[_Y,a_e,wL,_E,DQ,EQ,Tie.forRoot({chartData:p_e})]})}return e})();gY().bootstrapModule(g_e).catch(e=>console.error(e))},433:function(va,Ou){!function(ve){"use strict";function mt(u){var d,p,_,b;for(p=1,_=arguments.length;p<_;p++)for(d in b=arguments[p])u[d]=b[d];return u}var Oo=Object.create||function(){function u(){}return function(d){return u.prototype=d,new u}}();function jt(u,d){var p=Array.prototype.slice;if(u.bind)return u.bind.apply(u,p.call(arguments,1));var _=p.call(arguments,2);return function(){return u.apply(d,_.length?_.concat(p.call(arguments)):arguments)}}var zn=0;function bt(u){return"_leaflet_id"in u||(u._leaflet_id=++zn),u._leaflet_id}function ku(u,d,p){var _,b,E,R;return R=function(){_=!1,b&&(E.apply(p,b),b=!1)},E=function(){_?b=arguments:(u.apply(p,arguments),setTimeout(R,d),_=!0)},E}function As(u,d,p){var _=d[1],b=d[0],E=_-b;return u===_&&p?u:((u-b)%E+E)%E+b}function Ht(){return!1}function ki(u,d){if(!1===d)return u;var p=Math.pow(10,void 0===d?6:d);return Math.round(u*p)/p}function ba(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function fr(u){return ba(u).split(/\s+/)}function rn(u,d){for(var p in Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?Oo(u.options):{}),d)u.options[p]=d[p];return u.options}function bc(u,d,p){var _=[];for(var b in u)_.push(encodeURIComponent(p?b.toUpperCase():b)+"="+encodeURIComponent(u[b]));return(d&&-1!==d.indexOf("?")?"&":"?")+_.join("&")}var xs=/\{ *([\w_ -]+) *\}/g;function wa(u,d){return u.replace(xs,function(p,_){var b=d[_];if(void 0===b)throw new Error("No value provided for variable "+p);return"function"==typeof b&&(b=b(d)),b})}var Gn=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};function ko(u,d){for(var p=0;p<u.length;p++)if(u[p]===d)return p;return-1}var Ms="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Xo(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var Ta=0;function pr(u){var d=+new Date,p=Math.max(0,16-(d-Ta));return Ta=d+p,window.setTimeout(u,p)}var Ca=window.requestAnimationFrame||Xo("RequestAnimationFrame")||pr,es=window.cancelAnimationFrame||Xo("CancelAnimationFrame")||Xo("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function kn(u,d,p){if(!p||Ca!==pr)return Ca.call(window,jt(u,d));u.call(d)}function Ki(u){u&&es.call(window,u)}var Fu={__proto__:null,extend:mt,create:Oo,bind:jt,get lastId(){return zn},stamp:bt,throttle:ku,wrapNum:As,falseFn:Ht,formatNum:ki,trim:ba,splitWords:fr,setOptions:rn,getParamString:bc,template:wa,isArray:Gn,indexOf:ko,emptyImageUrl:Ms,requestFn:Ca,cancelFn:es,requestAnimFrame:kn,cancelAnimFrame:Ki};function Mr(){}Mr.extend=function(u){var d=function(){rn(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=d.__super__=this.prototype,_=Oo(p);for(var b in _.constructor=d,d.prototype=_,this)Object.prototype.hasOwnProperty.call(this,b)&&"prototype"!==b&&"__super__"!==b&&(d[b]=this[b]);return u.statics&&mt(d,u.statics),u.includes&&(function Lu(u){if(!(typeof L>"u")&&L&&L.Mixin){u=Gn(u)?u:[u];for(var d=0;d<u.length;d++)u[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(u.includes),mt.apply(null,[_].concat(u.includes))),mt(_,u),delete _.statics,delete _.includes,_.options&&(_.options=p.options?Oo(p.options):{},mt(_.options,u.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,R=_._initHooks.length;E<R;E++)_._initHooks[E].call(this)}},d},Mr.include=function(u){var d=this.prototype.options;return mt(this.prototype,u),u.options&&(this.prototype.options=d,this.mergeOptions(u.options)),this},Mr.mergeOptions=function(u){return mt(this.prototype.options,u),this},Mr.addInitHook=function(u){var d=Array.prototype.slice.call(arguments,1),p="function"==typeof u?u:function(){this[u].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};var pn={on:function(u,d,p){if("object"==typeof u)for(var _ in u)this._on(_,u[_],d);else for(var b=0,E=(u=fr(u)).length;b<E;b++)this._on(u[b],d,p);return this},off:function(u,d,p){if(arguments.length)if("object"==typeof u)for(var _ in u)this._off(_,u[_],d);else{u=fr(u);for(var b=1===arguments.length,E=0,R=u.length;E<R;E++)b?this._off(u[E]):this._off(u[E],d,p)}else delete this._events;return this},_on:function(u,d,p,_){if("function"==typeof d){if(!1===this._listens(u,d,p)){p===this&&(p=void 0);var b={fn:d,ctx:p};_&&(b.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(b)}}else console.warn("wrong listener type: "+typeof d)},_off:function(u,d,p){var _,b,E;if(this._events&&(_=this._events[u])){if(1===arguments.length){if(this._firingCount)for(b=0,E=_.length;b<E;b++)_[b].fn=Ht;return void delete this._events[u]}if("function"!=typeof d)return void console.warn("wrong listener type: "+typeof d);var R=this._listens(u,d,p);!1!==R&&(this._firingCount&&(_[R].fn=Ht,this._events[u]=_=_.slice()),_.splice(R,1))}},fire:function(u,d,p){if(!this.listens(u,p))return this;var _=mt({},d,{type:u,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var b=this._events[u];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,R=b.length;E<R;E++){var Z=b[E],J=Z.fn;Z.once&&this.off(u,J,Z.ctx),J.call(Z.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(u,d,p,_){"string"!=typeof u&&console.warn('"string" type argument expected');var b=d;"function"!=typeof d&&(_=!!d,b=void 0,p=void 0);var E=this._events&&this._events[u];if(E&&E.length&&!1!==this._listens(u,b,p))return!0;if(_)for(var R in this._eventParents)if(this._eventParents[R].listens(u,d,p,_))return!0;return!1},_listens:function(u,d,p){if(!this._events)return!1;var _=this._events[u]||[];if(!d)return!!_.length;p===this&&(p=void 0);for(var b=0,E=_.length;b<E;b++)if(_[b].fn===d&&_[b].ctx===p)return b;return!1},once:function(u,d,p){if("object"==typeof u)for(var _ in u)this._on(_,u[_],d,!0);else for(var b=0,E=(u=fr(u)).length;b<E;b++)this._on(u[b],d,p,!0);return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[bt(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[bt(u)],this},_propagateEvent:function(u){for(var d in this._eventParents)this._eventParents[d].fire(u.type,mt({layer:u.target,propagatedFrom:u.target},u),!0)}};pn.addEventListener=pn.on,pn.removeEventListener=pn.clearAllEventListeners=pn.off,pn.addOneTimeEventListener=pn.once,pn.fireEvent=pn.fire,pn.hasEventListeners=pn.listens;var Rs=Mr.extend(pn);function Ye(u,d,p){this.x=p?Math.round(u):u,this.y=p?Math.round(d):d}var At=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};function qe(u,d,p){return u instanceof Ye?u:Gn(u)?new Ye(u[0],u[1]):null==u?u:"object"==typeof u&&"x"in u&&"y"in u?new Ye(u.x,u.y):new Ye(u,d,p)}function on(u,d){if(u)for(var p=d?[u,d]:u,_=0,b=p.length;_<b;_++)this.extend(p[_])}function Di(u,d){return!u||u instanceof on?u:new on(u,d)}function gi(u,d){if(u)for(var p=d?[u,d]:u,_=0,b=p.length;_<b;_++)this.extend(p[_])}function $e(u,d){return u instanceof gi?u:new gi(u,d)}function Vt(u,d,p){if(isNaN(u)||isNaN(d))throw new Error("Invalid LatLng object: ("+u+", "+d+")");this.lat=+u,this.lng=+d,void 0!==p&&(this.alt=+p)}function ft(u,d,p){return u instanceof Vt?u:Gn(u)&&"object"!=typeof u[0]?3===u.length?new Vt(u[0],u[1],u[2]):2===u.length?new Vt(u[0],u[1]):null:null==u?u:"object"==typeof u&&"lat"in u?new Vt(u.lat,"lng"in u?u.lng:u.lon,u.alt):void 0===d?null:new Vt(u,d,p)}Ye.prototype={clone:function(){return new Ye(this.x,this.y)},add:function(u){return this.clone()._add(qe(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(qe(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new Ye(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new Ye(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=At(this.x),this.y=At(this.y),this},distanceTo:function(u){var d=(u=qe(u)).x-this.x,p=u.y-this.y;return Math.sqrt(d*d+p*p)},equals:function(u){return(u=qe(u)).x===this.x&&u.y===this.y},contains:function(u){return u=qe(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+ki(this.x)+", "+ki(this.y)+")"}},on.prototype={extend:function(u){var d,p;if(!u)return this;if(u instanceof Ye||"number"==typeof u[0]||"x"in u)d=p=qe(u);else if(p=(u=Di(u)).max,!(d=u.min)||!p)return this;return this.min||this.max?(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)):(this.min=d.clone(),this.max=p.clone()),this},getCenter:function(u){return qe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return qe(this.min.x,this.max.y)},getTopRight:function(){return qe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var d,p;return(u="number"==typeof u[0]||u instanceof Ye?qe(u):Di(u))instanceof on?(d=u.min,p=u.max):d=p=u,d.x>=this.min.x&&p.x<=this.max.x&&d.y>=this.min.y&&p.y<=this.max.y},intersects:function(u){u=Di(u);var d=this.min,p=this.max,_=u.min,b=u.max;return b.x>=d.x&&_.x<=p.x&&b.y>=d.y&&_.y<=p.y},overlaps:function(u){u=Di(u);var d=this.min,p=this.max,_=u.min,b=u.max;return b.x>d.x&&_.x<p.x&&b.y>d.y&&_.y<p.y},isValid:function(){return!(!this.min||!this.max)},pad:function(u){var d=this.min,p=this.max,_=Math.abs(d.x-p.x)*u,b=Math.abs(d.y-p.y)*u;return Di(qe(d.x-_,d.y-b),qe(p.x+_,p.y+b))},equals:function(u){return!!u&&(u=Di(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight()))}},gi.prototype={extend:function(u){var _,b,d=this._southWest,p=this._northEast;if(u instanceof Vt)_=u,b=u;else{if(!(u instanceof gi))return u?this.extend(ft(u)||$e(u)):this;if(b=u._northEast,!(_=u._southWest)||!b)return this}return d||p?(d.lat=Math.min(_.lat,d.lat),d.lng=Math.min(_.lng,d.lng),p.lat=Math.max(b.lat,p.lat),p.lng=Math.max(b.lng,p.lng)):(this._southWest=new Vt(_.lat,_.lng),this._northEast=new Vt(b.lat,b.lng)),this},pad:function(u){var d=this._southWest,p=this._northEast,_=Math.abs(d.lat-p.lat)*u,b=Math.abs(d.lng-p.lng)*u;return new gi(new Vt(d.lat-_,d.lng-b),new Vt(p.lat+_,p.lng+b))},getCenter:function(){return new Vt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Vt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Vt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){u="number"==typeof u[0]||u instanceof Vt||"lat"in u?ft(u):$e(u);var _,b,d=this._southWest,p=this._northEast;return u instanceof gi?(_=u.getSouthWest(),b=u.getNorthEast()):_=b=u,_.lat>=d.lat&&b.lat<=p.lat&&_.lng>=d.lng&&b.lng<=p.lng},intersects:function(u){u=$e(u);var d=this._southWest,p=this._northEast,_=u.getSouthWest(),b=u.getNorthEast();return b.lat>=d.lat&&_.lat<=p.lat&&b.lng>=d.lng&&_.lng<=p.lng},overlaps:function(u){u=$e(u);var d=this._southWest,p=this._northEast,_=u.getSouthWest(),b=u.getNorthEast();return b.lat>d.lat&&_.lat<p.lat&&b.lng>d.lng&&_.lng<p.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,d){return!!u&&(u=$e(u),this._southWest.equals(u.getSouthWest(),d)&&this._northEast.equals(u.getNorthEast(),d))},isValid:function(){return!(!this._southWest||!this._northEast)}},Vt.prototype={equals:function(u,d){return!!u&&(u=ft(u),Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng))<=(void 0===d?1e-9:d))},toString:function(u){return"LatLng("+ki(this.lat,u)+", "+ki(this.lng,u)+")"},distanceTo:function(u){return Dt.distance(this,ft(u))},wrap:function(){return Dt.wrapLatLng(this)},toBounds:function(u){var d=180*u/40075017,p=d/Math.cos(Math.PI/180*this.lat);return $e([this.lat-d,this.lng-p],[this.lat+d,this.lng+p])},clone:function(){return new Vt(this.lat,this.lng,this.alt)}};var u,Ot={latLngToPoint:function(u,d){var p=this.projection.project(u),_=this.scale(d);return this.transformation._transform(p,_)},pointToLatLng:function(u,d){var p=this.scale(d),_=this.transformation.untransform(u,p);return this.projection.unproject(_)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var d=this.projection.bounds,p=this.scale(u);return new on(this.transformation.transform(d.min,p),this.transformation.transform(d.max,p))},infinite:!1,wrapLatLng:function(u){var d=this.wrapLng?As(u.lng,this.wrapLng,!0):u.lng;return new Vt(this.wrapLat?As(u.lat,this.wrapLat,!0):u.lat,d,u.alt)},wrapLatLngBounds:function(u){var d=u.getCenter(),p=this.wrapLatLng(d),_=d.lat-p.lat,b=d.lng-p.lng;if(0===_&&0===b)return u;var E=u.getSouthWest(),R=u.getNorthEast();return new gi(new Vt(E.lat-_,E.lng-b),new Vt(R.lat-_,R.lng-b))}},Dt=mt({},Ot,{wrapLng:[-180,180],R:6371e3,distance:function(u,d){var p=Math.PI/180,_=u.lat*p,b=d.lat*p,E=Math.sin((d.lat-u.lat)*p/2),R=Math.sin((d.lng-u.lng)*p/2),Z=E*E+Math.cos(_)*Math.cos(b)*R*R,J=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*J}}),at={R:6378137,MAX_LATITUDE:85.0511287798,project:function(u){var d=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,u.lat),-p),b=Math.sin(_*d);return new Ye(this.R*u.lng*d,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(u){var d=180/Math.PI;return new Vt((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*d,u.x*d/this.R)},bounds:(u=6378137*Math.PI,new on([-u,-u],[u,u]))};function Ea(u,d,p,_){if(Gn(u))return this._a=u[0],this._b=u[1],this._c=u[2],void(this._d=u[3]);this._a=u,this._b=d,this._c=p,this._d=_}function Da(u,d,p,_){return new Ea(u,d,p,_)}Ea.prototype={transform:function(u,d){return this._transform(u.clone(),d)},_transform:function(u,d){return u.x=(d=d||1)*(this._a*u.x+this._b),u.y=d*(this._c*u.y+this._d),u},untransform:function(u,d){return new Ye((u.x/(d=d||1)-this._b)/this._a,(u.y/d-this._d)/this._c)}};var Ns=mt({},Dt,{code:"EPSG:3857",projection:at,transformation:function(){var u=.5/(Math.PI*at.R);return Da(u,.5,-u,.5)}()}),Bu=mt({},Ns,{code:"EPSG:900913"});function wc(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Uu(u,d){var _,b,E,R,Z,J,p="";for(_=0,E=u.length;_<E;_++){for(b=0,R=(Z=u[_]).length;b<R;b++)p+=(b?"L":"M")+(J=Z[b]).x+" "+J.y;p+=d?Fe.svg?"z":"x":""}return p||"M0 0"}var Q=document.documentElement.style,q="ActiveXObject"in window,ie=q&&!document.addEventListener,ae="msLaunchUri"in navigator&&!("documentMode"in document),Ee=Kr("webkit"),Re=Kr("android"),qn=Kr("android 2")||Kr("android 3"),Bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$t=Re&&Kr("Google")&&Bt<537&&!("AudioNode"in window),An=!!window.opera,mo=!ae&&Kr("chrome"),ts=Kr("gecko")&&!Ee&&!An&&!q,Ia=!mo&&Kr("safari"),Sa=Kr("phantom"),Fn="OTransition"in Q,Ps=0===navigator.platform.indexOf("Win"),Ln=q&&"transition"in Q,_o="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qn,Tc="MozPerspective"in Q,lf=!window.L_DISABLE_3D&&(Ln||_o||Tc)&&!Fn&&!Sa,Os=typeof orientation<"u"||Kr("mobile"),zb=Os&&Ee,Gb=Os&&_o,Rm=!window.PointerEvent&&window.MSPointerEvent,Nm=!(!window.PointerEvent&&!Rm),Pm="ontouchstart"in window||!!window.TouchEvent,qb=!window.L_NO_TOUCH&&(Pm||Nm),Wb=Os&&An,kA=Os&&ts,cf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Om=function(){var u=!1;try{var d=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",Ht,d),window.removeEventListener("testPassiveEventSupport",Ht,d)}catch{}return u}(),km=!!document.createElement("canvas").getContext,Cc=!(!document.createElementNS||!wc("svg").createSVGRect),Fm=!!Cc&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(u.firstChild&&u.firstChild.namespaceURI)}(),Zb=!Cc&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var d=u.firstChild;return d.style.behavior="url(#default#VML)",d&&"object"==typeof d.adj}catch{return!1}}();function Kr(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Fe={ie:q,ielt9:ie,edge:ae,webkit:Ee,android:Re,android23:qn,androidStock:$t,opera:An,chrome:mo,gecko:ts,safari:Ia,phantom:Sa,opera12:Fn,win:Ps,ie3d:Ln,webkit3d:_o,gecko3d:Tc,any3d:lf,mobile:Os,mobileWebkit:zb,mobileWebkit3d:Gb,msPointer:Rm,pointer:Nm,touch:qb,touchNative:Pm,mobileOpera:Wb,mobileGecko:kA,retina:cf,passiveEvents:Om,canvas:km,svg:Cc,vml:Zb,inlineSvg:Fm,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Wn=Fe.msPointer?"MSPointerDown":"pointerdown",Bm=Fe.msPointer?"MSPointerMove":"pointermove",Um=Fe.msPointer?"MSPointerUp":"pointerup",jm=Fe.msPointer?"MSPointerCancel":"pointercancel",df={touchstart:Wn,touchmove:Bm,touchend:Um,touchcancel:jm},hf={touchstart:function $m(u,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Ii(d),Ec(u,d)},touchmove:Ec,touchend:Ec,touchcancel:Ec},Aa={},Hm=!1;function Fo(u,d,p){return"touchstart"===d&&function FA(){Hm||(document.addEventListener(Wn,Zn,!0),document.addEventListener(Bm,xa,!0),document.addEventListener(Um,gr,!0),document.addEventListener(jm,gr,!0),Hm=!0)}(),hf[d]?(p=hf[d].bind(this,p),u.addEventListener(df[d],p,!1),p):(console.warn("wrong event specified:",d),Ht)}function Zn(u){Aa[u.pointerId]=u}function xa(u){Aa[u.pointerId]&&(Aa[u.pointerId]=u)}function gr(u){delete Aa[u.pointerId]}function Ec(u,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){for(var p in d.touches=[],Aa)d.touches.push(Aa[p]);d.changedTouches=[d],u(d)}}var Dc=200;var ks,zu,ut,gf,Mc,Hu=xc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ma=xc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zm="webkitTransition"===Ma||"OTransition"===Ma?Ma+"End":"transitionend";function Gm(u){return"string"==typeof u?document.getElementById(u):u}function $u(u,d){var p=u.style[d]||u.currentStyle&&u.currentStyle[d];if((!p||"auto"===p)&&document.defaultView){var _=document.defaultView.getComputedStyle(u,null);p=_?_[d]:null}return"auto"===p?null:p}function xt(u,d,p){var _=document.createElement(u);return _.className=d||"",p&&p.appendChild(_),_}function gn(u){var d=u.parentNode;d&&d.removeChild(u)}function Ic(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Ra(u){var d=u.parentNode;d&&d.lastChild!==u&&d.appendChild(u)}function Tn(u){var d=u.parentNode;d&&d.firstChild!==u&&d.insertBefore(u,d.firstChild)}function Sc(u,d){if(void 0!==u.classList)return u.classList.contains(d);var p=Na(u);return p.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(p)}function Ue(u,d){if(void 0!==u.classList)for(var p=fr(d),_=0,b=p.length;_<b;_++)u.classList.add(p[_]);else if(!Sc(u,d)){var E=Na(u);Ac(u,(E?E+" ":"")+d)}}function xe(u,d){void 0!==u.classList?u.classList.remove(d):Ac(u,ba((" "+Na(u)+" ").replace(" "+d+" "," ")))}function Ac(u,d){void 0===u.className.baseVal?u.className=d:u.className.baseVal=d}function Na(u){return u.correspondingElement&&(u=u.correspondingElement),void 0===u.className.baseVal?u.className:u.className.baseVal}function xn(u,d){"opacity"in u.style?u.style.opacity=d:"filter"in u.style&&function pf(u,d){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=u.filters.item(_)}catch{if(1===d)return}d=Math.round(100*d),p?(p.Enabled=100!==d,p.Opacity=d):u.style.filter+=" progid:"+_+"(opacity="+d+")"}(u,d)}function xc(u){for(var d=document.documentElement.style,p=0;p<u.length;p++)if(u[p]in d)return u[p];return!1}function yt(u,d,p){var _=d||new Ye(0,0);u.style[Hu]=(Fe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function Cn(u,d){u._leaflet_pos=d,Fe.any3d?yt(u,d):(u.style.left=d.x+"px",u.style.top=d.y+"px")}function ln(u){return u._leaflet_pos||new Ye(0,0)}if("onselectstart"in document)ks=function(){nt(window,"selectstart",Ii)},zu=function(){Kt(window,"selectstart",Ii)};else{var He=xc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ks=function(){if(He){var u=document.documentElement.style;ut=u[He],u[He]="none"}},zu=function(){He&&(document.documentElement.style[He]=ut,ut=void 0)}}function Gu(){nt(window,"dragstart",Ii)}function qu(){Kt(window,"dragstart",Ii)}function ue(u){for(;-1===u.tabIndex;)u=u.parentNode;u.style&&(Fs(),gf=u,Mc=u.style.outlineStyle,u.style.outlineStyle="none",nt(window,"keydown",Fs))}function Fs(){gf&&(gf.style.outlineStyle=Mc,gf=void 0,Mc=void 0,Kt(window,"keydown",Fs))}function Ze(u){do{u=u.parentNode}while(!(u.offsetWidth&&u.offsetHeight||u===document.body));return u}function Mt(u){var d=u.getBoundingClientRect();return{x:d.width/u.offsetWidth||1,y:d.height/u.offsetHeight||1,boundingClientRect:d}}var Qb={__proto__:null,TRANSFORM:Hu,TRANSITION:Ma,TRANSITION_END:zm,get:Gm,getStyle:$u,create:xt,remove:gn,empty:Ic,toFront:Ra,toBack:Tn,hasClass:Sc,addClass:Ue,removeClass:xe,setClass:Ac,getClass:Na,setOpacity:xn,testProp:xc,setTransform:yt,setPosition:Cn,getPosition:ln,get disableTextSelection(){return ks},get enableTextSelection(){return zu},disableImageDrag:Gu,enableImageDrag:qu,preventOutline:ue,restoreOutline:Fs,getSizedParentNode:Ze,getScale:Mt};function nt(u,d,p,_){if(d&&"object"==typeof d)for(var b in d)mf(u,b,d[b],p);else for(var E=0,R=(d=fr(d)).length;E<R;E++)mf(u,d[E],p,_);return this}var yo="_leaflet_events";function Kt(u,d,p,_){if(1===arguments.length)Yi(u),delete u[yo];else if(d&&"object"==typeof d)for(var b in d)Wm(u,b,d[b],p);else if(d=fr(d),2===arguments.length)Yi(u,function(Z){return-1!==ko(d,Z)});else for(var E=0,R=d.length;E<R;E++)Wm(u,d[E],p,_);return this}function Yi(u,d){for(var p in u[yo]){var _=p.split(/\d/)[0];(!d||d(_))&&Wm(u,_,null,null,p)}}var qm={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mf(u,d,p,_){var b=d+bt(p)+(_?"_"+bt(_):"");if(u[yo]&&u[yo][b])return this;var E=function(Z){return p.call(_||u,Z||window.event)},R=E;!Fe.touchNative&&Fe.pointer&&0===d.indexOf("touch")?E=Fo(u,d,E):Fe.touch&&"dblclick"===d?E=function ju(u,d){u.addEventListener("dblclick",d);var _,p=0;function b(E){if(1===E.detail){if("mouse"!==E.pointerType&&(!E.sourceCapabilities||E.sourceCapabilities.firesTouchEvents)){var R=Km(E);if(!R.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})||R.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement})){var Z=Date.now();Z-p<=Dc?2==++_&&d(function ff(u){var p,_,d={};for(_ in u)d[_]=(p=u[_])&&p.bind?p.bind(u):p;return u=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}(E)):_=1,p=Z}}}else _=E.detail}return u.addEventListener("click",b),{dblclick:d,simDblclick:b}}(u,E):"addEventListener"in u?"touchstart"===d||"touchmove"===d||"wheel"===d||"mousewheel"===d?u.addEventListener(qm[d]||d,E,!!Fe.passiveEvents&&{passive:!1}):"mouseenter"===d||"mouseleave"===d?u.addEventListener(qm[d],E=function(Z){Z=Z||window.event,Qi(u,Z)&&R(Z)},!1):u.addEventListener(d,R,!1):u.attachEvent("on"+d,E),u[yo]=u[yo]||{},u[yo][b]=E}function Wm(u,d,p,_,b){b=b||d+bt(p)+(_?"_"+bt(_):"");var E=u[yo]&&u[yo][b];if(!E)return this;!Fe.touchNative&&Fe.pointer&&0===d.indexOf("touch")?function Kb(u,d,p){df[d]?u.removeEventListener(df[d],p,!1):console.warn("wrong event specified:",d)}(u,d,E):Fe.touch&&"dblclick"===d?function Yb(u,d){u.removeEventListener("dblclick",d.dblclick),u.removeEventListener("click",d.simDblclick)}(u,E):"removeEventListener"in u?u.removeEventListener(qm[d]||d,E,!1):u.detachEvent("on"+d,E),u[yo][b]=null}function mr(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Zm(u){return mf(u,"wheel",mr),this}function Rc(u){return nt(u,"mousedown touchstart dblclick contextmenu",mr),u._leaflet_disable_click=!0,this}function Ii(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Pa(u){return Ii(u),mr(u),this}function Km(u){if(u.composedPath)return u.composedPath();for(var d=[],p=u.target;p;)d.push(p),p=p.parentNode;return d}function Jb(u,d){if(!d)return new Ye(u.clientX,u.clientY);var p=Mt(d),_=p.boundingClientRect;return new Ye((u.clientX-_.left)/p.x-d.clientLeft,(u.clientY-_.top)/p.y-d.clientTop)}var Xb=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function e1(u){return Fe.edge?u.wheelDeltaY/2:u.deltaY&&0===u.deltaMode?-u.deltaY/Xb:u.deltaY&&1===u.deltaMode?20*-u.deltaY:u.deltaY&&2===u.deltaMode?60*-u.deltaY:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?20*-u.detail:u.detail?u.detail/-32765*60:0}function Qi(u,d){var p=d.relatedTarget;if(!p)return!0;try{for(;p&&p!==u;)p=p.parentNode}catch{return!1}return p!==u}var ze={__proto__:null,on:nt,off:Kt,stopPropagation:mr,disableScrollPropagation:Zm,disableClickPropagation:Rc,preventDefault:Ii,stop:Pa,getPropagationPath:Km,getMousePosition:Jb,getWheelDelta:e1,isExternalTarget:Qi,addListener:nt,removeListener:Kt},t1=Rs.extend({run:function(u,d,p,_){this.stop(),this._el=u,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ln(u),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=kn(this._animate,this),this._step()},_step:function(u){var d=+new Date-this._startTime,p=1e3*this._duration;d<p?this._runFrame(this._easeOut(d/p),u):(this._runFrame(1),this._complete())},_runFrame:function(u,d){var p=this._startPos.add(this._offset.multiplyBy(u));d&&p._round(),Cn(this._el,p),this.fire("step")},_complete:function(){Ki(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),It=Rs.extend({options:{crs:Ns,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,d){d=rn(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=jt(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),void 0!==d.zoom&&(this._zoom=this._limitZoom(d.zoom)),d.center&&void 0!==d.zoom&&this.setView(ft(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ma&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nt(this._proxy,zm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,d,p){return d=void 0===d?this._zoom:this._limitZoom(d),u=this._limitCenter(ft(u),d,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&!0!==p&&(void 0!==p.animate&&(p.zoom=mt({animate:p.animate},p.zoom),p.pan=mt({animate:p.animate,duration:p.duration},p.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,d,p.zoom):this._tryAnimatedPan(u,p.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(u,d,p.pan&&p.pan.noMoveStart),this)},setZoom:function(u,d){return this._loaded?this.setView(this.getCenter(),u,{zoom:d}):(this._zoom=u,this)},zoomIn:function(u,d){return this.setZoom(this._zoom+(u=u||(Fe.any3d?this.options.zoomDelta:1)),d)},zoomOut:function(u,d){return this.setZoom(this._zoom-(u=u||(Fe.any3d?this.options.zoomDelta:1)),d)},setZoomAround:function(u,d,p){var _=this.getZoomScale(d),b=this.getSize().divideBy(2),R=(u instanceof Ye?u:this.latLngToContainerPoint(u)).subtract(b).multiplyBy(1-1/_),Z=this.containerPointToLatLng(b.add(R));return this.setView(Z,d,{zoom:p})},_getBoundsCenterZoom:function(u,d){d=d||{},u=u.getBounds?u.getBounds():$e(u);var p=qe(d.paddingTopLeft||d.padding||[0,0]),_=qe(d.paddingBottomRight||d.padding||[0,0]),b=this.getBoundsZoom(u,!1,p.add(_));if((b="number"==typeof d.maxZoom?Math.min(d.maxZoom,b):b)===1/0)return{center:u.getCenter(),zoom:b};var E=_.subtract(p).divideBy(2),R=this.project(u.getSouthWest(),b),Z=this.project(u.getNorthEast(),b);return{center:this.unproject(R.add(Z).divideBy(2).add(E),b),zoom:b}},fitBounds:function(u,d){if(!(u=$e(u)).isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(u,d);return this.setView(p.center,p.zoom,d)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,d){return this.setView(u,this._zoom,{pan:d})},panBy:function(u,d){if(d=d||{},!(u=qe(u).round()).x&&!u.y)return this.fire("moveend");if(!0!==d.animate&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new t1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),!1!==d.animate){Ue(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,p,d.duration||.25,d.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,d,p){if(!1===(p=p||{}).animate||!Fe.any3d)return this.setView(u,d,p);this._stop();var _=this.project(this.getCenter()),b=this.project(u),E=this.getSize(),R=this._zoom;u=ft(u),d=void 0===d?R:d;var Z=Math.max(E.x,E.y),J=Z*this.getZoomScale(R,d),oe=b.distanceTo(_)||1,_e=1.42,je=_e*_e;function et(Gt){var f_=(J*J-Z*Z+(Gt?-1:1)*je*je*oe*oe)/(2*(Gt?J:Z)*je*oe),Li=Math.sqrt(f_*f_+1)-f_;return Li<1e-9?-18:Math.log(Li)}function mn(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function Mn(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}var Vn=et(0);function tl(Gt){return Z*(Mn(Vn)*function vr(Gt){return mn(Gt)/Mn(Gt)}(Vn+_e*Gt)-mn(Vn))/je}var gt=Date.now(),f1=(et(1)-Vn)/_e,Sf=p.duration?1e3*p.duration:1e3*f1*.8;return this._moveStart(!0,p.noMoveStart),function Af(){var Gt=(Date.now()-gt)/Sf,Us=function nl(Gt){return 1-Math.pow(1-Gt,1.5)}(Gt)*f1;Gt<=1?(this._flyToFrame=kn(Af,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(tl(Us)/oe)),R),this.getScaleZoom(Z/function Xi(Gt){return Z*(Mn(Vn)/Mn(Vn+_e*Gt))}(Us),R),{flyTo:!0})):this._move(u,d)._moveEnd(!0)}.call(this),this},flyToBounds:function(u,d){var p=this._getBoundsCenterZoom(u,d);return this.flyTo(p.center,p.zoom,d)},setMaxBounds:function(u){return u=$e(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var d=this.options.minZoom;return this.options.minZoom=u,this._loaded&&d!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var d=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&d!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,d){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,$e(u));return p.equals(_)||this.panTo(_,d),this._enforcingBounds=!1,this},panInside:function(u,d){var p=qe((d=d||{}).paddingTopLeft||d.padding||[0,0]),_=qe(d.paddingBottomRight||d.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(u),R=this.getPixelBounds(),Z=Di([R.min.add(p),R.max.subtract(_)]),J=Z.getSize();if(!Z.contains(E)){this._enforcingBounds=!0;var oe=E.subtract(Z.getCenter()),_e=Z.extend(E).getSize().subtract(J);b.x+=oe.x<0?-_e.x:_e.x,b.y+=oe.y<0?-_e.y:_e.y,this.panTo(this.unproject(b),d),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=mt({animate:!1,pan:!0},!0===u?{animate:!0}:u);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=d.divideBy(2).round(),b=p.divideBy(2).round(),E=_.subtract(b);return E.x||E.y?(u.animate&&u.pan?this.panBy(E):(u.pan&&this._rawPanBy(E),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(jt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:p})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=mt({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=jt(this._handleGeolocationResponse,this),p=jt(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,p,u):navigator.geolocation.getCurrentPosition(d,p,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var d=u.code,p=u.message||(1===d?"permission denied":2===d?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var _=new Vt(u.coords.latitude,u.coords.longitude),b=_.toBounds(2*u.coords.accuracy),E=this._locateOptions;if(E.setView){var R=this.getBoundsZoom(b);this.setView(_,E.maxZoom?Math.min(R,E.maxZoom):R)}var Z={latlng:_,bounds:b,timestamp:u.timestamp};for(var J in u.coords)"number"==typeof u.coords[J]&&(Z[J]=u.coords[J]);this.fire("locationfound",Z)}},addHandler:function(u,d){if(!d)return this;var p=this[u]=new d(this);return this._handlers.push(p),this.options[u]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var u;for(u in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),gn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ki(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[u].remove();for(u in this._panes)gn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,d){var _=xt("div","leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),d||this._mapPane);return u&&(this._panes[u]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds();return new gi(this.unproject(u.getBottomLeft()),this.unproject(u.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,d,p){u=$e(u),p=qe(p||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),R=u.getNorthWest(),Z=u.getSouthEast(),J=this.getSize().subtract(p),oe=Di(this.project(Z,_),this.project(R,_)).getSize(),_e=Fe.any3d?this.options.zoomSnap:1,je=J.x/oe.x,et=J.y/oe.y,mn=d?Math.max(je,et):Math.min(je,et);return _=this.getScaleZoom(mn,_),_e&&(_=Math.round(_/(_e/100))*(_e/100),_=d?Math.ceil(_/_e)*_e:Math.floor(_/_e)*_e),Math.max(b,Math.min(E,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ye(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,d){var p=this._getTopLeftPoint(u,d);return new on(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(void 0===u?this.getZoom():u)},getPane:function(u){return"string"==typeof u?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,d){var p=this.options.crs;return d=void 0===d?this._zoom:d,p.scale(u)/p.scale(d)},getScaleZoom:function(u,d){var p=this.options.crs,_=p.zoom(u*p.scale(d=void 0===d?this._zoom:d));return isNaN(_)?1/0:_},project:function(u,d){return d=void 0===d?this._zoom:d,this.options.crs.latLngToPoint(ft(u),d)},unproject:function(u,d){return d=void 0===d?this._zoom:d,this.options.crs.pointToLatLng(qe(u),d)},layerPointToLatLng:function(u){var d=qe(u).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(u){return this.project(ft(u))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(ft(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds($e(u))},distance:function(u,d){return this.options.crs.distance(ft(u),ft(d))},containerPointToLayerPoint:function(u){return qe(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return qe(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var d=this.containerPointToLayerPoint(qe(u));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ft(u)))},mouseEventToContainerPoint:function(u){return Jb(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var d=this._container=Gm(u);if(!d)throw new Error("Map container not found.");if(d._leaflet_id)throw new Error("Map container is already initialized.");nt(d,"scroll",this._onScroll,this),this._containerId=bt(d)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,Ue(u,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=$u(u,"position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&"sticky"!==d&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Cn(this._mapPane,new Ye(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(u.markerPane,"leaflet-zoom-hide"),Ue(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,d,p){Cn(this._mapPane,new Ye(0,0));var _=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var b=this._zoom!==d;this._moveStart(b,p)._move(u,d)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(u,d){return u&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(u,d,p,_){void 0===d&&(d=this._zoom);var b=this._zoom!==d;return this._zoom=d,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),_?p&&p.pinch&&this.fire("zoom",p):((b||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ki(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Cn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[bt(this._container)]=this;var d=u?Kt:nt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ki(this._resizeRequest),this._resizeRequest=kn(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,d){for(var _,p=[],b="mouseout"===d||"mouseover"===d,E=u.target||u.srcElement,R=!1;E;){if((_=this._targets[bt(E)])&&("click"===d||"preclick"===d)&&this._draggableMoved(_)){R=!0;break}if(_&&_.listens(d,!0)&&(b&&!Qi(E,u)||(p.push(_),b))||E===this._container)break;E=E.parentNode}return!p.length&&!R&&!b&&this.listens(d,!0)&&(p=[this]),p},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var d=u.target||u.srcElement;if(!(!this._loaded||d._leaflet_disable_events||"click"===u.type&&this._isClickDisabled(d))){var p=u.type;"mousedown"===p&&ue(d),this._fireDOMEvent(u,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,d,p){if("click"===u.type){var _=mt({},u);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var b=this._findEventTargets(u,d);if(p){for(var E=[],R=0;R<p.length;R++)p[R].listens(d,!0)&&E.push(p[R]);b=E.concat(b)}if(b.length){"contextmenu"===d&&Ii(u);var Z=b[0],J={originalEvent:u};if("keypress"!==u.type&&"keydown"!==u.type&&"keyup"!==u.type){var oe=Z.getLatLng&&(!Z._radius||Z._radius<=10);J.containerPoint=oe?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(u),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=oe?Z.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(R=0;R<b.length;R++)if(b[R].fire(d,J,!0),J.originalEvent._stopped||!1===b[R].options.bubblingMouseEvents&&-1!==ko(this._mouseEvents,d))return}},_draggableMoved:function(u){return(u=u.dragging&&u.dragging.enabled()?u:this).dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,d=this._handlers.length;u<d;u++)this._handlers[u].disable()},whenReady:function(u,d){return this._loaded?u.call(d||this,{target:this}):this.on("load",u,d),this},_getMapPanePos:function(){return ln(this._mapPane)||new Ye(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,d){return(u&&void 0!==d?this._getNewPixelOrigin(u,d):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,d){var p=this.getSize()._divideBy(2);return this.project(u,d)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,d,p){var _=this._getNewPixelOrigin(p,d);return this.project(u,d)._subtract(_)},_latLngBoundsToNewLayerBounds:function(u,d,p){var _=this._getNewPixelOrigin(p,d);return Di([this.project(u.getSouthWest(),d)._subtract(_),this.project(u.getNorthWest(),d)._subtract(_),this.project(u.getSouthEast(),d)._subtract(_),this.project(u.getNorthEast(),d)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,d,p){if(!p)return u;var _=this.project(u,d),b=this.getSize().divideBy(2),E=new on(_.subtract(b),_.add(b)),R=this._getBoundsOffset(E,p,d);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?u:this.unproject(_.add(R),d)},_limitOffset:function(u,d){if(!d)return u;var p=this.getPixelBounds(),_=new on(p.min.add(u),p.max.add(u));return u.add(this._getBoundsOffset(_,d))},_getBoundsOffset:function(u,d,p){var _=Di(this.project(d.getNorthEast(),p),this.project(d.getSouthWest(),p)),b=_.min.subtract(u.min),E=_.max.subtract(u.max);return new Ye(this._rebound(b.x,-E.x),this._rebound(b.y,-E.y))},_rebound:function(u,d){return u+d>0?Math.round(u-d)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(d))},_limitZoom:function(u){var d=this.getMinZoom(),p=this.getMaxZoom(),_=Fe.any3d?this.options.zoomSnap:1;return _&&(u=Math.round(u/_)*_),Math.max(d,Math.min(p,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,d){var p=this._getCenterOffset(u)._trunc();return!(!0!==(d&&d.animate)&&!this.getSize().contains(p)||(this.panBy(p,d),0))},_createAnimProxy:function(){var u=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(d){var p=Hu,_=this._proxy.style[p];yt(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),d=this.getZoom();yt(this._proxy,this.project(u,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,d,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||!1===p.animate||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(d),b=this._getCenterOffset(u)._divideBy(1-1/_);return!(!0!==p.animate&&!this.getSize().contains(b)||(kn(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(u,d,!0)},this),0))},_animateZoom:function(u,d,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=d,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:d,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(jt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var me=Mr.extend({options:{position:"topright"},initialize:function(u){rn(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var d=this._map;return d&&d.removeControl(this),this.options.position=u,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var d=this._container=this.onAdd(u),p=this.getPosition(),_=u._controlCorners[p];return Ue(d,"leaflet-control"),-1!==p.indexOf("bottom")?_.insertBefore(d,_.firstChild):_.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Nc=function(u){return new me(u)};It.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},d="leaflet-",p=this._controlContainer=xt("div",d+"control-container",this._container);function _(b,E){u[b+E]=xt("div",d+b+" "+d+E,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)gn(this._controlCorners[u]);gn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wt=me.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,d,p,_){return p<_?-1:_<p?1:0}},initialize:function(u,d,p){for(var _ in rn(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,u)this._addLayer(u[_],_);for(_ in d)this._addLayer(d[_],_,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return me.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,d){return this._addLayer(u,d),this._map?this._update():this},addOverlay:function(u,d){return this._addLayer(u,d,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var d=this._getLayer(bt(u));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",d=this._container=xt("div",u),p=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Rc(d),Zm(d);var _=this._section=xt("section",u+"-list");p&&(this._map.on("click",this.collapse,this),nt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=xt("a",u+"-toggle",d);b.href="#",b.title="Layers",b.setAttribute("role","button"),nt(b,{keydown:function(E){13===E.keyCode&&this._expandSafely()},click:function(E){Ii(E),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=xt("div",u+"-base",_),this._separator=xt("div",u+"-separator",_),this._overlaysList=xt("div",u+"-overlays",_),d.appendChild(_)},_getLayer:function(u){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&bt(this._layers[d].layer)===u)return this._layers[d]},_addLayer:function(u,d,p){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:d,overlay:p}),this.options.sortLayers&&this._layers.sort(jt(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ic(this._baseLayersList),Ic(this._overlaysList),this._layerControlInputs=[];var u,d,p,_,b=0;for(p=0;p<this._layers.length;p++)this._addItem(_=this._layers[p]),d=d||_.overlay,u=u||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(u=u&&b>1)?"":"none"),this._separator.style.display=d&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var d=this._getLayer(bt(u.target)),p=d.overlay?"add"===u.type?"overlayadd":"overlayremove":"add"===u.type?"baselayerchange":null;p&&this._map.fire(p,d)},_createRadioElement:function(u,d){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(d?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(u){var _,d=document.createElement("label"),p=this._map.hasLayer(u.layer);u.overlay?((_=document.createElement("input")).type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+bt(this),p),this._layerControlInputs.push(_),_.layerId=bt(u.layer),nt(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+u.name;var E=document.createElement("span");return d.appendChild(E),E.appendChild(_),E.appendChild(b),(u.overlay?this._overlaysList:this._baseLayersList).appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var d,p,u=this._layerControlInputs,_=[],b=[];this._handlingClick=!0;for(var E=u.length-1;E>=0;E--)p=this._getLayer((d=u[E]).layerId).layer,d.checked?_.push(p):d.checked||b.push(p);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])||this._map.addLayer(_[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d,p,u=this._layerControlInputs,_=this._map.getZoom(),b=u.length-1;b>=0;b--)p=this._getLayer((d=u[b]).layerId).layer,d.disabled=void 0!==p.options.minZoom&&_<p.options.minZoom||void 0!==p.options.maxZoom&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,nt(u,"click",Ii),this.expand();var d=this;setTimeout(function(){Kt(u,"click",Ii),d._preventClick=!1})}}),_f=me.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var d="leaflet-control-zoom",p=xt("div",d+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,d+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,d+"-out",p,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,d,p,_,b){var E=xt("a",p,_);return E.innerHTML=u,E.href="#",E.title=d,E.setAttribute("role","button"),E.setAttribute("aria-label",d),Rc(E),nt(E,"click",Pa),nt(E,"click",b,this),nt(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var u=this._map,d="leaflet-disabled";xe(this._zoomInButton,d),xe(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Ue(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Ue(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});It.mergeOptions({zoomControl:!0}),It.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _f,this.addControl(this.zoomControl))});var Qm=me.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var d="leaflet-control-scale",p=xt("div",d),_=this.options;return this._addScales(_,d+"-line",p),u.on(_.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),p},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,d,p){u.metric&&(this._mScale=xt("div",d,p)),u.imperial&&(this._iScale=xt("div",d,p))},_update:function(){var u=this._map,d=u.getSize().y/2,p=u.distance(u.containerPointToLatLng([0,d]),u.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(p)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var d=this._getRoundNum(u);this._updateScale(this._mScale,d<1e3?d+" m":d/1e3+" km",d/u)},_updateImperial:function(u){var p,_,b,d=3.2808399*u;d>5280?(_=this._getRoundNum(p=d/5280),this._updateScale(this._iScale,_+" mi",_/p)):(b=this._getRoundNum(d),this._updateScale(this._iScale,b+" ft",b/d))},_updateScale:function(u,d,p){u.style.width=Math.round(this.options.maxWidth*p)+"px",u.innerHTML=d},_getRoundNum:function(u){var d=Math.pow(10,(Math.floor(u)+"").length-1),p=u/d;return d*(p>=10?10:p>=5?5:p>=3?3:p>=2?2:1)}}),Wu=me.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(u){rn(this,u),this._attributions={}},onAdd:function(u){for(var d in u.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Rc(this._container),u._layers)u._layers[d].getAttribution&&this.addAttribution(u._layers[d].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var d in this._attributions)this._attributions[d]&&u.push(d);var p=[];this.options.prefix&&p.push(this.options.prefix),u.length&&p.push(u.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});It.mergeOptions({attributionControl:!0}),It.addInitHook(function(){this.options.attributionControl&&(new Wu).addTo(this)});me.Layers=wt,me.Zoom=_f,me.Scale=Qm,me.Attribution=Wu,Nc.layers=function(u,d,p){return new wt(u,d,p)},Nc.zoom=function(u){return new _f(u)},Nc.scale=function(u){return new Qm(u)},Nc.attribution=function(u){return new Wu(u)};var vo=Mr.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vo.addTo=function(u,d){return u.addHandler(d,this),this};var pt={Events:pn},Fc=Fe.touch?"touchstart mousedown":"mousedown",Lo=Rs.extend({options:{clickTolerance:3},initialize:function(u,d,p,_){rn(this,_),this._element=u,this._dragStartTarget=d||u,this._preventOutline=p},enable:function(){this._enabled||(nt(this._dragStartTarget,Fc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Lo._dragging===this&&this.finishDrag(!0),Kt(this._dragStartTarget,Fc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Sc(this._element,"leaflet-zoom-anim"))){if(u.touches&&1!==u.touches.length)return void(Lo._dragging===this&&this.finishDrag());if(!(Lo._dragging||u.shiftKey||1!==u.which&&1!==u.button&&!u.touches||(Lo._dragging=this,this._preventOutline&&ue(this._element),Gu(),ks(),this._moving))){this.fire("down");var d=u.touches?u.touches[0]:u,p=Ze(this._element);this._startPoint=new Ye(d.clientX,d.clientY),this._startPos=ln(this._element),this._parentScale=Mt(p);var _="mousedown"===u.type;nt(document,_?"mousemove":"touchmove",this._onMove,this),nt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1)return void(this._moved=!0);var d=u.touches&&1===u.touches.length?u.touches[0]:u,p=new Ye(d.clientX,d.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ii(u),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Cn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt(document,"mousemove touchmove",this._onMove,this),Kt(document,"mouseup touchend touchcancel",this._onUp,this),qu(),zu();var d=this._moved&&this._moving;this._moving=!1,Lo._dragging=!1,d&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Fi(u,d,p){var _,E,R,Z,J,oe,_e,je,et,b=[1,4,2,8];for(E=0,_e=u.length;E<_e;E++)u[E]._code=ka(u[E],d);for(Z=0;Z<4;Z++){for(je=b[Z],_=[],E=0,R=(_e=u.length)-1;E<_e;R=E++)oe=u[R],(J=u[E])._code&je?oe._code&je||((et=Oa(oe,J,je,d,p))._code=ka(et,d),_.push(et)):(oe._code&je&&((et=Oa(oe,J,je,d,p))._code=ka(et,d),_.push(et)),_.push(J));u=_}return u}function yf(u,d){var p,_,b,E,R,Z,J,oe;if(!u||0===u.length)throw new Error("latlngs not passed");Yr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var je=ft([0,0]),et=$e(u);et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest())<1700&&(je=Xm(u));var Mn=u.length,vr=[];for(p=0;p<Mn;p++){var Vn=ft(u[p]);vr.push(d.project(ft([Vn.lat-je.lat,Vn.lng-je.lng])))}for(Z=J=oe=0,p=0,_=Mn-1;p<Mn;_=p++)J+=((b=vr[p]).x+(E=vr[_]).x)*(R=b.y*E.x-E.y*b.x),oe+=(b.y+E.y)*R,Z+=3*R;var Xi=d.unproject(qe(0===Z?vr[0]:[J/Z,oe/Z]));return ft([Xi.lat+je.lat,Xi.lng+je.lng])}function Xm(u){for(var d=0,p=0,_=0,b=0;b<u.length;b++){var E=ft(u[b]);d+=E.lat,p+=E.lng,_++}return ft([d/_,p/_])}var Lc,sn={__proto__:null,clipPolygon:Fi,polygonCenter:yf,centroid:Xm};function n1(u,d){if(!d||!u.length)return u.slice();var p=d*d;return function vf(u,d){var p=u.length,b=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(p);b[0]=b[p-1]=1,Zu(u,b,d,0,p-1);var E,R=[];for(E=0;E<p;E++)b[E]&&R.push(u[E]);return R}(u=function e_(u,d){for(var p=[u[0]],_=1,b=0,E=u.length;_<E;_++)VA(u[_],u[b])>d&&(p.push(u[_]),b=_);return b<E-1&&p.push(u[E-1]),p}(u,p),p)}function i1(u,d,p){return Math.sqrt(Vc(u,d,p,!0))}function Zu(u,d,p,_,b){var R,Z,J,E=0;for(Z=_+1;Z<=b-1;Z++)(J=Vc(u[Z],u[_],u[b],!0))>E&&(R=Z,E=J);E>p&&(d[R]=1,Zu(u,d,p,_,R),Zu(u,d,p,R,b))}function t_(u,d,p,_,b){var Z,J,oe,E=_?Lc:ka(u,p),R=ka(d,p);for(Lc=R;;){if(!(E|R))return[u,d];if(E&R)return!1;oe=ka(J=Oa(u,d,Z=E||R,p,b),p),Z===E?(u=J,E=oe):(d=J,R=oe)}}function Oa(u,d,p,_,b){var oe,_e,E=d.x-u.x,R=d.y-u.y,Z=_.min,J=_.max;return 8&p?(oe=u.x+E*(J.y-u.y)/R,_e=J.y):4&p?(oe=u.x+E*(Z.y-u.y)/R,_e=Z.y):2&p?(oe=J.x,_e=u.y+R*(J.x-u.x)/E):1&p&&(oe=Z.x,_e=u.y+R*(Z.x-u.x)/E),new Ye(oe,_e,b)}function ka(u,d){var p=0;return u.x<d.min.x?p|=1:u.x>d.max.x&&(p|=2),u.y<d.min.y?p|=4:u.y>d.max.y&&(p|=8),p}function VA(u,d){var p=d.x-u.x,_=d.y-u.y;return p*p+_*_}function Vc(u,d,p,_){var oe,b=d.x,E=d.y,R=p.x-b,Z=p.y-E,J=R*R+Z*Z;return J>0&&((oe=((u.x-b)*R+(u.y-E)*Z)/J)>1?(b=p.x,E=p.y):oe>0&&(b+=R*oe,E+=Z*oe)),R=u.x-b,Z=u.y-E,_?R*R+Z*Z:new Ye(b,E)}function Yr(u){return!Gn(u[0])||"object"!=typeof u[0][0]&&typeof u[0][0]<"u"}function r1(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yr(u)}function Fa(u,d){var p,_,b,E,R,Z,J,oe;if(!u||0===u.length)throw new Error("latlngs not passed");Yr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var _e=ft([0,0]),je=$e(u);je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest())<1700&&(_e=Xm(u));var mn=u.length,Mn=[];for(p=0;p<mn;p++){var vr=ft(u[p]);Mn.push(d.project(ft([vr.lat-_e.lat,vr.lng-_e.lng])))}for(p=0,_=0;p<mn-1;p++)_+=Mn[p].distanceTo(Mn[p+1])/2;if(0===_)oe=Mn[0];else for(p=0,E=0;p<mn-1;p++)if((E+=b=(R=Mn[p]).distanceTo(Z=Mn[p+1]))>_){oe=[Z.x-(J=(E-_)/b)*(Z.x-R.x),Z.y-J*(Z.y-R.y)];break}var Vn=d.unproject(qe(oe));return ft([Vn.lat+_e.lat,Vn.lng+_e.lng])}var bf={__proto__:null,simplify:n1,pointToSegmentDistance:i1,closestPointOnSegment:function ge(u,d,p){return Vc(u,d,p)},clipSegment:t_,_getEdgeIntersection:Oa,_getBitCode:ka,_sqClosestPointOnSegment:Vc,isFlat:Yr,_flat:r1,polylineCenter:Fa},La={project:function(u){return new Ye(u.lng,u.lat)},unproject:function(u){return new Vt(u.y,u.x)},bounds:new on([-180,-90],[180,90])},wf={R:6378137,R_MINOR:6356752.314245179,bounds:new on([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(u){var d=Math.PI/180,p=this.R,_=u.lat*d,b=this.R_MINOR/p,E=Math.sqrt(1-b*b),R=E*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-R)/(1+R),E/2);return _=-p*Math.log(Math.max(Z,1e-10)),new Ye(u.lng*d*p,_)},unproject:function(u){for(var oe,d=180/Math.PI,p=this.R,_=this.R_MINOR/p,b=Math.sqrt(1-_*_),E=Math.exp(-u.y/p),R=Math.PI/2-2*Math.atan(E),Z=0,J=.1;Z<15&&Math.abs(J)>1e-7;Z++)oe=b*Math.sin(R),oe=Math.pow((1-oe)/(1+oe),b/2),R+=J=Math.PI/2-2*Math.atan(E*oe)-R;return new Vt(R*d,u.x*d/p)}},o1={__proto__:null,LonLat:La,Mercator:wf,SphericalMercator:at},s1=mt({},Dt,{code:"EPSG:3395",projection:wf,transformation:function(){var u=.5/(Math.PI*wf.R);return Da(u,.5,-u,.5)}()}),Tf=mt({},Dt,{code:"EPSG:4326",projection:La,transformation:Da(1/180,1,-1/180,.5)}),Va=mt({},Ot,{projection:La,transformation:Da(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,d){var p=d.lng-u.lng,_=d.lat-u.lat;return Math.sqrt(p*p+_*_)},infinite:!0});Ot.Earth=Dt,Ot.EPSG3395=s1,Ot.EPSG3857=Ns,Ot.EPSG900913=Bu,Ot.EPSG4326=Tf,Ot.Simple=Va;var Qr=Rs.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[bt(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[bt(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var d=u.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var p=this.getEvents();d.on(p,this),this.once("remove",function(){d.off(p,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});It.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var d=bt(u);return this._layers[d]||(this._layers[d]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u)),this},removeLayer:function(u){var d=bt(u);return this._layers[d]?(this._loaded&&u.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return bt(u)in this._layers},eachLayer:function(u,d){for(var p in this._layers)u.call(d,this._layers[p]);return this},_addLayers:function(u){for(var d=0,p=(u=u?Gn(u)?u:[u]:[]).length;d<p;d++)this.addLayer(u[d])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[bt(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var d=bt(u);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,d=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;u=void 0===b.minZoom?u:Math.min(u,b.minZoom),d=void 0===b.maxZoom?d:Math.max(d,b.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=u===1/0?void 0:u,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _r=Qr.extend({initialize:function(u,d){var p,_;if(rn(this,d),this._layers={},u)for(p=0,_=u.length;p<_;p++)this.addLayer(u[p])},addLayer:function(u){var d=this.getLayerId(u);return this._layers[d]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var d=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(u){return("number"==typeof u?u:this.getLayerId(u))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p,_,d=Array.prototype.slice.call(arguments,1);for(p in this._layers)(_=this._layers[p])[u]&&_[u].apply(_,d);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,d){for(var p in this._layers)u.call(d,this._layers[p]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return bt(u)}}),le=_r.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),_r.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),_r.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new gi;for(var d in this._layers){var p=this._layers[d];u.extend(p.getBounds?p.getBounds():p.getLatLng())}return u}}),ce=Mr.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){rn(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,d){var p=this._getIconUrl(u);if(!p){if("icon"===u)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,d&&"IMG"===d.tagName?d:null);return this._setIconStyles(_,u),(this.options.crossOrigin||""===this.options.crossOrigin)&&(_.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),_},_setIconStyles:function(u,d){var p=this.options,_=p[d+"Size"];"number"==typeof _&&(_=[_,_]);var b=qe(_),E=qe("shadow"===d&&p.shadowAnchor||p.iconAnchor||b&&b.divideBy(2,!0));u.className="leaflet-marker-"+d+" "+(p.className||""),E&&(u.style.marginLeft=-E.x+"px",u.style.marginTop=-E.y+"px"),b&&(u.style.width=b.x+"px",u.style.height=b.y+"px")},_createImg:function(u,d){return(d=d||document.createElement("img")).src=u,d},_getIconUrl:function(u){return Fe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});var Ls=ce.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return"string"!=typeof Ls.imagePath&&(Ls.imagePath=this._detectIconPath()),(this.options.imagePath||Ls.imagePath)+ce.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var d=function(p,_,b){var E=_.exec(p);return E&&E[b]};return(u=d(u,/^url\((['"])?(.+)\1\)$/,2))&&d(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=xt("div","leaflet-default-icon-path",document.body),d=$u(u,"background-image")||$u(u,"backgroundImage");if(document.body.removeChild(u),d=this._stripUrl(d))return d;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Ba=vo.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Lo(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var d=this._marker,p=d._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=ln(d._icon),R=p.getPixelBounds(),Z=p.getPixelOrigin(),J=Di(R.min._subtract(Z).add(b),R.max._subtract(Z).subtract(b));if(!J.contains(E)){var oe=qe((Math.max(J.max.x,E.x)-J.max.x)/(R.max.x-J.max.x)-(Math.min(J.min.x,E.x)-J.min.x)/(R.min.x-J.min.x),(Math.max(J.max.y,E.y)-J.max.y)/(R.max.y-J.max.y)-(Math.min(J.min.y,E.y)-J.min.y)/(R.min.y-J.min.y)).multiplyBy(_);p.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),Cn(d._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=kn(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(Ki(this._panRequest),this._panRequest=kn(this._adjustPan.bind(this,u)))},_onDrag:function(u){var d=this._marker,p=d._shadow,_=ln(d._icon),b=d._map.layerPointToLatLng(_);p&&Cn(p,_),d._latlng=b,u.latlng=b,u.oldLatLng=this._oldLatLng,d.fire("move",u).fire("drag",u)},_onDragEnd:function(u){Ki(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Uc=Qr.extend({options:{icon:new Ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,d){rn(this,d),this._latlng=ft(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var d=this._latlng;return this._latlng=ft(u),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=u.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,u.title&&(p.title=u.title),"IMG"===p.tagName&&(p.alt=u.alt||"")),Ue(p,d),u.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(p,"focus",this._panOnFocus,this);var b=u.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(Ue(b,d),b.alt=""),this._shadow=b,u.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(this._icon,"focus",this._panOnFocus,this),gn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Cn(this._icon,u),this._shadow&&Cn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var d=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ba)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ba(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&xn(this._icon,u),this._shadow&&xn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var d=this.options.icon.options,p=d.iconSize?qe(d.iconSize):qe(0,0),_=d.iconAnchor?qe(d.iconAnchor):qe(0,0);u.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ns=Qr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return rn(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rr=ns.extend({options:{fill:!0,radius:10},initialize:function(u,d){rn(this,d),this._latlng=ft(u),this._radius=this.options.radius},setLatLng:function(u){var d=this._latlng;return this._latlng=ft(u),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var d=u&&u.radius||this._radius;return ns.prototype.setStyle.call(this,u),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,d=this._radiusY||u,p=this._clickTolerance(),_=[u+p,d+p];this._pxBounds=new on(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var yr=Rr.extend({initialize:function(u,d,p){if("number"==typeof d&&(d=mt({},p,{radius:d})),rn(this,d),this._latlng=ft(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new gi(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:ns.prototype.setStyle,_project:function(){var u=this._latlng.lng,d=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===Dt.distance){var b=Math.PI/180,E=this._mRadius/Dt.R/b,R=p.project([d+E,u]),Z=p.project([d-E,u]),J=R.add(Z).divideBy(2),oe=p.unproject(J).lat,_e=Math.acos((Math.cos(E*b)-Math.sin(d*b)*Math.sin(oe*b))/(Math.cos(d*b)*Math.cos(oe*b)))/b;(isNaN(_e)||0===_e)&&(_e=E/Math.cos(Math.PI/180*d)),this._point=J.subtract(p.getPixelOrigin()),this._radius=isNaN(_e)?0:J.x-p.project([oe,u-_e]).x,this._radiusY=J.y-R.y}else{var je=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(je).x}this._updateBounds()}});var it=ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,d){rn(this,d),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var b,E,d=1/0,p=null,_=Vc,R=0,Z=this._parts.length;R<Z;R++)for(var J=this._parts[R],oe=1,_e=J.length;oe<_e;oe++){var je=_(u,b=J[oe-1],E=J[oe],!0);je<d&&(d=je,p=_(u,b,E))}return p&&(p.distance=Math.sqrt(d)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,d){return d=d||this._defaultShape(),u=ft(u),d.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new gi,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Yr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var d=[],p=Yr(u),_=0,b=u.length;_<b;_++)p?(d[_]=ft(u[_]),this._bounds.extend(d[_])):d[_]=this._convertLatLngs(u[_]);return d},_project:function(){var u=new on;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),d=new Ye(u,u);this._rawPxBounds&&(this._pxBounds=new on([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(u,d,p){var E,R,b=u.length;if(u[0]instanceof Vt){for(R=[],E=0;E<b;E++)R[E]=this._map.latLngToLayerPoint(u[E]),p.extend(R[E]);d.push(R)}else for(E=0;E<b;E++)this._projectLatlngs(u[E],d,p)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);var p,_,b,E,R,Z,J,d=this._parts;for(p=0,b=0,E=this._rings.length;p<E;p++)for(_=0,R=(J=this._rings[p]).length;_<R-1;_++)(Z=t_(J[_],J[_+1],u,_,!0))&&(d[b]=d[b]||[],d[b].push(Z[0]),(Z[1]!==J[_+1]||_===R-2)&&(d[b].push(Z[1]),b++))}},_simplifyPoints:function(){for(var u=this._parts,d=this.options.smoothFactor,p=0,_=u.length;p<_;p++)u[p]=n1(u[p],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,d){var p,_,b,E,R,Z,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(p=0,E=this._parts.length;p<E;p++)for(_=0,b=(R=(Z=this._parts[p]).length)-1;_<R;b=_++)if((d||0!==_)&&i1(u,Z[b],Z[_])<=J)return!0;return!1}});it._flat=r1;var is=it.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var d=it.prototype._convertLatLngs.call(this,u),p=d.length;return p>=2&&d[0]instanceof Vt&&d[0].equals(d[p-1])&&d.pop(),d},_setLatLngs:function(u){it.prototype._setLatLngs.call(this,u),Yr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,d=this.options.weight,p=new Ye(d,d);if(u=new on(u.min.subtract(p),u.max.add(p)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);for(var E,_=0,b=this._rings.length;_<b;_++)(E=Fi(this._rings[_],u,!0)).length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p,_,b,E,R,Z,J,oe,d=!1;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(E=0,J=this._parts.length;E<J;E++)for(R=0,Z=(oe=(p=this._parts[E]).length)-1;R<oe;Z=R++)(_=p[R]).y>u.y!=(b=p[Z]).y>u.y&&u.x<(b.x-_.x)*(u.y-_.y)/(b.y-_.y)+_.x&&(d=!d);return d||it.prototype._containsPoint.call(this,u,!0)}});var wo=le.extend({initialize:function(u,d){rn(this,d),this._layers={},u&&this.addData(u)},addData:function(u){var p,_,b,d=Gn(u)?u:u.features;if(d){for(p=0,_=d.length;p<_;p++)((b=d[p]).geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(u))return this;var R=Nr(u,E);return R?(R.feature=rs(u),R.defaultOptions=R.options,this.resetStyle(R),E.onEachFeature&&E.onEachFeature(u,R),this.addLayer(R)):this},resetStyle:function(u){return void 0===u?this.eachLayer(this.resetStyle,this):(u.options=mt({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(d){this._setLayerStyle(d,u)},this)},_setLayerStyle:function(u,d){u.setStyle&&("function"==typeof d&&(d=d(u.feature)),u.setStyle(d))}});function Nr(u,d){var Z,J,oe,_e,p="Feature"===u.type?u.geometry:u,_=p?p.coordinates:null,b=[],E=d&&d.pointToLayer,R=d&&d.coordsToLatLng||$c;if(!_&&!p)return null;switch(p.type){case"Point":return Ua(E,u,Z=R(_),d);case"MultiPoint":for(oe=0,_e=_.length;oe<_e;oe++)Z=R(_[oe]),b.push(Ua(E,u,Z,d));return new le(b);case"LineString":case"MultiLineString":return J=Ku(_,"LineString"===p.type?0:1,R),new it(J,d);case"Polygon":case"MultiPolygon":return J=Ku(_,"Polygon"===p.type?1:2,R),new is(J,d);case"GeometryCollection":for(oe=0,_e=p.geometries.length;oe<_e;oe++){var je=Nr({geometry:p.geometries[oe],type:"Feature",properties:u.properties},d);je&&b.push(je)}return new le(b);case"FeatureCollection":for(oe=0,_e=p.features.length;oe<_e;oe++){var et=Nr(p.features[oe],d);et&&b.push(et)}return new le(b);default:throw new Error("Invalid GeoJSON object.")}}function Ua(u,d,p,_){return u?u(d,p):new Uc(p,_&&_.markersInheritOptions&&_)}function $c(u){return new Vt(u[1],u[0],u[2])}function Ku(u,d,p){for(var R,_=[],b=0,E=u.length;b<E;b++)R=d?Ku(u[b],d-1,p):(p||$c)(u[b]),_.push(R);return _}function Yu(u,d){return void 0!==(u=ft(u)).alt?[ki(u.lng,d),ki(u.lat,d),ki(u.alt,d)]:[ki(u.lng,d),ki(u.lat,d)]}function Qu(u,d,p,_){for(var b=[],E=0,R=u.length;E<R;E++)b.push(d?Qu(u[E],Yr(u[E])?0:d-1,p,_):Yu(u[E],_));return!d&&p&&b.length>0&&b.push(b[0].slice()),b}function Vs(u,d){return u.feature?mt({},u.feature,{geometry:d}):rs(d)}function rs(u){return"Feature"===u.type||"FeatureCollection"===u.type?u:{type:"Feature",properties:{},geometry:u}}var zc={toGeoJSON:function(u){return Vs(this,{type:"Point",coordinates:Yu(this.getLatLng(),u)})}};function Ef(u,d){return new wo(u,d)}Uc.include(zc),yr.include(zc),Rr.include(zc),it.include({toGeoJSON:function(u){var d=!Yr(this._latlngs);return Vs(this,{type:(d?"Multi":"")+"LineString",coordinates:Qu(this._latlngs,d?1:0,!1,u)})}}),is.include({toGeoJSON:function(u){var d=!Yr(this._latlngs),p=d&&!Yr(this._latlngs[0]),_=Qu(this._latlngs,p?2:d?1:0,!0,u);return d||(_=[_]),Vs(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),_r.include({toMultiPoint:function(u){var d=[];return this.eachLayer(function(p){d.push(p.toGeoJSON(u).geometry.coordinates)}),Vs(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(u){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(u);var p="GeometryCollection"===d,_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(u);if(p)_.push(E.geometry);else{var R=rs(E);"FeatureCollection"===R.type?_.push.apply(_,R.features):_.push(R)}}}),p?Vs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});var l1=Ef,Ju=Qr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,d,p){this._url=u,this._bounds=$e(d),rn(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Ra(this._image),this},bringToBack:function(){return this._map&&Tn(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=$e(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u="IMG"===this._url.tagName,d=this._image=u?this._url:xt("img");Ue(d,"leaflet-image-layer"),this._zoomAnimated&&Ue(d,"leaflet-zoom-animated"),this.options.className&&Ue(d,this.options.className),d.onselectstart=Ht,d.onmousemove=Ht,d.onload=jt(this.fire,this,"load"),d.onerror=jt(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u?this._url=d.src:(d.src=this._url,d.alt=this.options.alt)},_animateZoom:function(u){var d=this._map.getZoomScale(u.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;yt(this._image,p,d)},_reset:function(){var u=this._image,d=new on(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=d.getSize();Cn(u,d.min),u.style.width=p.x+"px",u.style.height=p.y+"px"},_updateOpacity:function(){xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),i_=Ju.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u="VIDEO"===this._url.tagName,d=this._image=u?this._url:xt("video");if(Ue(d,"leaflet-image-layer"),this._zoomAnimated&&Ue(d,"leaflet-zoom-animated"),this.options.className&&Ue(d,this.options.className),d.onselectstart=Ht,d.onmousemove=Ht,d.onloadeddata=jt(this.fire,this,"load"),u){for(var p=d.getElementsByTagName("source"),_=[],b=0;b<p.length;b++)_.push(p[b].src);this._url=p.length>0?_:[d.src]}else{Gn(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var R=xt("source");R.src=this._url[E],d.appendChild(R)}}}});var r_=Ju.extend({_initImage:function(){var u=this._image=this._url;Ue(u,"leaflet-image-layer"),this._zoomAnimated&&Ue(u,"leaflet-zoom-animated"),this.options.className&&Ue(u,this.options.className),u.onselectstart=Ht,u.onmousemove=Ht}});var To=Qr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,d){u&&(u instanceof Vt||Gn(u))?(this._latlng=ft(u),rn(this,d)):(rn(this,u),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(u){return(u=arguments.length?u:this._source._map).hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&xn(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(xn(this._container,0),this._removeTimeout=setTimeout(jt(gn,void 0,this._container),200)):gn(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=ft(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ra(this._container),this},bringToBack:function(){return this._map&&Tn(this._container),this},_prepareOpen:function(u){var d=this._source;if(!d._map)return!1;if(d instanceof le){d=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){d=p[_];break}if(!d)return!1;this._source=d}if(!u)if(d.getCenter)u=d.getCenter();else if(d.getLatLng)u=d.getLatLng();else{if(!d.getBounds)throw new Error("Unable to get source layer LatLng.");u=d.getBounds().getCenter()}return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,d="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof d)u.innerHTML=d;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),d=qe(this.options.offset),p=this._getAnchor();this._zoomAnimated?Cn(this._container,u.add(p)):d=d.add(u).add(p);var _=this._containerBottom=-d.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});It.include({_initOverlay:function(u,d,p,_){var b=d;return b instanceof u||(b=new u(_).setContent(d)),p&&b.setLatLng(p),b}}),Qr.include({_initOverlay:function(u,d,p,_){var b=p;return b instanceof u?(rn(b,_),b._source=this):(b=d&&!_?d:new u(_,this)).setContent(p),b}});var Gc=To.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return!(u=arguments.length?u:this._source._map).hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,To.prototype.openOn.call(this,u)},onAdd:function(u){To.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ns||this._source.on("preclick",mr))},onRemove:function(u){To.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ns||this._source.off("preclick",mr))},getEvents:function(){var u=To.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",d=this._container=xt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=xt("div",u+"-content-wrapper",d);if(this._contentNode=xt("div",u+"-content",p),Rc(d),Zm(this._contentNode),nt(d,"contextmenu",mr),this._tipContainer=xt("div",u+"-tip-container",d),this._tip=xt("div",u+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=xt("a",u+"-close-button",d);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',nt(_,"click",function(b){Ii(b),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,d=u.style;d.width="",d.whiteSpace="nowrap";var p=u.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),d.width=p+1+"px",d.whiteSpace="",d.height="";var b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&u.offsetHeight>b?(d.height=b+"px",Ue(u,E)):xe(u,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var d=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),p=this._getAnchor();Cn(this._container,d.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var u=this._map,d=parseInt($u(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+d,_=this._containerWidth,b=new Ye(this._containerLeft,-p-this._containerBottom);b._add(ln(this._container));var E=u.layerPointToContainerPoint(b),R=qe(this.options.autoPanPadding),Z=qe(this.options.autoPanPaddingTopLeft||R),J=qe(this.options.autoPanPaddingBottomRight||R),oe=u.getSize(),_e=0,je=0;E.x+_+J.x>oe.x&&(_e=E.x+_-oe.x+J.x),E.x-_e-Z.x<0&&(_e=E.x-Z.x),E.y+p+J.y>oe.y&&(je=E.y+p-oe.y+J.y),E.y-je-Z.y<0&&(je=E.y-Z.y),(_e||je)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([_e,je]))}},_getAnchor:function(){return qe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(u,d,p){return this._initOverlay(Gc,u,d,p).openOn(this),this},closePopup:function(u){return(u=arguments.length?u:this._popup)&&u.close(),this}}),Qr.include({bindPopup:function(u,d){return this._popup=this._initOverlay(Gc,this._popup,u,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof le||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(this._popup&&this._map){Pa(u);var d=u.layer||u.target;if(this._popup._source===d&&!(d instanceof ns))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng));this._popup._source=d,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){13===u.originalEvent.keyCode&&this._openPopup(u)}});var qc=To.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){To.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){To.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=To.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){this._contentNode=this._container=xt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+bt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var d,p,_=this._map,b=this._container,E=_.latLngToContainerPoint(_.getCenter()),R=_.layerPointToContainerPoint(u),Z=this.options.direction,J=b.offsetWidth,oe=b.offsetHeight,_e=qe(this.options.offset),je=this._getAnchor();"top"===Z?(d=J/2,p=oe):"bottom"===Z?(d=J/2,p=0):"center"===Z?(d=J/2,p=oe/2):"right"===Z?(d=0,p=oe/2):"left"===Z?(d=J,p=oe/2):R.x<E.x?(Z="right",d=0,p=oe/2):(Z="left",d=J+2*(_e.x+je.x),p=oe/2),u=u.subtract(qe(d,p,!0)).add(_e).add(je),xe(b,"leaflet-tooltip-right"),xe(b,"leaflet-tooltip-left"),xe(b,"leaflet-tooltip-top"),xe(b,"leaflet-tooltip-bottom"),Ue(b,"leaflet-tooltip-"+Z),Cn(b,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&xn(this._container,u)},_animateZoom:function(u){var d=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(d)},_getAnchor:function(){return qe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});It.include({openTooltip:function(u,d,p){return this._initOverlay(qc,u,d,p).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Qr.include({bindTooltip:function(u,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qc,this._tooltip,u,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(u||!this._tooltipHandlersAdded){var d=u?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[d](p),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof le||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var d="function"==typeof u.getElement&&u.getElement();d&&(nt(d,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),nt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var d="function"==typeof u.getElement&&u.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;return void this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(u)})}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p,_,d=u.latlng;this._tooltip.options.sticky&&u.originalEvent&&(p=this._map.mouseEventToContainerPoint(u.originalEvent),_=this._map.containerPointToLayerPoint(p),d=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(d)}});var a_=ce.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var d=u&&"DIV"===u.tagName?u:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ic(d),d.appendChild(p.html)):d.innerHTML=!1!==p.html?p.html:"",p.bgPos){var _=qe(p.bgPos);d.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});ce.Default=Ls;var Xu=Qr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){rn(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),gn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ra(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ku(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof Ye?u:new Ye(u,u)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var E,d=this.getPane().children,p=-u(-1/0,1/0),_=0,b=d.length;_<b;_++)E=d[_].style.zIndex,d[_]!==this._container&&E&&(p=u(p,+E));isFinite(p)&&(this.options.zIndex=p+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){xn(this._container,this.options.opacity);var u=+new Date,d=!1,p=!1;for(var _ in this._tiles){var b=this._tiles[_];if(b.current&&b.loaded){var E=Math.min(1,(u-b.loaded)/200);xn(b.el,E),E<1?d=!0:(b.active?p=!0:this._onOpaqueTile(b),b.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),d&&(Ki(this._fadeFrame),this._fadeFrame=kn(this._updateOpacity,this))}},_onOpaqueTile:Ht,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,d=this.options.maxZoom;if(void 0!==u){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===u?(this._levels[p].el.style.zIndex=d-Math.abs(u-p),this._onUpdateLevel(p)):(gn(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[u],b=this._map;return _||((_=this._levels[u]={}).el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=d,_.origin=b.project(b.unproject(b.getPixelOrigin()),u).round(),_.zoom=u,this._setZoomTransform(_,b.getCenter(),b.getZoom()),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:Ht,_onRemoveLevel:Ht,_onCreateLevel:Ht,_pruneTiles:function(){if(this._map){var u,d,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom)return void this._removeAllTiles();for(u in this._tiles)(d=this._tiles[u]).retain=d.current;for(u in this._tiles)if((d=this._tiles[u]).current&&!d.active){var _=d.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var d in this._tiles)this._tiles[d].coords.z===u&&this._removeTile(d)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)gn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,d,p,_){var b=Math.floor(u/2),E=Math.floor(d/2),R=p-1,Z=new Ye(+b,+E);Z.z=+R;var J=this._tileCoordsToKey(Z),oe=this._tiles[J];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),R>_&&this._retainParent(b,E,R,_))},_retainChildren:function(u,d,p,_){for(var b=2*u;b<2*u+2;b++)for(var E=2*d;E<2*d+2;E++){var R=new Ye(b,E);R.z=p+1;var Z=this._tileCoordsToKey(R),J=this._tiles[Z];J&&J.active?J.retain=!0:(J&&J.loaded&&(J.retain=!0),p+1<_&&this._retainChildren(b,E,p+1,_))}},_resetView:function(u){var d=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var d=this.options;return void 0!==d.minNativeZoom&&u<d.minNativeZoom?d.minNativeZoom:void 0!==d.maxNativeZoom&&d.maxNativeZoom<u?d.maxNativeZoom:u},_setView:function(u,d,p,_){var b=Math.round(d);b=void 0!==this.options.maxZoom&&b>this.options.maxZoom||void 0!==this.options.minZoom&&b<this.options.minZoom?void 0:this._clampZoom(b),(!_||this.options.updateWhenZooming&&b!==this._tileZoom)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==b&&this._update(u),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(u,d)},_setZoomTransforms:function(u,d){for(var p in this._levels)this._setZoomTransform(this._levels[p],u,d)},_setZoomTransform:function(u,d,p){var _=this._map.getZoomScale(p,u.zoom),b=u.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(d,p)).round();Fe.any3d?yt(u.el,b,_):Cn(u.el,b)},_resetGrid:function(){var u=this._map,d=u.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,d.wrapLng[0]],_).x/p.x),Math.ceil(u.project([0,d.wrapLng[1]],_).x/p.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([d.wrapLat[0],0],_).y/p.x),Math.ceil(u.project([d.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var d=this._map,p=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),_=d.getZoomScale(p,this._tileZoom),b=d.project(u,this._tileZoom).floor(),E=d.getSize().divideBy(2*_);return new on(b.subtract(E),b.add(E))},_update:function(u){var d=this._map;if(d){var p=this._clampZoom(d.getZoom());if(void 0===u&&(u=d.getCenter()),void 0!==this._tileZoom){var _=this._getTiledPixelBounds(u),b=this._pxBoundsToTileRange(_),E=b.getCenter(),R=[],Z=this.options.keepBuffer,J=new on(b.getBottomLeft().subtract([Z,-Z]),b.getTopRight().add([Z,-Z]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var _e=this._tiles[oe].coords;(_e.z!==this._tileZoom||!J.contains(new Ye(_e.x,_e.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(p-this._tileZoom)>1)return void this._setView(u,p);for(var je=b.min.y;je<=b.max.y;je++)for(var et=b.min.x;et<=b.max.x;et++){var mn=new Ye(et,je);if(mn.z=this._tileZoom,this._isValidTile(mn)){var Mn=this._tiles[this._tileCoordsToKey(mn)];Mn?Mn.current=!0:R.push(mn)}}if(R.sort(function(Vn,Xi){return Vn.distanceTo(E)-Xi.distanceTo(E)}),0!==R.length){this._loading||(this._loading=!0,this.fire("loading"));var vr=document.createDocumentFragment();for(et=0;et<R.length;et++)this._addTile(R[et],vr);this._level.el.appendChild(vr)}}}},_isValidTile:function(u){var d=this._map.options.crs;if(!d.infinite){var p=this._globalTileRange;if(!d.wrapLng&&(u.x<p.min.x||u.x>p.max.x)||!d.wrapLat&&(u.y<p.min.y||u.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(u);return $e(this.options.bounds).overlaps(_)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var d=this._map,p=this.getTileSize(),_=u.scaleBy(p),b=_.add(p);return[d.unproject(_,u.z),d.unproject(b,u.z)]},_tileCoordsToBounds:function(u){var d=this._tileCoordsToNwSe(u),p=new gi(d[0],d[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var d=u.split(":"),p=new Ye(+d[0],+d[1]);return p.z=+d[2],p},_removeTile:function(u){var d=this._tiles[u];d&&(gn(d.el),delete this._tiles[u],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Ue(u,"leaflet-tile");var d=this.getTileSize();u.style.width=d.x+"px",u.style.height=d.y+"px",u.onselectstart=Ht,u.onmousemove=Ht,Fe.ielt9&&this.options.opacity<1&&xn(u,this.options.opacity)},_addTile:function(u,d){var p=this._getTilePos(u),_=this._tileCoordsToKey(u),b=this.createTile(this._wrapCoords(u),jt(this._tileReady,this,u));this._initTile(b),this.createTile.length<2&&kn(jt(this._tileReady,this,u,null,b)),Cn(b,p),this._tiles[_]={el:b,coords:u,current:!0},d.appendChild(b),this.fire("tileloadstart",{tile:b,coords:u})},_tileReady:function(u,d,p){d&&this.fire("tileerror",{error:d,tile:p,coords:u});var _=this._tileCoordsToKey(u);(p=this._tiles[_])&&(p.loaded=+new Date,this._map._fadeAnimated?(xn(p.el,0),Ki(this._fadeFrame),this._fadeFrame=kn(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),d||(Ue(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?kn(this._pruneTiles,this):setTimeout(jt(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var d=new Ye(this._wrapX?As(u.x,this._wrapX):u.x,this._wrapY?As(u.y,this._wrapY):u.y);return d.z=u.z,d},_pxBoundsToTileRange:function(u){var d=this.getTileSize();return new on(u.min.unscaleBy(d).floor(),u.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});var ja=Xu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,d){this._url=u,(d=rn(this,d)).detectRetina&&Fe.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),"string"==typeof d.subdomains&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,d){return this._url===u&&void 0===d&&(d=!0),this._url=u,d||this.redraw(),this},createTile:function(u,d){var p=document.createElement("img");return nt(p,"load",jt(this._tileOnLoad,this,d,p)),nt(p,"error",jt(this._tileOnError,this,d,p)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(u),p},getTileUrl:function(u){var d={r:Fe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-u.y;this.options.tms&&(d.y=p),d["-y"]=p}return wa(this._url,mt(d,this.options))},_tileOnLoad:function(u,d){Fe.ielt9?setTimeout(jt(u,this,null,d),0):u(null,d)},_tileOnError:function(u,d,p){var _=this.options.errorTileUrl;_&&d.getAttribute("src")!==_&&(d.src=_),u(p,d)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom;return this.options.zoomReverse&&(u=this.options.maxZoom-u),u+this.options.zoomOffset},_getSubdomain:function(u){var d=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var u,d;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&((d=this._tiles[u].el).onload=Ht,d.onerror=Ht,!d.complete)){d.src=Ms;var p=this._tiles[u].coords;gn(d),delete this._tiles[u],this.fire("tileabort",{tile:d,coords:p})}},_removeTile:function(u){var d=this._tiles[u];if(d)return d.el.setAttribute("src",Ms),Xu.prototype._removeTile.call(this,u)},_tileReady:function(u,d,p){if(this._map&&(!p||p.getAttribute("src")!==Ms))return Xu.prototype._tileReady.call(this,u,d,p)}});function u_(u,d){return new ja(u,d)}var l_=ja.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,d){this._url=u;var p=mt({},this.defaultWmsParams);for(var _ in d)_ in this.options||(p[_]=d[_]);var b=(d=rn(this,d)).detectRetina&&Fe.retina?2:1,E=this.getTileSize();p.width=E.x*b,p.height=E.y*b,this.wmsParams=p},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ja.prototype.onAdd.call(this,u)},getTileUrl:function(u){var d=this._tileCoordsToNwSe(u),p=this._crs,_=Di(p.project(d[0]),p.project(d[1])),b=_.min,E=_.max,R=(this._wmsVersion>=1.3&&this._crs===Tf?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),Z=ja.prototype.getTileUrl.call(this,u);return Z+bc(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(u,d){return mt(this.wmsParams,u),d||this.redraw(),this}});ja.WMS=l_,u_.wms=function Rt(u,d){return new l_(u,d)};var Vo=Qr.extend({options:{padding:.1},initialize:function(u){rn(this,u),bt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,d){var p=this._map.getZoomScale(d,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,d),E=_.multiplyBy(-p).add(b).subtract(this._map._getNewPixelOrigin(u,d));Fe.any3d?yt(this._container,E,p):Cn(this._container,E)},_reset:function(){for(var u in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,d=this._map.getSize(),p=this._map.containerPointToLayerPoint(d.multiplyBy(-u)).round();this._bounds=new on(p,p.add(d.multiplyBy(1+2*u)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Df=Vo.extend({options:{tolerance:0},getEvents:function(){var u=Vo.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");nt(u,"mousemove",this._onMouseMove,this),nt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){Ki(this._redrawRequest),delete this._ctx,gn(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var d in this._redrawBounds=null,this._layers)this._layers[d]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vo.prototype._update.call(this);var u=this._bounds,d=this._container,p=u.getSize(),_=Fe.retina?2:1;Cn(d,u.min),d.width=_*p.x,d.height=_*p.y,d.style.width=p.x+"px",d.style.height=p.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Vo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[bt(u)]=u;var d=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var d=u._order,p=d.next,_=d.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete u._order,delete this._layers[bt(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if("string"==typeof u.options.dashArray){var _,b,d=u.options.dashArray.split(/[, ]+/),p=[];for(b=0;b<d.length;b++){if(_=Number(d[b]),isNaN(_))return;p.push(_)}u.options._dashArray=p}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||kn(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var d=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new on,this._redrawBounds.extend(u._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(u._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var d=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,d=this._redrawBounds;if(this._ctx.save(),d){var p=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)u=_.layer,(!d||u._pxBounds&&u._pxBounds.intersects(d))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,d){if(this._drawing){var p,_,b,E,R=u._parts,Z=R.length,J=this._ctx;if(Z){for(J.beginPath(),p=0;p<Z;p++){for(_=0,b=R[p].length;_<b;_++)J[_?"lineTo":"moveTo"]((E=R[p][_]).x,E.y);d&&J.closePath()}this._fillStroke(J,u)}}},_updateCircle:function(u){if(this._drawing&&!u._empty()){var d=u._point,p=this._ctx,_=Math.max(Math.round(u._radius),1),b=(Math.max(Math.round(u._radiusY),1)||_)/_;1!==b&&(p.save(),p.scale(1,b)),p.beginPath(),p.arc(d.x,d.y/b,_,0,2*Math.PI,!1),1!==b&&p.restore(),this._fillStroke(p,u)}},_fillStroke:function(u,d){var p=d.options;p.fill&&(u.globalAlpha=p.fillOpacity,u.fillStyle=p.fillColor||p.color,u.fill(p.fillRule||"evenodd")),p.stroke&&0!==p.weight&&(u.setLineDash&&u.setLineDash(d.options&&d.options._dashArray||[]),u.globalAlpha=p.opacity,u.lineWidth=p.weight,u.strokeStyle=p.color,u.lineCap=p.lineCap,u.lineJoin=p.lineJoin,u.stroke())},_onClick:function(u){for(var p,_,d=this._map.mouseEventToLayerPoint(u),b=this._drawFirst;b;b=b.next)(p=b.layer).options.interactive&&p._containsPoint(d)&&("click"!==u.type&&"preclick"!==u.type||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(!!_&&[_],u)},_onMouseMove:function(u){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var d=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,d)}},_handleMouseOut:function(u){var d=this._hoveredLayer;d&&(xe(this._container,"leaflet-interactive"),this._fireEvent([d],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,d){if(!this._mouseHoverThrottled){for(var p,_,b=this._drawFirst;b;b=b.next)(p=b.layer).options.interactive&&p._containsPoint(d)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(u),_&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([_],u,"mouseover"),this._hoveredLayer=_)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],u),this._mouseHoverThrottled=!0,setTimeout(jt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,d,p){this._map._fireDOMEvent(d,p||d.type,u)},_bringToFront:function(u){var d=u._order;if(d){var p=d.next,_=d.prev;if(!p)return;p.prev=_,_?_.next=p:p&&(this._drawFirst=p),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(u)}},_bringToBack:function(u){var d=u._order;if(d){var p=d.next,_=d.prev;if(!_)return;_.next=p,p?p.prev=_:_&&(this._drawLast=_),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(u)}}});function be(u){return Fe.canvas?new Df(u):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tt={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vo.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var d=u._container=ci("shape");Ue(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",u._path=ci("path"),d.appendChild(u._path),this._updateStyle(u),this._layers[bt(u)]=u},_addPath:function(u){var d=u._container;this._container.appendChild(d),u.options.interactive&&u.addInteractiveTarget(d)},_removePath:function(u){var d=u._container;gn(d),u.removeInteractiveTarget(d),delete this._layers[bt(u)]},_updateStyle:function(u){var d=u._stroke,p=u._fill,_=u.options,b=u._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(d||(d=u._stroke=ci("stroke")),b.appendChild(d),d.weight=_.weight+"px",d.color=_.color,d.opacity=_.opacity,d.dashStyle=_.dashArray?Gn(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):"",d.endcap=_.lineCap.replace("butt","flat"),d.joinstyle=_.lineJoin):d&&(b.removeChild(d),u._stroke=null),_.fill?(p||(p=u._fill=ci("fill")),b.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(b.removeChild(p),u._fill=null)},_updateCircle:function(u){var d=u._point.round(),p=Math.round(u._radius),_=Math.round(u._radiusY||p);this._setPath(u,u._empty()?"M0 0":"AL "+d.x+","+d.y+" "+p+","+_+" 0,23592600")},_setPath:function(u,d){u._path.v=d},_bringToFront:function(u){Ra(u._container)},_bringToBack:function(u){Tn(u._container)}},Kn=Fe.vml?ci:wc,ri=Vo.extend({_initContainer:function(){this._container=Kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gn(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vo.prototype._update.call(this);var u=this._bounds,d=u.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,p.setAttribute("width",d.x),p.setAttribute("height",d.y)),Cn(p,u.min),p.setAttribute("viewBox",[u.min.x,u.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(u){var d=u._path=Kn("path");u.options.className&&Ue(d,u.options.className),u.options.interactive&&Ue(d,"leaflet-interactive"),this._updateStyle(u),this._layers[bt(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){gn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[bt(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var d=u._path,p=u.options;d&&(p.stroke?(d.setAttribute("stroke",p.color),d.setAttribute("stroke-opacity",p.opacity),d.setAttribute("stroke-width",p.weight),d.setAttribute("stroke-linecap",p.lineCap),d.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?d.setAttribute("stroke-dasharray",p.dashArray):d.removeAttribute("stroke-dasharray"),p.dashOffset?d.setAttribute("stroke-dashoffset",p.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),p.fill?(d.setAttribute("fill",p.fillColor||p.color),d.setAttribute("fill-opacity",p.fillOpacity),d.setAttribute("fill-rule",p.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(u,d){this._setPath(u,Uu(u._parts,d))},_updateCircle:function(u){var d=u._point,p=Math.max(Math.round(u._radius),1),b="a"+p+","+(Math.max(Math.round(u._radiusY),1)||p)+" 0 1,0 ",E=u._empty()?"M0 0":"M"+(d.x-p)+","+d.y+b+2*p+",0 "+b+2*-p+",0 ";this._setPath(u,E)},_setPath:function(u,d){u._path.setAttribute("d",d)},_bringToFront:function(u){Ra(u._path)},_bringToBack:function(u){Tn(u._path)}});function Bs(u){return Fe.svg||Fe.vml?new ri(u):null}Fe.vml&&ri.include(Tt),It.include({getRenderer:function(u){var d=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(u){if("overlayPane"===u||void 0===u)return!1;var d=this._paneRenderers[u];return void 0===d&&(d=this._createRenderer({pane:u}),this._paneRenderers[u]=d),d},_createRenderer:function(u){return this.options.preferCanvas&&be(u)||Bs(u)}});var Ji=is.extend({initialize:function(u,d){is.prototype.initialize.call(this,this._boundsToLatLngs(u),d)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return[(u=$e(u)).getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});ri.create=Kn,ri.pointsToPath=Uu,wo.geometryToLayer=Nr,wo.coordsToLatLng=$c,wo.coordsToLatLngs=Ku,wo.latLngToCoords=Yu,wo.latLngsToCoords=Qu,wo.getFeature=Vs,wo.asFeature=rs,It.mergeOptions({boxZoom:!0});var If=vo.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||1!==u.which&&1!==u.button)return!1;this._clearDeferredResetState(),this._resetState(),ks(),Gu(),this._startPoint=this._map.mouseEventToContainerPoint(u),nt(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var d=new on(this._point,this._startPoint),p=d.getSize();Cn(this._box,d.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(gn(this._box),xe(this._container,"leaflet-crosshair")),zu(),qu(),Kt(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if((1===u.which||1===u.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(jt(this._resetState,this),0);var d=new gi(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(u){27===u.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});It.addInitHook("addHandler","boxZoom",If),It.mergeOptions({doubleClickZoom:!0});var el=vo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var d=this._map,p=d.getZoom(),_=d.options.zoomDelta,b=u.originalEvent.shiftKey?p-_:p+_;"center"===d.options.doubleClickZoom?d.setZoom(b):d.setZoomAround(u.containerPoint,b)}});It.addInitHook("addHandler","doubleClickZoom",el),It.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var d_=vo.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Lo(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=$e(this._map.options.maxBounds);this._offsetLimit=Di(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var d=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(d),this._prunePositions(d)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,d){return u-(u-d)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var u=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;u.x<d.min.x&&(u.x=this._viscousLimit(u.x,d.min.x)),u.y<d.min.y&&(u.y=this._viscousLimit(u.y,d.min.y)),u.x>d.max.x&&(u.x=this._viscousLimit(u.x,d.max.x)),u.y>d.max.y&&(u.y=this._viscousLimit(u.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,d=Math.round(u/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-d+p)%u+d-p,E=(_+d+p)%u-d-p,R=Math.abs(b+p)<Math.abs(E+p)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(u){var d=this._map,p=d.options,_=!p.inertia||u.noInertia||this._times.length<2;if(d.fire("dragend",u),_)d.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),R=p.easeLinearity,Z=b.multiplyBy(R/((this._lastTime-this._times[0])/1e3)),J=Z.distanceTo([0,0]),oe=Math.min(p.inertiaMaxSpeed,J),_e=Z.multiplyBy(oe/J),je=oe/(p.inertiaDeceleration*R),et=_e.multiplyBy(-je/2).round();et.x||et.y?(et=d._limitOffset(et,d.options.maxBounds),kn(function(){d.panBy(et,{duration:je,easeLinearity:R,noMoveStart:!0,animate:!0})})):d.fire("moveend")}}});It.addInitHook("addHandler","dragging",d_),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var h_=vo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),nt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,d=document.documentElement,p=u.scrollTop||d.scrollTop,_=u.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var _,b,d=this._panKeys={},p=this.keyCodes;for(_=0,b=p.left.length;_<b;_++)d[p.left[_]]=[-1*u,0];for(_=0,b=p.right.length;_<b;_++)d[p.right[_]]=[u,0];for(_=0,b=p.down.length;_<b;_++)d[p.down[_]]=[0,u];for(_=0,b=p.up.length;_<b;_++)d[p.up[_]]=[0,-1*u]},_setZoomDelta:function(u){var _,b,d=this._zoomKeys={},p=this.keyCodes;for(_=0,b=p.zoomIn.length;_<b;_++)d[p.zoomIn[_]]=u;for(_=0,b=p.zoomOut.length;_<b;_++)d[p.zoomOut[_]]=-u},_addHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var _,d=u.keyCode,p=this._map;if(d in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[d],u.shiftKey&&(_=qe(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(qe(_),p.options.maxBounds)),p.options.worldCopyJump){var b=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(b)}else p.panBy(_)}else if(d in this._zoomKeys)p.setZoom(p.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!p._popup||!p._popup.options.closeOnEscapeKey)return;p.closePopup()}Pa(u)}}});It.addInitHook("addHandler","keyboard",h_),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var En=vo.extend({addHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var d=e1(u),p=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(jt(this._performZoom,this),_),Pa(u)},_performZoom:function(){var u=this._map,d=u.getZoom(),p=this._map.options.zoomSnap||0;u._stop();var b=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,E=p?Math.ceil(b/p)*p:b,R=u._limitZoom(d+(this._delta>0?E:-E))-d;this._delta=0,this._startTime=null,R&&("center"===u.options.scrollWheelZoom?u.setZoom(d+R):u.setZoomAround(this._lastMousePos,d+R))}});It.addInitHook("addHandler","scrollWheelZoom",En);It.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var Je=vo.extend({addHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),1===u.touches.length){var d=u.touches[0];this._startPos=this._newPos=new Ye(d.clientX,d.clientY),this._holdTimeout=setTimeout(jt(function(){this._cancel(),this._isTapValid()&&(nt(document,"touchend",Ii),nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),600),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Kt(document,"touchend",Ii),Kt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)},_onMove:function(u){var d=u.touches[0];this._newPos=new Ye(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,d){var p=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});p._simulated=!0,d.target.dispatchEvent(p)}});It.addInitHook("addHandler","tapHold",Je),It.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var cn=vo.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var d=this._map;if(u.touches&&2===u.touches.length&&!d._animatingZoom&&!this._zooming){var p=d.mouseEventToContainerPoint(u.touches[0]),_=d.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),Ii(u)}},_onTouchMove:function(u){if(u.touches&&2===u.touches.length&&this._zooming){var d=this._map,p=d.mouseEventToContainerPoint(u.touches[0]),_=d.mouseEventToContainerPoint(u.touches[1]),b=p.distanceTo(_)/this._startDist;if(this._zoom=d.getScaleZoom(b,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&b<1||this._zoom>d.getMaxZoom()&&b>1)&&(this._zoom=d._limitZoom(this._zoom)),"center"===d.options.touchZoom){if(this._center=this._startLatLng,1===b)return}else{var E=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(1===b&&0===E.x&&0===E.y)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Ki(this._animRequest);var R=jt(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=kn(R,this,!0),Ii(u)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Ki(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});It.addInitHook("addHandler","touchZoom",cn),It.BoxZoom=If,It.DoubleClickZoom=el,It.Drag=d_,It.Keyboard=h_,It.ScrollWheelZoom=En,It.TapHold=Je,It.TouchZoom=cn,ve.Bounds=on,ve.Browser=Fe,ve.CRS=Ot,ve.Canvas=Df,ve.Circle=yr,ve.CircleMarker=Rr,ve.Class=Mr,ve.Control=me,ve.DivIcon=a_,ve.DivOverlay=To,ve.DomEvent=ze,ve.DomUtil=Qb,ve.Draggable=Lo,ve.Evented=Rs,ve.FeatureGroup=le,ve.GeoJSON=wo,ve.GridLayer=Xu,ve.Handler=vo,ve.Icon=ce,ve.ImageOverlay=Ju,ve.LatLng=Vt,ve.LatLngBounds=gi,ve.Layer=Qr,ve.LayerGroup=_r,ve.LineUtil=bf,ve.Map=It,ve.Marker=Uc,ve.Mixin=pt,ve.Path=ns,ve.Point=Ye,ve.PolyUtil=sn,ve.Polygon=is,ve.Polyline=it,ve.Popup=Gc,ve.PosAnimation=t1,ve.Projection=o1,ve.Rectangle=Ji,ve.Renderer=Vo,ve.SVG=ri,ve.SVGOverlay=r_,ve.TileLayer=ja,ve.Tooltip=qc,ve.Transformation=Ea,ve.Util=Fu,ve.VideoOverlay=i_,ve.bind=jt,ve.bounds=Di,ve.canvas=be,ve.circle=function bo(u,d,p){return new yr(u,d,p)},ve.circleMarker=function jc(u,d){return new Rr(u,d)},ve.control=Nc,ve.divIcon=function h1(u){return new a_(u)},ve.extend=mt,ve.featureGroup=function(u,d){return new le(u,d)},ve.geoJSON=Ef,ve.geoJson=l1,ve.gridLayer=function zt(u){return new Xu(u)},ve.icon=function Bc(u){return new ce(u)},ve.imageOverlay=function(u,d,p){return new Ju(u,d,p)},ve.latLng=ft,ve.latLngBounds=$e,ve.layerGroup=function(u,d){return new _r(u,d)},ve.map=function LA(u,d){return new It(u,d)},ve.marker=function u1(u,d){return new Uc(u,d)},ve.point=qe,ve.polygon=function Cf(u,d){return new is(u,d)},ve.polyline=function Hc(u,d){return new it(u,d)},ve.popup=function(u,d){return new Gc(u,d)},ve.rectangle=function c_(u,d){return new Ji(u,d)},ve.setOptions=rn,ve.stamp=bt,ve.svg=Bs,ve.svgOverlay=function o_(u,d,p){return new r_(u,d,p)},ve.tileLayer=u_,ve.tooltip=function(u,d){return new qc(u,d)},ve.transformation=Da,ve.version="1.9.4",ve.videoOverlay=function Jr(u,d,p){return new i_(u,d,p)};var Xr=window.L;ve.noConflict=function(){return window.L=Xr,this},window.L=ve}(Ou)},614:()=>{"use strict";const va=":";const Bu=function(Q,...q){if(Bu.translate){const ae=Bu.translate(Q,q);Q=ae[0],q=ae[1]}let ie=Uu(Q[0],Q.raw[0]);for(let ae=1;ae<Q.length;ae++)ie+=q[ae-1]+Uu(Q[ae],Q.raw[ae]);return ie},wc=":";function Uu(Q,q){return q.charAt(0)===wc?Q.substring(function gi(Q,q){for(let ie=1,ae=1;ie<Q.length;ie++,ae++)if("\\"===q[ae])ae++;else if(Q[ie]===va)return ie;throw new Error(`Unterminated $localize metadata block in "${q}".`)}(Q,q)+1):Q}globalThis.$localize=Bu}},va=>{var Ou=dt=>va(va.s=dt);Ou(614),Ou(834)}]);